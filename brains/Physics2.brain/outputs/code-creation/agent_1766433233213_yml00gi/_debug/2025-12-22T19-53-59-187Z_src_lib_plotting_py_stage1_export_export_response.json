{
  "content": "FILE_EXPORT:{\"path\":\"src/lib/plotting.py\",\"size\":7865,\"encoding\":\"base64\",\"sha256\":\"4ba664c686b44785291772a31f43048d0179f7e897a452c92981435dd2e50d31\",\"content\":\"IiIiUGxvdHRpbmcgdXRpbGl0aWVzLgoKRGVzaWduZWQgZm9yIHB1YmxpY2F0aW9uLXJlYWR5IGZpZ3VyZXMgdXNlZCBhY3Jvc3MgdGhlIHByb2plY3Q6Ci0gaHlwb3RoZXNpcyByYW5raW5ncwotIGNvbnN0cmFpbnQgcHJvamVjdGlvbnMgLyBmb3JlY2FzdHMKLSBwb3N0ZXJpb3Igc3VtbWFyaWVzCi0gcm9idXN0bmVzcyBkaWFnbm9zdGljcwoKQWxsIGZ1bmN0aW9ucyByZXR1cm4gKGZpZywgYXgpIGFuZCBjYW4gb3B0aW9uYWxseSBzYXZlIHRvIGRpc2suCiIiIgoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0LCBJdGVyYWJsZSwgTGlzdCwgTWFwcGluZywgT3B0aW9uYWwsIFNlcXVlbmNlLCBUdXBsZSwgVW5pb24KCmltcG9ydCBudW1weSBhcyBucApkZWYgX2xhenlfaW1wb3J0X21wbCgpOgogICAgaW1wb3J0IG1hdHBsb3RsaWIgYXMgbXBsICAjIG5vcWE6IFdQUzQzMwogICAgaW1wb3J0IG1hdHBsb3RsaWIucHlwbG90IGFzIHBsdCAgIyBub3FhOiBXUFM0MzMKICAgIHJldHVybiBtcGwsIHBsdAoKCmRlZiBzZXRfbXBsX3N0eWxlKAogICAgKiwKICAgIGJhc2U6IHN0ciA9ICJzZWFib3JuLXYwXzgtd2hpdGVncmlkIiwKICAgIGZvbnRzaXplOiBpbnQgPSAxMCwKICAgIGxpbmV3aWR0aDogZmxvYXQgPSAxLjIsCikgLT4gTm9uZToKICAgICIiIlNldCBhIGNsZWFuLCBjb25zaXN0ZW50IG1hdHBsb3RsaWIgc3R5bGUgKGlkZW1wb3RlbnQpLiIiIgogICAgbXBsLCBfID0gX2xhenlfaW1wb3J0X21wbCgpCiAgICB0cnk6CiAgICAgICAgbXBsLnN0eWxlLnVzZShiYXNlKQogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICBwYXNzCiAgICBtcGwucmNQYXJhbXMudXBkYXRlKAogICAgICAgIHsKICAgICAgICAgICAgImZvbnQuc2l6ZSI6IGZvbnRzaXplLAogICAgICAgICAgICAiYXhlcy5sYWJlbHNpemUiOiBmb250c2l6ZSwKICAgICAgICAgICAgImF4ZXMudGl0bGVzaXplIjogZm9udHNpemUgKyAxLAogICAgICAgICAgICAibGVnZW5kLmZvbnRzaXplIjogZm9udHNpemUgLSAxLAogICAgICAgICAgICAieHRpY2subGFiZWxzaXplIjogZm9udHNpemUgLSAxLAogICAgICAgICAgICAieXRpY2subGFiZWxzaXplIjogZm9udHNpemUgLSAxLAogICAgICAgICAgICAiYXhlcy5saW5ld2lkdGgiOiBsaW5ld2lkdGgsCiAgICAgICAgICAgICJncmlkLmFscGhhIjogMC4zNSwKICAgICAgICAgICAgImZpZ3VyZS5kcGkiOiAxMjAsCiAgICAgICAgICAgICJzYXZlZmlnLmJib3giOiAidGlnaHQiLAogICAgICAgICAgICAic2F2ZWZpZy50cmFuc3BhcmVudCI6IEZhbHNlLAogICAgICAgIH0KICAgICkKCgpkZWYgc2F2ZWZpZyhmaWcsIHBhdGg6IFVuaW9uW3N0ciwgUGF0aF0sICosIGRwaTogaW50ID0gMzAwKSAtPiBQYXRoOgogICAgIiIiU2F2ZSBmaWd1cmUgdG8gKnBhdGgqIChjcmVhdGluZyBwYXJlbnRzKS4gUmV0dXJucyByZXNvbHZlZCBQYXRoLiIiIgogICAgb3V0ID0gUGF0aChwYXRoKQogICAgb3V0LnBhcmVudC5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCiAgICBmaWcuc2F2ZWZpZyhvdXQsIGRwaT1kcGkpCiAgICByZXR1cm4gb3V0LnJlc29sdmUoKQpAZGF0YWNsYXNzKGZyb3plbj1UcnVlKQpjbGFzcyBCYW5kOgogICAgeW1pbjogZmxvYXQKICAgIHltYXg6IGZsb2F0CiAgICBsYWJlbDogc3RyID0gIiIKICAgIGNvbG9yOiBzdHIgPSAiQzAiCiAgICBhbHBoYTogZmxvYXQgPSAwLjEyCgoKZGVmIHBsb3RfaHlwb3RoZXNpc19yYW5raW5nKAogICAgdGFibGU6IEFueSwKICAgICosCiAgICBsYWJlbF9jb2w6IHN0ciA9ICJoeXBvdGhlc2lzIiwKICAgIHNjb3JlX2NvbDogc3RyID0gInNjb3JlIiwKICAgIGVycl9jb2w6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgdG9wX246IGludCA9IDE1LAogICAgdGl0bGU6IHN0ciA9ICJIeXBvdGhlc2lzIHJhbmtpbmciLAogICAgeGxhYmVsOiBzdHIgPSAiU2NvcmUiLAogICAgY29sb3I6IHN0ciA9ICJDMCIsCiAgICBmaWdzaXplOiBUdXBsZVtmbG9hdCwgZmxvYXRdID0gKDYuMiwgNC4wKSwKICAgIHNhdmVfdG86IE9wdGlvbmFsW1VuaW9uW3N0ciwgUGF0aF1dID0gTm9uZSwKKToKICAgICIiIkhvcml6b250YWwgYmFyIHJhbmtpbmcgd2l0aCBvcHRpb25hbCB1bmNlcnRhaW50eSAoZXJyX2NvbCkuIiIiCiAgICBtcGwsIHBsdCA9IF9sYXp5X2ltcG9ydF9tcGwoKQogICAgc2V0X21wbF9zdHlsZSgpCgogICAgZGYgPSB0YWJsZS5jb3B5KCkgaWYgaGFzYXR0cih0YWJsZSwgImNvcHkiKSBlbHNlIHRhYmxlCiAgICBkZiA9IGRmLnNvcnRfdmFsdWVzKHNjb3JlX2NvbCwgYXNjZW5kaW5nPVRydWUpLnRhaWwodG9wX24pCiAgICBsYWJlbHMgPSBkZltsYWJlbF9jb2xdLmFzdHlwZShzdHIpLnRvX251bXB5KCkKICAgIHNjb3JlcyA9IGRmW3Njb3JlX2NvbF0udG9fbnVtcHkoKQogICAgZXJycyA9IGRmW2Vycl9jb2xdLnRvX251bXB5KCkgaWYgZXJyX2NvbCBhbmQgZXJyX2NvbCBpbiBkZi5jb2x1bW5zIGVsc2UgTm9uZQoKICAgIGZpZywgYXggPSBwbHQuc3VicGxvdHMoZmlnc2l6ZT1maWdzaXplKQogICAgeSA9IG5wLmFyYW5nZShsZW4obGFiZWxzKSkKICAgIGF4LmJhcmgoeSwgc2NvcmVzLCB4ZXJyPWVycnMsIGNvbG9yPWNvbG9yLCBhbHBoYT0wLjksIGVjb2xvcj0iMC4yIiwgY2Fwc2l6ZT0yKQogICAgYXguc2V0X3l0aWNrcyh5KQogICAgYXguc2V0X3l0aWNrbGFiZWxzKGxhYmVscykKICAgIGF4LnNldF94bGFiZWwoeGxhYmVsKQogICAgYXguc2V0X3RpdGxlKHRpdGxlKQogICAgYXguYXh2bGluZSgwLjAsIGNvbG9yPSIwLjMiLCBsdz0xLjApCiAgICBheC5tYXJnaW5zKHk9MC4wMikKCiAgICBpZiBzYXZlX3RvIGlzIG5vdCBOb25lOgogICAgICAgIHNhdmVmaWcoZmlnLCBzYXZlX3RvKQogICAgcmV0dXJuIGZpZywgYXgKZGVmIHBsb3RfY29uc3RyYWludF9wcm9qZWN0aW9uKAogICAgeDogU2VxdWVuY2VbZmxvYXRdLAogICAgeTogU2VxdWVuY2VbZmxvYXRdLAogICAgKiwKICAgIHllcnI6IE9wdGlvbmFsW1NlcXVlbmNlW2Zsb2F0XV0gPSBOb25lLAogICAgYmFuZHM6IE9wdGlvbmFsW1NlcXVlbmNlW0JhbmRdXSA9IE5vbmUsCiAgICB4bGFiZWw6IHN0ciA9ICJNb2RlbCBwYXJhbWV0ZXIiLAogICAgeWxhYmVsOiBzdHIgPSAiT2JzZXJ2YWJsZSIsCiAgICB0aXRsZTogc3RyID0gIkNvbnN0cmFpbnQgcHJvamVjdGlvbiIsCiAgICBsYWJlbDogc3RyID0gInByZWRpY3Rpb24iLAogICAgY29sb3I6IHN0ciA9ICJDMCIsCiAgICBmaWdzaXplOiBUdXBsZVtmbG9hdCwgZmxvYXRdID0gKDYuMiwgNC4wKSwKICAgIHNhdmVfdG86IE9wdGlvbmFsW1VuaW9uW3N0ciwgUGF0aF1dID0gTm9uZSwKKToKICAgICIiIkxpbmUvcG9pbnRzIHdpdGggZXJyb3IgYmFycyBhbmQgb3B0aW9uYWwgaG9yaXpvbnRhbCBhbGxvd2VkIGJhbmRzLiIiIgogICAgXywgcGx0ID0gX2xhenlfaW1wb3J0X21wbCgpCiAgICBzZXRfbXBsX3N0eWxlKCkKCiAgICB4ID0gbnAuYXNhcnJheSh4LCBkdHlwZT1mbG9hdCkKICAgIHkgPSBucC5hc2FycmF5KHksIGR0eXBlPWZsb2F0KQogICAgeWVycl9hcnIgPSBOb25lIGlmIHllcnIgaXMgTm9uZSBlbHNlIG5wLmFzYXJyYXkoeWVyciwgZHR5cGU9ZmxvYXQpCgogICAgZmlnLCBheCA9IHBsdC5zdWJwbG90cyhmaWdzaXplPWZpZ3NpemUpCiAgICBpZiBiYW5kczoKICAgICAgICBmb3IgYiBpbiBiYW5kczoKICAgICAgICAgICAgYXguYXhoc3BhbihiLnltaW4sIGIueW1heCwgY29sb3I9Yi5jb2xvciwgYWxwaGE9Yi5hbHBoYSwgbGFiZWw9Yi5sYWJlbCBvciBOb25lKQoKICAgIGlmIHllcnJfYXJyIGlzIE5vbmU6CiAgICAgICAgYXgucGxvdCh4LCB5LCBjb2xvcj1jb2xvciwgbHc9Mi4wLCBsYWJlbD1sYWJlbCkKICAgIGVsc2U6CiAgICAgICAgYXguZXJyb3JiYXIoeCwgeSwgeWVycj15ZXJyX2FyciwgZm10PSJvLSIsIGNvbG9yPWNvbG9yLCBsdz0xLjYsIG1zPTMuNSwgY2Fwc2l6ZT0yLCBsYWJlbD1sYWJlbCkKCiAgICBheC5zZXRfeGxhYmVsKHhsYWJlbCkKICAgIGF4LnNldF95bGFiZWwoeWxhYmVsKQogICAgYXguc2V0X3RpdGxlKHRpdGxlKQogICAgaWYgYmFuZHMgb3IgbGFiZWw6CiAgICAgICAgYXgubGVnZW5kKGZyYW1lb249VHJ1ZSwgbG9jPSJiZXN0IikKICAgIGF4LmdyaWQoVHJ1ZSwgd2hpY2g9ImJvdGgiKQogICAgaWYgc2F2ZV90byBpcyBub3QgTm9uZToKICAgICAgICBzYXZlZmlnKGZpZywgc2F2ZV90bykKICAgIHJldHVybiBmaWcsIGF4CmRlZiBfY3JlZGlibGVfaW50ZXJ2YWwoYTogbnAubmRhcnJheSwgcTogVHVwbGVbZmxvYXQsIGZsb2F0XSA9ICgwLjE2LCAwLjg0KSkgLT4gVHVwbGVbZmxvYXQsIGZsb2F0LCBmbG9hdF06CiAgICBhID0gbnAuYXNhcnJheShhLCBkdHlwZT1mbG9hdCkKICAgIGEgPSBhW25wLmlzZmluaXRlKGEpXQogICAgaWYgYS5zaXplID09IDA6CiAgICAgICAgcmV0dXJuIG5wLm5hbiwgbnAubmFuLCBucC5uYW4KICAgIGxvLCBtZWQsIGhpID0gbnAucXVhbnRpbGUoYSwgW3FbMF0sIDAuNSwgcVsxXV0pCiAgICByZXR1cm4gZmxvYXQobG8pLCBmbG9hdChtZWQpLCBmbG9hdChoaSkKCgpkZWYgcGxvdF9wb3N0ZXJpb3Jfc3VtbWFyeSgKICAgIHNhbXBsZXM6IE1hcHBpbmdbc3RyLCBTZXF1ZW5jZVtmbG9hdF1dLAogICAgKiwKICAgIHRydXRoczogT3B0aW9uYWxbTWFwcGluZ1tzdHIsIGZsb2F0XV0gPSBOb25lLAogICAgcTogVHVwbGVbZmxvYXQsIGZsb2F0XSA9ICgwLjE2LCAwLjg0KSwKICAgIHRpdGxlOiBzdHIgPSAiUG9zdGVyaW9yIHN1bW1hcnkiLAogICAgeGxhYmVsOiBzdHIgPSAiUGFyYW1ldGVyIiwKICAgIHlsYWJlbDogc3RyID0gIlZhbHVlIiwKICAgIGNvbG9yOiBzdHIgPSAiQzAiLAogICAgZmlnc2l6ZTogVHVwbGVbZmxvYXQsIGZsb2F0XSA9ICg2LjIsIDQuMCksCiAgICBzYXZlX3RvOiBPcHRpb25hbFtVbmlvbltzdHIsIFBhdGhdXSA9IE5vbmUsCik6CiAgICAiIiJDb21wYWN0IDFEIHBvc3RlcmlvciBzdW1tYXJ5IChtZWRpYW4gKyBjcmVkaWJsZSBpbnRlcnZhbHMgcGVyIHBhcmFtZXRlcikuIiIiCiAgICBfLCBwbHQgPSBfbGF6eV9pbXBvcnRfbXBsKCkKICAgIHNldF9tcGxfc3R5bGUoKQoKICAgIG5hbWVzID0gbGlzdChzYW1wbGVzLmtleXMoKSkKICAgIHN0YXRzID0gW19jcmVkaWJsZV9pbnRlcnZhbChucC5hc2FycmF5KHNhbXBsZXNbbl0pLCBxPXEpIGZvciBuIGluIG5hbWVzXQogICAgbG8gPSBucC5hcnJheShbc1swXSBmb3IgcyBpbiBzdGF0c10pCiAgICBtZWQgPSBucC5hcnJheShbc1sxXSBmb3IgcyBpbiBzdGF0c10pCiAgICBoaSA9IG5wLmFycmF5KFtzWzJdIGZvciBzIGluIHN0YXRzXSkKCiAgICBmaWcsIGF4ID0gcGx0LnN1YnBsb3RzKGZpZ3NpemU9Zmlnc2l6ZSkKICAgIHggPSBucC5hcmFuZ2UobGVuKG5hbWVzKSkKICAgIGF4LnZsaW5lcyh4LCBsbywgaGksIGNvbG9yPWNvbG9yLCBsdz0yLjAsIGFscGhhPTAuOSkKICAgIGF4LnNjYXR0ZXIoeCwgbWVkLCBjb2xvcj1jb2xvciwgcz0yMiwgem9yZGVyPTMsIGxhYmVsPSJtZWRpYW4iKQogICAgaWYgdHJ1dGhzOgogICAgICAgIHQgPSBucC5hcnJheShbdHJ1dGhzLmdldChuLCBucC5uYW4pIGZvciBuIGluIG5hbWVzXSwgZHR5cGU9ZmxvYXQpCiAgICAgICAgYXguc2NhdHRlcih4LCB0LCBjb2xvcj0iQzMiLCBzPTE4LCBtYXJrZXI9IngiLCB6b3JkZXI9NCwgbGFiZWw9InRydXRoIikKCiAgICBheC5zZXRfeHRpY2tzKHgpCiAgICBheC5zZXRfeHRpY2tsYWJlbHMobmFtZXMsIHJvdGF0aW9uPTMwLCBoYT0icmlnaHQiKQogICAgYXguc2V0X3lsYWJlbCh5bGFiZWwpCiAgICBheC5zZXRfeGxhYmVsKHhsYWJlbCkKICAgIGF4LnNldF90aXRsZSh0aXRsZSkKICAgIGF4LmxlZ2VuZChmcmFtZW9uPVRydWUsIGxvYz0iYmVzdCIpCiAgICBheC5tYXJnaW5zKHg9MC4wMikKICAgIGlmIHNhdmVfdG8gaXMgbm90IE5vbmU6CiAgICAgICAgc2F2ZWZpZyhmaWcsIHNhdmVfdG8pCiAgICByZXR1cm4gZmlnLCBheApkZWYgcGxvdF9yb2J1c3RuZXNzX2RpYWdub3N0aWNzKAogICAgdGFibGU6IEFueSwKICAgICosCiAgICB2YXJpYW50X2NvbDogc3RyID0gInZhcmlhbnQiLAogICAgbWV0cmljX2NvbDogc3RyID0gIm1ldHJpYyIsCiAgICB2YWx1ZV9jb2w6IHN0ciA9ICJ2YWx1ZSIsCiAgICB0aXRsZTogc3RyID0gIlJvYnVzdG5lc3MgZGlhZ25vc3RpY3MiLAogICAgeWxhYmVsOiBzdHIgPSAiTWV0cmljIHZhbHVlIiwKICAgIGZpZ3NpemU6IFR1cGxlW2Zsb2F0LCBmbG9hdF0gPSAoNy4wLCA0LjApLAogICAgc2F2ZV90bzogT3B0aW9uYWxbVW5pb25bc3RyLCBQYXRoXV0gPSBOb25lLAopOgogICAgIiIiQm94L3N0cmlwIHBsb3Qgb2YgbWV0cmljIHZhbHVlcyBhY3Jvc3MgY29tcGFjdGlmaWNhdGlvbi9mbHV4IHZhcmlhbnRzLiIiIgogICAgXywgcGx0ID0gX2xhenlfaW1wb3J0X21wbCgpCiAgICBzZXRfbXBsX3N0eWxlKCkKCiAgICBkZiA9IHRhYmxlLmNvcHkoKSBpZiBoYXNhdHRyKHRhYmxlLCAiY29weSIpIGVsc2UgdGFibGUKICAgIG1ldHJpY3MgPSBkZlttZXRyaWNfY29sXS5hc3R5cGUoc3RyKS51bmlxdWUoKS50b2xpc3QoKQogICAgdmFyaWFudHMgPSBkZlt2YXJpYW50X2NvbF0uYXN0eXBlKHN0cikudW5pcXVlKCkudG9saXN0KCkKCiAgICBmaWcsIGF4ID0gcGx0LnN1YnBsb3RzKGZpZ3NpemU9Zmlnc2l6ZSkKICAgIHBvc2l0aW9ucywgbGFiZWxzID0gW10sIFtdCiAgICBwb3MgPSAwCiAgICBmb3IgbSBpbiBtZXRyaWNzOgogICAgICAgIGZvciB2IGluIHZhcmlhbnRzOgogICAgICAgICAgICB2YWxzID0gZGZbKGRmW21ldHJpY19jb2xdID09IG0pICYgKGRmW3ZhcmlhbnRfY29sXSA9PSB2KV1bdmFsdWVfY29sXS50b19udW1weShkdHlwZT1mbG9hdCkKICAgICAgICAgICAgaWYgdmFscy5zaXplID09IDA6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBwb3NpdGlvbnMuYXBwZW5kKHBvcykKICAgICAgICAgICAgbGFiZWxzLmFwcGVuZChmInttfVxue3Z9IikKICAgICAgICAgICAgYXguYm94cGxvdCh2YWxzLCBwb3NpdGlvbnM9W3Bvc10sIHdpZHRocz0wLjYsIHNob3dmbGllcnM9RmFsc2UsIHBhdGNoX2FydGlzdD1UcnVlLAogICAgICAgICAgICAgICAgICAgICAgIGJveHByb3BzPWRpY3QoZmFjZWNvbG9yPSIwLjg1IiwgZWRnZWNvbG9yPSIwLjMiKSwKICAgICAgICAgICAgICAgICAgICAgICBtZWRpYW5wcm9wcz1kaWN0KGNvbG9yPSJDMCIsIGxpbmV3aWR0aD0xLjYpLAogICAgICAgICAgICAgICAgICAgICAgIHdoaXNrZXJwcm9wcz1kaWN0KGNvbG9yPSIwLjMiKSwgY2FwcHJvcHM9ZGljdChjb2xvcj0iMC4zIikpCiAgICAgICAgICAgIGppdHRlciA9IChucC5yYW5kb20uUmFuZG9tU3RhdGUoMCkucmFuZCh2YWxzLnNpemUpIC0gMC41KSAqIDAuMTgKICAgICAgICAgICAgYXguc2NhdHRlcihucC5mdWxsKHZhbHMuc2l6ZSwgcG9zKSArIGppdHRlciwgdmFscywgcz0xMCwgY29sb3I9IjAuMjUiLCBhbHBoYT0wLjYsIHpvcmRlcj0zKQogICAgICAgICAgICBwb3MgKz0gMQogICAgICAgIHBvcyArPSAwLjYgICMgZ2FwIGJldHdlZW4gbWV0cmljcwoKICAgIGF4LnNldF94dGlja3MocG9zaXRpb25zKQogICAgYXguc2V0X3h0aWNrbGFiZWxzKGxhYmVscywgcm90YXRpb249MCkKICAgIGF4LnNldF95bGFiZWwoeWxhYmVsKQogICAgYXguc2V0X3RpdGxlKHRpdGxlKQogICAgYXguZ3JpZChUcnVlLCBheGlzPSJ5IikKICAgIGlmIHNhdmVfdG8gaXMgbm90IE5vbmU6CiAgICAgICAgc2F2ZWZpZyhmaWcsIHNhdmVfdG8pCiAgICByZXR1cm4gZmlnLCBheAo=\"}\nDIR_STATE:[\"src/lib/io.py\",\"src/lib/plotting.py\"]",
  "reasoning": "",
  "responseId": "resp_059568b9952e38f0006949a73cbf7c819798d2c2f99b9b8cc5",
  "model": "gpt-5.2-2025-12-11",
  "usage": {
    "input_tokens": 7904,
    "input_tokens_details": {
      "cached_tokens": 0
    },
    "output_tokens": 6883,
    "output_tokens_details": {
      "reasoning_tokens": 61
    },
    "total_tokens": 14787
  },
  "hadError": false,
  "errorType": null,
  "webSearchSources": [],
  "citations": [],
  "output": [
    {
      "id": "rs_059568b9952e38f0006949a73d784c8197bd50748442245b03",
      "type": "reasoning",
      "summary": []
    },
    {
      "id": "ci_059568b9952e38f0006949a73ebad88197adfc7e0908d09d0e",
      "type": "code_interpreter_call",
      "status": "completed",
      "code": "from pathlib import Path\nimport base64, json, hashlib, gzip\n\ntarget_path = Path('/mnt/data').joinpath('src/lib/plotting.py')\nassert target_path.is_file(), 'Expected src/lib/plotting.py to exist before export'\ndata = target_path.read_bytes()\npayload = {\n  'path': 'src/lib/plotting.py',\n  'size': len(data),\n  'encoding': 'base64',\n  'sha256': hashlib.sha256(data).hexdigest(),\n  'content': None\n}\nif len(data) > 20000:\n    compressed = gzip.compress(data)\n    payload['encoding'] = 'gzip+base64'\n    payload['content'] = base64.b64encode(compressed).decode('ascii')\nelse:\n    payload['content'] = base64.b64encode(data).decode('ascii')\n\nprint('FILE_EXPORT:' + json.dumps(payload, separators=(',', ':')))\nprint('DIR_STATE:' + json.dumps(sorted(str(p.relative_to(Path(\"/mnt/data\"))) for p in target_path.parent.glob('*') if p.is_file())))",
      "container_id": "cntr_6949a1d497e081909a00da1af070d618029e616ce667a0de",
      "outputs": [
        {
          "type": "logs",
          "logs": "FILE_EXPORT:{\"path\":\"src/lib/plotting.py\",\"size\":7865,\"encoding\":\"base64\",\"sha256\":\"4ba664c686b44785291772a31f43048d0179f7e897a452c92981435dd2e50d31\",\"content\":\"IiIiUGxvdHRpbmcgdXRpbGl0aWVzLgoKRGVzaWduZWQgZm9yIHB1YmxpY2F0aW9uLXJlYWR5IGZpZ3VyZXMgdXNlZCBhY3Jvc3MgdGhlIHByb2plY3Q6Ci0gaHlwb3RoZXNpcyByYW5raW5ncwotIGNvbnN0cmFpbnQgcHJvamVjdGlvbnMgLyBmb3JlY2FzdHMKLSBwb3N0ZXJpb3Igc3VtbWFyaWVzCi0gcm9idXN0bmVzcyBkaWFnbm9zdGljcwoKQWxsIGZ1bmN0aW9ucyByZXR1cm4gKGZpZywgYXgpIGFuZCBjYW4gb3B0aW9uYWxseSBzYXZlIHRvIGRpc2suCiIiIgoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0LCBJdGVyYWJsZSwgTGlzdCwgTWFwcGluZywgT3B0aW9uYWwsIFNlcXVlbmNlLCBUdXBsZSwgVW5pb24KCmltcG9ydCBudW1weSBhcyBucApkZWYgX2xhenlfaW1wb3J0X21wbCgpOgogICAgaW1wb3J0IG1hdHBsb3RsaWIgYXMgbXBsICAjIG5vcWE6IFdQUzQzMwogICAgaW1wb3J0IG1hdHBsb3RsaWIucHlwbG90IGFzIHBsdCAgIyBub3FhOiBXUFM0MzMKICAgIHJldHVybiBtcGwsIHBsdAoKCmRlZiBzZXRfbXBsX3N0eWxlKAogICAgKiwKICAgIGJhc2U6IHN0ciA9ICJzZWFib3JuLXYwXzgtd2hpdGVncmlkIiwKICAgIGZvbnRzaXplOiBpbnQgPSAxMCwKICAgIGxpbmV3aWR0aDogZmxvYXQgPSAxLjIsCikgLT4gTm9uZToKICAgICIiIlNldCBhIGNsZWFuLCBjb25zaXN0ZW50IG1hdHBsb3RsaWIgc3R5bGUgKGlkZW1wb3RlbnQpLiIiIgogICAgbXBsLCBfID0gX2xhenlfaW1wb3J0X21wbCgpCiAgICB0cnk6CiAgICAgICAgbXBsLnN0eWxlLnVzZShiYXNlKQogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICBwYXNzCiAgICBtcGwucmNQYXJhbXMudXBkYXRlKAogICAgICAgIHsKICAgICAgICAgICAgImZvbnQuc2l6ZSI6IGZvbnRzaXplLAogICAgICAgICAgICAiYXhlcy5sYWJlbHNpemUiOiBmb250c2l6ZSwKICAgICAgICAgICAgImF4ZXMudGl0bGVzaXplIjogZm9udHNpemUgKyAxLAogICAgICAgICAgICAibGVnZW5kLmZvbnRzaXplIjogZm9udHNpemUgLSAxLAogICAgICAgICAgICAieHRpY2subGFiZWxzaXplIjogZm9udHNpemUgLSAxLAogICAgICAgICAgICAieXRpY2subGFiZWxzaXplIjogZm9udHNpemUgLSAxLAogICAgICAgICAgICAiYXhlcy5saW5ld2lkdGgiOiBsaW5ld2lkdGgsCiAgICAgICAgICAgICJncmlkLmFscGhhIjogMC4zNSwKICAgICAgICAgICAgImZpZ3VyZS5kcGkiOiAxMjAsCiAgICAgICAgICAgICJzYXZlZmlnLmJib3giOiAidGlnaHQiLAogICAgICAgICAgICAic2F2ZWZpZy50cmFuc3BhcmVudCI6IEZhbHNlLAogICAgICAgIH0KICAgICkKCgpkZWYgc2F2ZWZpZyhmaWcsIHBhdGg6IFVuaW9uW3N0ciwgUGF0aF0sICosIGRwaTogaW50ID0gMzAwKSAtPiBQYXRoOgogICAgIiIiU2F2ZSBmaWd1cmUgdG8gKnBhdGgqIChjcmVhdGluZyBwYXJlbnRzKS4gUmV0dXJucyByZXNvbHZlZCBQYXRoLiIiIgogICAgb3V0ID0gUGF0aChwYXRoKQogICAgb3V0LnBhcmVudC5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCiAgICBmaWcuc2F2ZWZpZyhvdXQsIGRwaT1kcGkpCiAgICByZXR1cm4gb3V0LnJlc29sdmUoKQpAZGF0YWNsYXNzKGZyb3plbj1UcnVlKQpjbGFzcyBCYW5kOgogICAgeW1pbjogZmxvYXQKICAgIHltYXg6IGZsb2F0CiAgICBsYWJlbDogc3RyID0gIiIKICAgIGNvbG9yOiBzdHIgPSAiQzAiCiAgICBhbHBoYTogZmxvYXQgPSAwLjEyCgoKZGVmIHBsb3RfaHlwb3RoZXNpc19yYW5raW5nKAogICAgdGFibGU6IEFueSwKICAgICosCiAgICBsYWJlbF9jb2w6IHN0ciA9ICJoeXBvdGhlc2lzIiwKICAgIHNjb3JlX2NvbDogc3RyID0gInNjb3JlIiwKICAgIGVycl9jb2w6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgdG9wX246IGludCA9IDE1LAogICAgdGl0bGU6IHN0ciA9ICJIeXBvdGhlc2lzIHJhbmtpbmciLAogICAgeGxhYmVsOiBzdHIgPSAiU2NvcmUiLAogICAgY29sb3I6IHN0ciA9ICJDMCIsCiAgICBmaWdzaXplOiBUdXBsZVtmbG9hdCwgZmxvYXRdID0gKDYuMiwgNC4wKSwKICAgIHNhdmVfdG86IE9wdGlvbmFsW1VuaW9uW3N0ciwgUGF0aF1dID0gTm9uZSwKKToKICAgICIiIkhvcml6b250YWwgYmFyIHJhbmtpbmcgd2l0aCBvcHRpb25hbCB1bmNlcnRhaW50eSAoZXJyX2NvbCkuIiIiCiAgICBtcGwsIHBsdCA9IF9sYXp5X2ltcG9ydF9tcGwoKQogICAgc2V0X21wbF9zdHlsZSgpCgogICAgZGYgPSB0YWJsZS5jb3B5KCkgaWYgaGFzYXR0cih0YWJsZSwgImNvcHkiKSBlbHNlIHRhYmxlCiAgICBkZiA9IGRmLnNvcnRfdmFsdWVzKHNjb3JlX2NvbCwgYXNjZW5kaW5nPVRydWUpLnRhaWwodG9wX24pCiAgICBsYWJlbHMgPSBkZltsYWJlbF9jb2xdLmFzdHlwZShzdHIpLnRvX251bXB5KCkKICAgIHNjb3JlcyA9IGRmW3Njb3JlX2NvbF0udG9fbnVtcHkoKQogICAgZXJycyA9IGRmW2Vycl9jb2xdLnRvX251bXB5KCkgaWYgZXJyX2NvbCBhbmQgZXJyX2NvbCBpbiBkZi5jb2x1bW5zIGVsc2UgTm9uZQoKICAgIGZpZywgYXggPSBwbHQuc3VicGxvdHMoZmlnc2l6ZT1maWdzaXplKQogICAgeSA9IG5wLmFyYW5nZShsZW4obGFiZWxzKSkKICAgIGF4LmJhcmgoeSwgc2NvcmVzLCB4ZXJyPWVycnMsIGNvbG9yPWNvbG9yLCBhbHBoYT0wLjksIGVjb2xvcj0iMC4yIiwgY2Fwc2l6ZT0yKQogICAgYXguc2V0X3l0aWNrcyh5KQogICAgYXguc2V0X3l0aWNrbGFiZWxzKGxhYmVscykKICAgIGF4LnNldF94bGFiZWwoeGxhYmVsKQogICAgYXguc2V0X3RpdGxlKHRpdGxlKQogICAgYXguYXh2bGluZSgwLjAsIGNvbG9yPSIwLjMiLCBsdz0xLjApCiAgICBheC5tYXJnaW5zKHk9MC4wMikKCiAgICBpZiBzYXZlX3RvIGlzIG5vdCBOb25lOgogICAgICAgIHNhdmVmaWcoZmlnLCBzYXZlX3RvKQogICAgcmV0dXJuIGZpZywgYXgKZGVmIHBsb3RfY29uc3RyYWludF9wcm9qZWN0aW9uKAogICAgeDogU2VxdWVuY2VbZmxvYXRdLAogICAgeTogU2VxdWVuY2VbZmxvYXRdLAogICAgKiwKICAgIHllcnI6IE9wdGlvbmFsW1NlcXVlbmNlW2Zsb2F0XV0gPSBOb25lLAogICAgYmFuZHM6IE9wdGlvbmFsW1NlcXVlbmNlW0JhbmRdXSA9IE5vbmUsCiAgICB4bGFiZWw6IHN0ciA9ICJNb2RlbCBwYXJhbWV0ZXIiLAogICAgeWxhYmVsOiBzdHIgPSAiT2JzZXJ2YWJsZSIsCiAgICB0aXRsZTogc3RyID0gIkNvbnN0cmFpbnQgcHJvamVjdGlvbiIsCiAgICBsYWJlbDogc3RyID0gInByZWRpY3Rpb24iLAogICAgY29sb3I6IHN0ciA9ICJDMCIsCiAgICBmaWdzaXplOiBUdXBsZVtmbG9hdCwgZmxvYXRdID0gKDYuMiwgNC4wKSwKICAgIHNhdmVfdG86IE9wdGlvbmFsW1VuaW9uW3N0ciwgUGF0aF1dID0gTm9uZSwKKToKICAgICIiIkxpbmUvcG9pbnRzIHdpdGggZXJyb3IgYmFycyBhbmQgb3B0aW9uYWwgaG9yaXpvbnRhbCBhbGxvd2VkIGJhbmRzLiIiIgogICAgXywgcGx0ID0gX2xhenlfaW1wb3J0X21wbCgpCiAgICBzZXRfbXBsX3N0eWxlKCkKCiAgICB4ID0gbnAuYXNhcnJheSh4LCBkdHlwZT1mbG9hdCkKICAgIHkgPSBucC5hc2FycmF5KHksIGR0eXBlPWZsb2F0KQogICAgeWVycl9hcnIgPSBOb25lIGlmIHllcnIgaXMgTm9uZSBlbHNlIG5wLmFzYXJyYXkoeWVyciwgZHR5cGU9ZmxvYXQpCgogICAgZmlnLCBheCA9IHBsdC5zdWJwbG90cyhmaWdzaXplPWZpZ3NpemUpCiAgICBpZiBiYW5kczoKICAgICAgICBmb3IgYiBpbiBiYW5kczoKICAgICAgICAgICAgYXguYXhoc3BhbihiLnltaW4sIGIueW1heCwgY29sb3I9Yi5jb2xvciwgYWxwaGE9Yi5hbHBoYSwgbGFiZWw9Yi5sYWJlbCBvciBOb25lKQoKICAgIGlmIHllcnJfYXJyIGlzIE5vbmU6CiAgICAgICAgYXgucGxvdCh4LCB5LCBjb2xvcj1jb2xvciwgbHc9Mi4wLCBsYWJlbD1sYWJlbCkKICAgIGVsc2U6CiAgICAgICAgYXguZXJyb3JiYXIoeCwgeSwgeWVycj15ZXJyX2FyciwgZm10PSJvLSIsIGNvbG9yPWNvbG9yLCBsdz0xLjYsIG1zPTMuNSwgY2Fwc2l6ZT0yLCBsYWJlbD1sYWJlbCkKCiAgICBheC5zZXRfeGxhYmVsKHhsYWJlbCkKICAgIGF4LnNldF95bGFiZWwoeWxhYmVsKQogICAgYXguc2V0X3RpdGxlKHRpdGxlKQogICAgaWYgYmFuZHMgb3IgbGFiZWw6CiAgICAgICAgYXgubGVnZW5kKGZyYW1lb249VHJ1ZSwgbG9jPSJiZXN0IikKICAgIGF4LmdyaWQoVHJ1ZSwgd2hpY2g9ImJvdGgiKQogICAgaWYgc2F2ZV90byBpcyBub3QgTm9uZToKICAgICAgICBzYXZlZmlnKGZpZywgc2F2ZV90bykKICAgIHJldHVybiBmaWcsIGF4CmRlZiBfY3JlZGlibGVfaW50ZXJ2YWwoYTogbnAubmRhcnJheSwgcTogVHVwbGVbZmxvYXQsIGZsb2F0XSA9ICgwLjE2LCAwLjg0KSkgLT4gVHVwbGVbZmxvYXQsIGZsb2F0LCBmbG9hdF06CiAgICBhID0gbnAuYXNhcnJheShhLCBkdHlwZT1mbG9hdCkKICAgIGEgPSBhW25wLmlzZmluaXRlKGEpXQogICAgaWYgYS5zaXplID09IDA6CiAgICAgICAgcmV0dXJuIG5wLm5hbiwgbnAubmFuLCBucC5uYW4KICAgIGxvLCBtZWQsIGhpID0gbnAucXVhbnRpbGUoYSwgW3FbMF0sIDAuNSwgcVsxXV0pCiAgICByZXR1cm4gZmxvYXQobG8pLCBmbG9hdChtZWQpLCBmbG9hdChoaSkKCgpkZWYgcGxvdF9wb3N0ZXJpb3Jfc3VtbWFyeSgKICAgIHNhbXBsZXM6IE1hcHBpbmdbc3RyLCBTZXF1ZW5jZVtmbG9hdF1dLAogICAgKiwKICAgIHRydXRoczogT3B0aW9uYWxbTWFwcGluZ1tzdHIsIGZsb2F0XV0gPSBOb25lLAogICAgcTogVHVwbGVbZmxvYXQsIGZsb2F0XSA9ICgwLjE2LCAwLjg0KSwKICAgIHRpdGxlOiBzdHIgPSAiUG9zdGVyaW9yIHN1bW1hcnkiLAogICAgeGxhYmVsOiBzdHIgPSAiUGFyYW1ldGVyIiwKICAgIHlsYWJlbDogc3RyID0gIlZhbHVlIiwKICAgIGNvbG9yOiBzdHIgPSAiQzAiLAogICAgZmlnc2l6ZTogVHVwbGVbZmxvYXQsIGZsb2F0XSA9ICg2LjIsIDQuMCksCiAgICBzYXZlX3RvOiBPcHRpb25hbFtVbmlvbltzdHIsIFBhdGhdXSA9IE5vbmUsCik6CiAgICAiIiJDb21wYWN0IDFEIHBvc3RlcmlvciBzdW1tYXJ5IChtZWRpYW4gKyBjcmVkaWJsZSBpbnRlcnZhbHMgcGVyIHBhcmFtZXRlcikuIiIiCiAgICBfLCBwbHQgPSBfbGF6eV9pbXBvcnRfbXBsKCkKICAgIHNldF9tcGxfc3R5bGUoKQoKICAgIG5hbWVzID0gbGlzdChzYW1wbGVzLmtleXMoKSkKICAgIHN0YXRzID0gW19jcmVkaWJsZV9pbnRlcnZhbChucC5hc2FycmF5KHNhbXBsZXNbbl0pLCBxPXEpIGZvciBuIGluIG5hbWVzXQogICAgbG8gPSBucC5hcnJheShbc1swXSBmb3IgcyBpbiBzdGF0c10pCiAgICBtZWQgPSBucC5hcnJheShbc1sxXSBmb3IgcyBpbiBzdGF0c10pCiAgICBoaSA9IG5wLmFycmF5KFtzWzJdIGZvciBzIGluIHN0YXRzXSkKCiAgICBmaWcsIGF4ID0gcGx0LnN1YnBsb3RzKGZpZ3NpemU9Zmlnc2l6ZSkKICAgIHggPSBucC5hcmFuZ2UobGVuKG5hbWVzKSkKICAgIGF4LnZsaW5lcyh4LCBsbywgaGksIGNvbG9yPWNvbG9yLCBsdz0yLjAsIGFscGhhPTAuOSkKICAgIGF4LnNjYXR0ZXIoeCwgbWVkLCBjb2xvcj1jb2xvciwgcz0yMiwgem9yZGVyPTMsIGxhYmVsPSJtZWRpYW4iKQogICAgaWYgdHJ1dGhzOgogICAgICAgIHQgPSBucC5hcnJheShbdHJ1dGhzLmdldChuLCBucC5uYW4pIGZvciBuIGluIG5hbWVzXSwgZHR5cGU9ZmxvYXQpCiAgICAgICAgYXguc2NhdHRlcih4LCB0LCBjb2xvcj0iQzMiLCBzPTE4LCBtYXJrZXI9IngiLCB6b3JkZXI9NCwgbGFiZWw9InRydXRoIikKCiAgICBheC5zZXRfeHRpY2tzKHgpCiAgICBheC5zZXRfeHRpY2tsYWJlbHMobmFtZXMsIHJvdGF0aW9uPTMwLCBoYT0icmlnaHQiKQogICAgYXguc2V0X3lsYWJlbCh5bGFiZWwpCiAgICBheC5zZXRfeGxhYmVsKHhsYWJlbCkKICAgIGF4LnNldF90aXRsZSh0aXRsZSkKICAgIGF4LmxlZ2VuZChmcmFtZW9uPVRydWUsIGxvYz0iYmVzdCIpCiAgICBheC5tYXJnaW5zKHg9MC4wMikKICAgIGlmIHNhdmVfdG8gaXMgbm90IE5vbmU6CiAgICAgICAgc2F2ZWZpZyhmaWcsIHNhdmVfdG8pCiAgICByZXR1cm4gZmlnLCBheApkZWYgcGxvdF9yb2J1c3RuZXNzX2RpYWdub3N0aWNzKAogICAgdGFibGU6IEFueSwKICAgICosCiAgICB2YXJpYW50X2NvbDogc3RyID0gInZhcmlhbnQiLAogICAgbWV0cmljX2NvbDogc3RyID0gIm1ldHJpYyIsCiAgICB2YWx1ZV9jb2w6IHN0ciA9ICJ2YWx1ZSIsCiAgICB0aXRsZTogc3RyID0gIlJvYnVzdG5lc3MgZGlhZ25vc3RpY3MiLAogICAgeWxhYmVsOiBzdHIgPSAiTWV0cmljIHZhbHVlIiwKICAgIGZpZ3NpemU6IFR1cGxlW2Zsb2F0LCBmbG9hdF0gPSAoNy4wLCA0LjApLAogICAgc2F2ZV90bzogT3B0aW9uYWxbVW5pb25bc3RyLCBQYXRoXV0gPSBOb25lLAopOgogICAgIiIiQm94L3N0cmlwIHBsb3Qgb2YgbWV0cmljIHZhbHVlcyBhY3Jvc3MgY29tcGFjdGlmaWNhdGlvbi9mbHV4IHZhcmlhbnRzLiIiIgogICAgXywgcGx0ID0gX2xhenlfaW1wb3J0X21wbCgpCiAgICBzZXRfbXBsX3N0eWxlKCkKCiAgICBkZiA9IHRhYmxlLmNvcHkoKSBpZiBoYXNhdHRyKHRhYmxlLCAiY29weSIpIGVsc2UgdGFibGUKICAgIG1ldHJpY3MgPSBkZlttZXRyaWNfY29sXS5hc3R5cGUoc3RyKS51bmlxdWUoKS50b2xpc3QoKQogICAgdmFyaWFudHMgPSBkZlt2YXJpYW50X2NvbF0uYXN0eXBlKHN0cikudW5pcXVlKCkudG9saXN0KCkKCiAgICBmaWcsIGF4ID0gcGx0LnN1YnBsb3RzKGZpZ3NpemU9Zmlnc2l6ZSkKICAgIHBvc2l0aW9ucywgbGFiZWxzID0gW10sIFtdCiAgICBwb3MgPSAwCiAgICBmb3IgbSBpbiBtZXRyaWNzOgogICAgICAgIGZvciB2IGluIHZhcmlhbnRzOgogICAgICAgICAgICB2YWxzID0gZGZbKGRmW21ldHJpY19jb2xdID09IG0pICYgKGRmW3ZhcmlhbnRfY29sXSA9PSB2KV1bdmFsdWVfY29sXS50b19udW1weShkdHlwZT1mbG9hdCkKICAgICAgICAgICAgaWYgdmFscy5zaXplID09IDA6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBwb3NpdGlvbnMuYXBwZW5kKHBvcykKICAgICAgICAgICAgbGFiZWxzLmFwcGVuZChmInttfVxue3Z9IikKICAgICAgICAgICAgYXguYm94cGxvdCh2YWxzLCBwb3NpdGlvbnM9W3Bvc10sIHdpZHRocz0wLjYsIHNob3dmbGllcnM9RmFsc2UsIHBhdGNoX2FydGlzdD1UcnVlLAogICAgICAgICAgICAgICAgICAgICAgIGJveHByb3BzPWRpY3QoZmFjZWNvbG9yPSIwLjg1IiwgZWRnZWNvbG9yPSIwLjMiKSwKICAgICAgICAgICAgICAgICAgICAgICBtZWRpYW5wcm9wcz1kaWN0KGNvbG9yPSJDMCIsIGxpbmV3aWR0aD0xLjYpLAogICAgICAgICAgICAgICAgICAgICAgIHdoaXNrZXJwcm9wcz1kaWN0KGNvbG9yPSIwLjMiKSwgY2FwcHJvcHM9ZGljdChjb2xvcj0iMC4zIikpCiAgICAgICAgICAgIGppdHRlciA9IChucC5yYW5kb20uUmFuZG9tU3RhdGUoMCkucmFuZCh2YWxzLnNpemUpIC0gMC41KSAqIDAuMTgKICAgICAgICAgICAgYXguc2NhdHRlcihucC5mdWxsKHZhbHMuc2l6ZSwgcG9zKSArIGppdHRlciwgdmFscywgcz0xMCwgY29sb3I9IjAuMjUiLCBhbHBoYT0wLjYsIHpvcmRlcj0zKQogICAgICAgICAgICBwb3MgKz0gMQogICAgICAgIHBvcyArPSAwLjYgICMgZ2FwIGJldHdlZW4gbWV0cmljcwoKICAgIGF4LnNldF94dGlja3MocG9zaXRpb25zKQogICAgYXguc2V0X3h0aWNrbGFiZWxzKGxhYmVscywgcm90YXRpb249MCkKICAgIGF4LnNldF95bGFiZWwoeWxhYmVsKQogICAgYXguc2V0X3RpdGxlKHRpdGxlKQogICAgYXguZ3JpZChUcnVlLCBheGlzPSJ5IikKICAgIGlmIHNhdmVfdG8gaXMgbm90IE5vbmU6CiAgICAgICAgc2F2ZWZpZyhmaWcsIHNhdmVfdG8pCiAgICByZXR1cm4gZmlnLCBheAo=\"}\nDIR_STATE:[\"src/lib/io.py\", \"src/lib/plotting.py\"]\n"
        }
      ]
    },
    {
      "id": "msg_059568b9952e38f0006949a74212108197860b5e774b7933f9",
      "type": "message",
      "status": "completed",
      "content": [
        {
          "type": "output_text",
          "annotations": [],
          "logprobs": [],
          "text": "FILE_EXPORT:{\"path\":\"src/lib/plotting.py\",\"size\":7865,\"encoding\":\"base64\",\"sha256\":\"4ba664c686b44785291772a31f43048d0179f7e897a452c92981435dd2e50d31\",\"content\":\"IiIiUGxvdHRpbmcgdXRpbGl0aWVzLgoKRGVzaWduZWQgZm9yIHB1YmxpY2F0aW9uLXJlYWR5IGZpZ3VyZXMgdXNlZCBhY3Jvc3MgdGhlIHByb2plY3Q6Ci0gaHlwb3RoZXNpcyByYW5raW5ncwotIGNvbnN0cmFpbnQgcHJvamVjdGlvbnMgLyBmb3JlY2FzdHMKLSBwb3N0ZXJpb3Igc3VtbWFyaWVzCi0gcm9idXN0bmVzcyBkaWFnbm9zdGljcwoKQWxsIGZ1bmN0aW9ucyByZXR1cm4gKGZpZywgYXgpIGFuZCBjYW4gb3B0aW9uYWxseSBzYXZlIHRvIGRpc2suCiIiIgoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0LCBJdGVyYWJsZSwgTGlzdCwgTWFwcGluZywgT3B0aW9uYWwsIFNlcXVlbmNlLCBUdXBsZSwgVW5pb24KCmltcG9ydCBudW1weSBhcyBucApkZWYgX2xhenlfaW1wb3J0X21wbCgpOgogICAgaW1wb3J0IG1hdHBsb3RsaWIgYXMgbXBsICAjIG5vcWE6IFdQUzQzMwogICAgaW1wb3J0IG1hdHBsb3RsaWIucHlwbG90IGFzIHBsdCAgIyBub3FhOiBXUFM0MzMKICAgIHJldHVybiBtcGwsIHBsdAoKCmRlZiBzZXRfbXBsX3N0eWxlKAogICAgKiwKICAgIGJhc2U6IHN0ciA9ICJzZWFib3JuLXYwXzgtd2hpdGVncmlkIiwKICAgIGZvbnRzaXplOiBpbnQgPSAxMCwKICAgIGxpbmV3aWR0aDogZmxvYXQgPSAxLjIsCikgLT4gTm9uZToKICAgICIiIlNldCBhIGNsZWFuLCBjb25zaXN0ZW50IG1hdHBsb3RsaWIgc3R5bGUgKGlkZW1wb3RlbnQpLiIiIgogICAgbXBsLCBfID0gX2xhenlfaW1wb3J0X21wbCgpCiAgICB0cnk6CiAgICAgICAgbXBsLnN0eWxlLnVzZShiYXNlKQogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICBwYXNzCiAgICBtcGwucmNQYXJhbXMudXBkYXRlKAogICAgICAgIHsKICAgICAgICAgICAgImZvbnQuc2l6ZSI6IGZvbnRzaXplLAogICAgICAgICAgICAiYXhlcy5sYWJlbHNpemUiOiBmb250c2l6ZSwKICAgICAgICAgICAgImF4ZXMudGl0bGVzaXplIjogZm9udHNpemUgKyAxLAogICAgICAgICAgICAibGVnZW5kLmZvbnRzaXplIjogZm9udHNpemUgLSAxLAogICAgICAgICAgICAieHRpY2subGFiZWxzaXplIjogZm9udHNpemUgLSAxLAogICAgICAgICAgICAieXRpY2subGFiZWxzaXplIjogZm9udHNpemUgLSAxLAogICAgICAgICAgICAiYXhlcy5saW5ld2lkdGgiOiBsaW5ld2lkdGgsCiAgICAgICAgICAgICJncmlkLmFscGhhIjogMC4zNSwKICAgICAgICAgICAgImZpZ3VyZS5kcGkiOiAxMjAsCiAgICAgICAgICAgICJzYXZlZmlnLmJib3giOiAidGlnaHQiLAogICAgICAgICAgICAic2F2ZWZpZy50cmFuc3BhcmVudCI6IEZhbHNlLAogICAgICAgIH0KICAgICkKCgpkZWYgc2F2ZWZpZyhmaWcsIHBhdGg6IFVuaW9uW3N0ciwgUGF0aF0sICosIGRwaTogaW50ID0gMzAwKSAtPiBQYXRoOgogICAgIiIiU2F2ZSBmaWd1cmUgdG8gKnBhdGgqIChjcmVhdGluZyBwYXJlbnRzKS4gUmV0dXJucyByZXNvbHZlZCBQYXRoLiIiIgogICAgb3V0ID0gUGF0aChwYXRoKQogICAgb3V0LnBhcmVudC5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCiAgICBmaWcuc2F2ZWZpZyhvdXQsIGRwaT1kcGkpCiAgICByZXR1cm4gb3V0LnJlc29sdmUoKQpAZGF0YWNsYXNzKGZyb3plbj1UcnVlKQpjbGFzcyBCYW5kOgogICAgeW1pbjogZmxvYXQKICAgIHltYXg6IGZsb2F0CiAgICBsYWJlbDogc3RyID0gIiIKICAgIGNvbG9yOiBzdHIgPSAiQzAiCiAgICBhbHBoYTogZmxvYXQgPSAwLjEyCgoKZGVmIHBsb3RfaHlwb3RoZXNpc19yYW5raW5nKAogICAgdGFibGU6IEFueSwKICAgICosCiAgICBsYWJlbF9jb2w6IHN0ciA9ICJoeXBvdGhlc2lzIiwKICAgIHNjb3JlX2NvbDogc3RyID0gInNjb3JlIiwKICAgIGVycl9jb2w6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgdG9wX246IGludCA9IDE1LAogICAgdGl0bGU6IHN0ciA9ICJIeXBvdGhlc2lzIHJhbmtpbmciLAogICAgeGxhYmVsOiBzdHIgPSAiU2NvcmUiLAogICAgY29sb3I6IHN0ciA9ICJDMCIsCiAgICBmaWdzaXplOiBUdXBsZVtmbG9hdCwgZmxvYXRdID0gKDYuMiwgNC4wKSwKICAgIHNhdmVfdG86IE9wdGlvbmFsW1VuaW9uW3N0ciwgUGF0aF1dID0gTm9uZSwKKToKICAgICIiIkhvcml6b250YWwgYmFyIHJhbmtpbmcgd2l0aCBvcHRpb25hbCB1bmNlcnRhaW50eSAoZXJyX2NvbCkuIiIiCiAgICBtcGwsIHBsdCA9IF9sYXp5X2ltcG9ydF9tcGwoKQogICAgc2V0X21wbF9zdHlsZSgpCgogICAgZGYgPSB0YWJsZS5jb3B5KCkgaWYgaGFzYXR0cih0YWJsZSwgImNvcHkiKSBlbHNlIHRhYmxlCiAgICBkZiA9IGRmLnNvcnRfdmFsdWVzKHNjb3JlX2NvbCwgYXNjZW5kaW5nPVRydWUpLnRhaWwodG9wX24pCiAgICBsYWJlbHMgPSBkZltsYWJlbF9jb2xdLmFzdHlwZShzdHIpLnRvX251bXB5KCkKICAgIHNjb3JlcyA9IGRmW3Njb3JlX2NvbF0udG9fbnVtcHkoKQogICAgZXJycyA9IGRmW2Vycl9jb2xdLnRvX251bXB5KCkgaWYgZXJyX2NvbCBhbmQgZXJyX2NvbCBpbiBkZi5jb2x1bW5zIGVsc2UgTm9uZQoKICAgIGZpZywgYXggPSBwbHQuc3VicGxvdHMoZmlnc2l6ZT1maWdzaXplKQogICAgeSA9IG5wLmFyYW5nZShsZW4obGFiZWxzKSkKICAgIGF4LmJhcmgoeSwgc2NvcmVzLCB4ZXJyPWVycnMsIGNvbG9yPWNvbG9yLCBhbHBoYT0wLjksIGVjb2xvcj0iMC4yIiwgY2Fwc2l6ZT0yKQogICAgYXguc2V0X3l0aWNrcyh5KQogICAgYXguc2V0X3l0aWNrbGFiZWxzKGxhYmVscykKICAgIGF4LnNldF94bGFiZWwoeGxhYmVsKQogICAgYXguc2V0X3RpdGxlKHRpdGxlKQogICAgYXguYXh2bGluZSgwLjAsIGNvbG9yPSIwLjMiLCBsdz0xLjApCiAgICBheC5tYXJnaW5zKHk9MC4wMikKCiAgICBpZiBzYXZlX3RvIGlzIG5vdCBOb25lOgogICAgICAgIHNhdmVmaWcoZmlnLCBzYXZlX3RvKQogICAgcmV0dXJuIGZpZywgYXgKZGVmIHBsb3RfY29uc3RyYWludF9wcm9qZWN0aW9uKAogICAgeDogU2VxdWVuY2VbZmxvYXRdLAogICAgeTogU2VxdWVuY2VbZmxvYXRdLAogICAgKiwKICAgIHllcnI6IE9wdGlvbmFsW1NlcXVlbmNlW2Zsb2F0XV0gPSBOb25lLAogICAgYmFuZHM6IE9wdGlvbmFsW1NlcXVlbmNlW0JhbmRdXSA9IE5vbmUsCiAgICB4bGFiZWw6IHN0ciA9ICJNb2RlbCBwYXJhbWV0ZXIiLAogICAgeWxhYmVsOiBzdHIgPSAiT2JzZXJ2YWJsZSIsCiAgICB0aXRsZTogc3RyID0gIkNvbnN0cmFpbnQgcHJvamVjdGlvbiIsCiAgICBsYWJlbDogc3RyID0gInByZWRpY3Rpb24iLAogICAgY29sb3I6IHN0ciA9ICJDMCIsCiAgICBmaWdzaXplOiBUdXBsZVtmbG9hdCwgZmxvYXRdID0gKDYuMiwgNC4wKSwKICAgIHNhdmVfdG86IE9wdGlvbmFsW1VuaW9uW3N0ciwgUGF0aF1dID0gTm9uZSwKKToKICAgICIiIkxpbmUvcG9pbnRzIHdpdGggZXJyb3IgYmFycyBhbmQgb3B0aW9uYWwgaG9yaXpvbnRhbCBhbGxvd2VkIGJhbmRzLiIiIgogICAgXywgcGx0ID0gX2xhenlfaW1wb3J0X21wbCgpCiAgICBzZXRfbXBsX3N0eWxlKCkKCiAgICB4ID0gbnAuYXNhcnJheSh4LCBkdHlwZT1mbG9hdCkKICAgIHkgPSBucC5hc2FycmF5KHksIGR0eXBlPWZsb2F0KQogICAgeWVycl9hcnIgPSBOb25lIGlmIHllcnIgaXMgTm9uZSBlbHNlIG5wLmFzYXJyYXkoeWVyciwgZHR5cGU9ZmxvYXQpCgogICAgZmlnLCBheCA9IHBsdC5zdWJwbG90cyhmaWdzaXplPWZpZ3NpemUpCiAgICBpZiBiYW5kczoKICAgICAgICBmb3IgYiBpbiBiYW5kczoKICAgICAgICAgICAgYXguYXhoc3BhbihiLnltaW4sIGIueW1heCwgY29sb3I9Yi5jb2xvciwgYWxwaGE9Yi5hbHBoYSwgbGFiZWw9Yi5sYWJlbCBvciBOb25lKQoKICAgIGlmIHllcnJfYXJyIGlzIE5vbmU6CiAgICAgICAgYXgucGxvdCh4LCB5LCBjb2xvcj1jb2xvciwgbHc9Mi4wLCBsYWJlbD1sYWJlbCkKICAgIGVsc2U6CiAgICAgICAgYXguZXJyb3JiYXIoeCwgeSwgeWVycj15ZXJyX2FyciwgZm10PSJvLSIsIGNvbG9yPWNvbG9yLCBsdz0xLjYsIG1zPTMuNSwgY2Fwc2l6ZT0yLCBsYWJlbD1sYWJlbCkKCiAgICBheC5zZXRfeGxhYmVsKHhsYWJlbCkKICAgIGF4LnNldF95bGFiZWwoeWxhYmVsKQogICAgYXguc2V0X3RpdGxlKHRpdGxlKQogICAgaWYgYmFuZHMgb3IgbGFiZWw6CiAgICAgICAgYXgubGVnZW5kKGZyYW1lb249VHJ1ZSwgbG9jPSJiZXN0IikKICAgIGF4LmdyaWQoVHJ1ZSwgd2hpY2g9ImJvdGgiKQogICAgaWYgc2F2ZV90byBpcyBub3QgTm9uZToKICAgICAgICBzYXZlZmlnKGZpZywgc2F2ZV90bykKICAgIHJldHVybiBmaWcsIGF4CmRlZiBfY3JlZGlibGVfaW50ZXJ2YWwoYTogbnAubmRhcnJheSwgcTogVHVwbGVbZmxvYXQsIGZsb2F0XSA9ICgwLjE2LCAwLjg0KSkgLT4gVHVwbGVbZmxvYXQsIGZsb2F0LCBmbG9hdF06CiAgICBhID0gbnAuYXNhcnJheShhLCBkdHlwZT1mbG9hdCkKICAgIGEgPSBhW25wLmlzZmluaXRlKGEpXQogICAgaWYgYS5zaXplID09IDA6CiAgICAgICAgcmV0dXJuIG5wLm5hbiwgbnAubmFuLCBucC5uYW4KICAgIGxvLCBtZWQsIGhpID0gbnAucXVhbnRpbGUoYSwgW3FbMF0sIDAuNSwgcVsxXV0pCiAgICByZXR1cm4gZmxvYXQobG8pLCBmbG9hdChtZWQpLCBmbG9hdChoaSkKCgpkZWYgcGxvdF9wb3N0ZXJpb3Jfc3VtbWFyeSgKICAgIHNhbXBsZXM6IE1hcHBpbmdbc3RyLCBTZXF1ZW5jZVtmbG9hdF1dLAogICAgKiwKICAgIHRydXRoczogT3B0aW9uYWxbTWFwcGluZ1tzdHIsIGZsb2F0XV0gPSBOb25lLAogICAgcTogVHVwbGVbZmxvYXQsIGZsb2F0XSA9ICgwLjE2LCAwLjg0KSwKICAgIHRpdGxlOiBzdHIgPSAiUG9zdGVyaW9yIHN1bW1hcnkiLAogICAgeGxhYmVsOiBzdHIgPSAiUGFyYW1ldGVyIiwKICAgIHlsYWJlbDogc3RyID0gIlZhbHVlIiwKICAgIGNvbG9yOiBzdHIgPSAiQzAiLAogICAgZmlnc2l6ZTogVHVwbGVbZmxvYXQsIGZsb2F0XSA9ICg2LjIsIDQuMCksCiAgICBzYXZlX3RvOiBPcHRpb25hbFtVbmlvbltzdHIsIFBhdGhdXSA9IE5vbmUsCik6CiAgICAiIiJDb21wYWN0IDFEIHBvc3RlcmlvciBzdW1tYXJ5IChtZWRpYW4gKyBjcmVkaWJsZSBpbnRlcnZhbHMgcGVyIHBhcmFtZXRlcikuIiIiCiAgICBfLCBwbHQgPSBfbGF6eV9pbXBvcnRfbXBsKCkKICAgIHNldF9tcGxfc3R5bGUoKQoKICAgIG5hbWVzID0gbGlzdChzYW1wbGVzLmtleXMoKSkKICAgIHN0YXRzID0gW19jcmVkaWJsZV9pbnRlcnZhbChucC5hc2FycmF5KHNhbXBsZXNbbl0pLCBxPXEpIGZvciBuIGluIG5hbWVzXQogICAgbG8gPSBucC5hcnJheShbc1swXSBmb3IgcyBpbiBzdGF0c10pCiAgICBtZWQgPSBucC5hcnJheShbc1sxXSBmb3IgcyBpbiBzdGF0c10pCiAgICBoaSA9IG5wLmFycmF5KFtzWzJdIGZvciBzIGluIHN0YXRzXSkKCiAgICBmaWcsIGF4ID0gcGx0LnN1YnBsb3RzKGZpZ3NpemU9Zmlnc2l6ZSkKICAgIHggPSBucC5hcmFuZ2UobGVuKG5hbWVzKSkKICAgIGF4LnZsaW5lcyh4LCBsbywgaGksIGNvbG9yPWNvbG9yLCBsdz0yLjAsIGFscGhhPTAuOSkKICAgIGF4LnNjYXR0ZXIoeCwgbWVkLCBjb2xvcj1jb2xvciwgcz0yMiwgem9yZGVyPTMsIGxhYmVsPSJtZWRpYW4iKQogICAgaWYgdHJ1dGhzOgogICAgICAgIHQgPSBucC5hcnJheShbdHJ1dGhzLmdldChuLCBucC5uYW4pIGZvciBuIGluIG5hbWVzXSwgZHR5cGU9ZmxvYXQpCiAgICAgICAgYXguc2NhdHRlcih4LCB0LCBjb2xvcj0iQzMiLCBzPTE4LCBtYXJrZXI9IngiLCB6b3JkZXI9NCwgbGFiZWw9InRydXRoIikKCiAgICBheC5zZXRfeHRpY2tzKHgpCiAgICBheC5zZXRfeHRpY2tsYWJlbHMobmFtZXMsIHJvdGF0aW9uPTMwLCBoYT0icmlnaHQiKQogICAgYXguc2V0X3lsYWJlbCh5bGFiZWwpCiAgICBheC5zZXRfeGxhYmVsKHhsYWJlbCkKICAgIGF4LnNldF90aXRsZSh0aXRsZSkKICAgIGF4LmxlZ2VuZChmcmFtZW9uPVRydWUsIGxvYz0iYmVzdCIpCiAgICBheC5tYXJnaW5zKHg9MC4wMikKICAgIGlmIHNhdmVfdG8gaXMgbm90IE5vbmU6CiAgICAgICAgc2F2ZWZpZyhmaWcsIHNhdmVfdG8pCiAgICByZXR1cm4gZmlnLCBheApkZWYgcGxvdF9yb2J1c3RuZXNzX2RpYWdub3N0aWNzKAogICAgdGFibGU6IEFueSwKICAgICosCiAgICB2YXJpYW50X2NvbDogc3RyID0gInZhcmlhbnQiLAogICAgbWV0cmljX2NvbDogc3RyID0gIm1ldHJpYyIsCiAgICB2YWx1ZV9jb2w6IHN0ciA9ICJ2YWx1ZSIsCiAgICB0aXRsZTogc3RyID0gIlJvYnVzdG5lc3MgZGlhZ25vc3RpY3MiLAogICAgeWxhYmVsOiBzdHIgPSAiTWV0cmljIHZhbHVlIiwKICAgIGZpZ3NpemU6IFR1cGxlW2Zsb2F0LCBmbG9hdF0gPSAoNy4wLCA0LjApLAogICAgc2F2ZV90bzogT3B0aW9uYWxbVW5pb25bc3RyLCBQYXRoXV0gPSBOb25lLAopOgogICAgIiIiQm94L3N0cmlwIHBsb3Qgb2YgbWV0cmljIHZhbHVlcyBhY3Jvc3MgY29tcGFjdGlmaWNhdGlvbi9mbHV4IHZhcmlhbnRzLiIiIgogICAgXywgcGx0ID0gX2xhenlfaW1wb3J0X21wbCgpCiAgICBzZXRfbXBsX3N0eWxlKCkKCiAgICBkZiA9IHRhYmxlLmNvcHkoKSBpZiBoYXNhdHRyKHRhYmxlLCAiY29weSIpIGVsc2UgdGFibGUKICAgIG1ldHJpY3MgPSBkZlttZXRyaWNfY29sXS5hc3R5cGUoc3RyKS51bmlxdWUoKS50b2xpc3QoKQogICAgdmFyaWFudHMgPSBkZlt2YXJpYW50X2NvbF0uYXN0eXBlKHN0cikudW5pcXVlKCkudG9saXN0KCkKCiAgICBmaWcsIGF4ID0gcGx0LnN1YnBsb3RzKGZpZ3NpemU9Zmlnc2l6ZSkKICAgIHBvc2l0aW9ucywgbGFiZWxzID0gW10sIFtdCiAgICBwb3MgPSAwCiAgICBmb3IgbSBpbiBtZXRyaWNzOgogICAgICAgIGZvciB2IGluIHZhcmlhbnRzOgogICAgICAgICAgICB2YWxzID0gZGZbKGRmW21ldHJpY19jb2xdID09IG0pICYgKGRmW3ZhcmlhbnRfY29sXSA9PSB2KV1bdmFsdWVfY29sXS50b19udW1weShkdHlwZT1mbG9hdCkKICAgICAgICAgICAgaWYgdmFscy5zaXplID09IDA6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBwb3NpdGlvbnMuYXBwZW5kKHBvcykKICAgICAgICAgICAgbGFiZWxzLmFwcGVuZChmInttfVxue3Z9IikKICAgICAgICAgICAgYXguYm94cGxvdCh2YWxzLCBwb3NpdGlvbnM9W3Bvc10sIHdpZHRocz0wLjYsIHNob3dmbGllcnM9RmFsc2UsIHBhdGNoX2FydGlzdD1UcnVlLAogICAgICAgICAgICAgICAgICAgICAgIGJveHByb3BzPWRpY3QoZmFjZWNvbG9yPSIwLjg1IiwgZWRnZWNvbG9yPSIwLjMiKSwKICAgICAgICAgICAgICAgICAgICAgICBtZWRpYW5wcm9wcz1kaWN0KGNvbG9yPSJDMCIsIGxpbmV3aWR0aD0xLjYpLAogICAgICAgICAgICAgICAgICAgICAgIHdoaXNrZXJwcm9wcz1kaWN0KGNvbG9yPSIwLjMiKSwgY2FwcHJvcHM9ZGljdChjb2xvcj0iMC4zIikpCiAgICAgICAgICAgIGppdHRlciA9IChucC5yYW5kb20uUmFuZG9tU3RhdGUoMCkucmFuZCh2YWxzLnNpemUpIC0gMC41KSAqIDAuMTgKICAgICAgICAgICAgYXguc2NhdHRlcihucC5mdWxsKHZhbHMuc2l6ZSwgcG9zKSArIGppdHRlciwgdmFscywgcz0xMCwgY29sb3I9IjAuMjUiLCBhbHBoYT0wLjYsIHpvcmRlcj0zKQogICAgICAgICAgICBwb3MgKz0gMQogICAgICAgIHBvcyArPSAwLjYgICMgZ2FwIGJldHdlZW4gbWV0cmljcwoKICAgIGF4LnNldF94dGlja3MocG9zaXRpb25zKQogICAgYXguc2V0X3h0aWNrbGFiZWxzKGxhYmVscywgcm90YXRpb249MCkKICAgIGF4LnNldF95bGFiZWwoeWxhYmVsKQogICAgYXguc2V0X3RpdGxlKHRpdGxlKQogICAgYXguZ3JpZChUcnVlLCBheGlzPSJ5IikKICAgIGlmIHNhdmVfdG8gaXMgbm90IE5vbmU6CiAgICAgICAgc2F2ZWZpZyhmaWcsIHNhdmVfdG8pCiAgICByZXR1cm4gZmlnLCBheAo=\"}\nDIR_STATE:[\"src/lib/io.py\",\"src/lib/plotting.py\"]"
        }
      ],
      "role": "assistant"
    }
  ],
  "codeResults": []
}