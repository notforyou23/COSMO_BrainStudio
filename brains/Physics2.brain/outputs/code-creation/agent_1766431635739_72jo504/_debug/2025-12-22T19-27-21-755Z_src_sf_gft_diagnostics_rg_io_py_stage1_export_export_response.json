{
  "content": "FILE_EXPORT:{\"path\":\"src/sf_gft_diagnostics/rg_io.py\",\"size\":6277,\"encoding\":\"base64\",\"sha256\":\"7f8bdb3906ac9fc0d5a87f6d8a5220395cd418cefdc67323d099cc91bb55d880\",\"content\":\"IiIicmdfaW8ucHk6IGxpZ2h0d2VpZ2h0IGxvYWRlcnMvYWRhcHRlcnMgZm9yIFJHL2NvYXJzZS1ncmFpbmluZyBvdXRwdXRzLgoKVGhpcyBtb2R1bGUgbm9ybWFsaXplcyBoZXRlcm9nZW5lb3VzIGxvZ3MgKHRlbnNvci1uZXR3b3JrL2xhdHRpY2UgUkcsIG9yCkdGVC9zcGluZm9hbSBjb2Fyc2UtZ3JhaW5pbmcpIGludG8gYSBzaW1wbGUgaW4tbWVtb3J5IGRhdGFzZXQ6IGEgc2VxdWVuY2Ugb2YKInN0ZXBzIiB3aXRoIHNjYWxlIGluZm9ybWF0aW9uLCBjb3VwbGluZ3MvcGFyYW1ldGVycywgb2JzZXJ2YWJsZXMsIGFuZCBvcHRpb25hbApkaXN0cmlidXRpb25hbCBwYXlsb2Fkcy4KIiIiCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcywgZmllbGQKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIERpY3QsIExpc3QsIE1hcHBpbmcsIE9wdGlvbmFsLCBTZXF1ZW5jZSwgVW5pb24KaW1wb3J0IGpzb24KCgpKc29uID0gVW5pb25bZGljdCwgbGlzdCwgc3RyLCBpbnQsIGZsb2F0LCBib29sLCBOb25lXQoKCkBkYXRhY2xhc3MKY2xhc3MgUkdTdGVwOgogICAgIiIiT25lIFJHL2NvYXJzZS1ncmFpbmluZyBzdGVwLiIiIgogICAgaW5kZXg6IGludAogICAgc2NhbGU6IE9wdGlvbmFsW2Zsb2F0XSA9IE5vbmUgICAgICAgICAgIyBlLmcuLCBsYXR0aWNlIHNwYWNpbmcsIGJsb2NraW5nIGZhY3RvciwgawogICAgbGV2ZWw6IE9wdGlvbmFsW2ludF0gPSBOb25lICAgICAgICAgICAgIyBlLmcuLCBpdGVyYXRpb24gLyBjb2Fyc2UtZ3JhaW5pbmcgbGV2ZWwKICAgIHBhcmFtczogRGljdFtzdHIsIGZsb2F0XSA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgb2JzZXJ2YWJsZXM6IERpY3Rbc3RyLCBBbnldID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICBkaXN0cmlidXRpb25zOiBEaWN0W3N0ciwgQW55XSA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgbWV0YTogRGljdFtzdHIsIEFueV0gPSBmaWVsZChkZWZhdWx0X2ZhY3Rvcnk9ZGljdCkKCgpAZGF0YWNsYXNzCmNsYXNzIFJHRGF0YXNldDoKICAgICIiIk5vcm1hbGl6ZWQgZGF0YXNldCBob2xkaW5nIGEgZmxvdy90cmFqZWN0b3J5LiIiIgogICAgbmFtZTogc3RyID0gInJnX2RhdGFzZXQiCiAgICBraW5kOiBzdHIgPSAiYXV0byIgICAgICAgICAgICAgICAgICAgICAjICd0bnJnJywgJ2xhdHRpY2VfcmcnLCAnZ2Z0JywgJ3NwaW5mb2FtJywgLi4uCiAgICBtZXRhOiBEaWN0W3N0ciwgQW55XSA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgc3RlcHM6IExpc3RbUkdTdGVwXSA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1saXN0KQoKICAgIGRlZiB0b19kaWN0KHNlbGYpIC0+IERpY3Rbc3RyLCBBbnldOgogICAgICAgIHJldHVybiB7Im5hbWUiOiBzZWxmLm5hbWUsICJraW5kIjogc2VsZi5raW5kLCAibWV0YSI6IHNlbGYubWV0YSwKICAgICAgICAgICAgICAgICJzdGVwcyI6IFtzLl9fZGljdF9fIGZvciBzIGluIHNlbGYuc3RlcHNdfQpkZWYgX2FzX2Zsb2F0KHg6IEFueSkgLT4gT3B0aW9uYWxbZmxvYXRdOgogICAgdHJ5OgogICAgICAgIGlmIHggaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICByZXR1cm4gZmxvYXQoeCkKICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgcmV0dXJuIE5vbmUKCgpkZWYgX2NvZXJjZV9udW1fbWFwKG06IE1hcHBpbmdbc3RyLCBBbnldKSAtPiBEaWN0W3N0ciwgZmxvYXRdOgogICAgb3V0OiBEaWN0W3N0ciwgZmxvYXRdID0ge30KICAgIGZvciBrLCB2IGluIG0uaXRlbXMoKToKICAgICAgICBmdiA9IF9hc19mbG9hdCh2KQogICAgICAgIGlmIGZ2IGlzIG5vdCBOb25lOgogICAgICAgICAgICBvdXRbc3RyKGspXSA9IGZ2CiAgICByZXR1cm4gb3V0CgoKZGVmIF9ub3JtYWxpemVfc3RlcChyZWM6IE1hcHBpbmdbc3RyLCBBbnldLCBpZHg6IGludCkgLT4gUkdTdGVwOgogICAgIyBBY2NlcHQgYSBmZXcgY29tbW9uIHN5bm9ueW1zIGFjcm9zcyBlY29zeXN0ZW1zLgogICAgc2NhbGUgPSBfYXNfZmxvYXQocmVjLmdldCgic2NhbGUiLCByZWMuZ2V0KCJrIiwgcmVjLmdldCgiYSIsIHJlYy5nZXQoImxhbWJkYSIpKSkpKQogICAgbGV2ZWwgPSByZWMuZ2V0KCJsZXZlbCIsIHJlYy5nZXQoIml0ZXIiLCByZWMuZ2V0KCJpdGVyYXRpb24iLCByZWMuZ2V0KCJuIikpKSkKICAgIHRyeToKICAgICAgICBsZXZlbCA9IGludChsZXZlbCkgaWYgbGV2ZWwgaXMgbm90IE5vbmUgZWxzZSBOb25lCiAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgIGxldmVsID0gTm9uZQoKICAgIHBhcmFtc19yYXcgPSByZWMuZ2V0KCJwYXJhbXMiLCByZWMuZ2V0KCJjb3VwbGluZ3MiLCByZWMuZ2V0KCJ0aGV0YSIsIHt9KSkpIG9yIHt9CiAgICBvYnNfcmF3ID0gcmVjLmdldCgib2JzZXJ2YWJsZXMiLCByZWMuZ2V0KCJvYnMiLCByZWMuZ2V0KCJtZWFzdXJlbWVudHMiLCB7fSkpKSBvciB7fQogICAgZGlzdF9yYXcgPSByZWMuZ2V0KCJkaXN0cmlidXRpb25zIiwgcmVjLmdldCgiZGlzdHMiLCByZWMuZ2V0KCJoaXN0b2dyYW1zIiwge30pKSkgb3Ige30KCiAgICBtZXRhID0gZGljdChyZWMuZ2V0KCJtZXRhIiwge30pKQogICAgIyBQcmVzZXJ2ZSB1bnJlY29nbml6ZWQgdG9wLWxldmVsIGtleXMgd2l0aG91dCBkdXBsaWNhdGluZyBjb21tb24gZmllbGRzLgogICAgc2tpcCA9IHsic2NhbGUiLCJrIiwiYSIsImxhbWJkYSIsImxldmVsIiwiaXRlciIsIml0ZXJhdGlvbiIsIm4iLAogICAgICAgICAgICAicGFyYW1zIiwiY291cGxpbmdzIiwidGhldGEiLCJvYnNlcnZhYmxlcyIsIm9icyIsIm1lYXN1cmVtZW50cyIsCiAgICAgICAgICAgICJkaXN0cmlidXRpb25zIiwiZGlzdHMiLCJoaXN0b2dyYW1zIiwibWV0YSJ9CiAgICBmb3IgaywgdiBpbiByZWMuaXRlbXMoKToKICAgICAgICBpZiBrIG5vdCBpbiBza2lwOgogICAgICAgICAgICBtZXRhLnNldGRlZmF1bHQoaywgdikKCiAgICByZXR1cm4gUkdTdGVwKAogICAgICAgIGluZGV4PWlkeCwKICAgICAgICBzY2FsZT1zY2FsZSwKICAgICAgICBsZXZlbD1sZXZlbCwKICAgICAgICBwYXJhbXM9X2NvZXJjZV9udW1fbWFwKHBhcmFtc19yYXcpIGlmIGlzaW5zdGFuY2UocGFyYW1zX3JhdywgTWFwcGluZykgZWxzZSB7fSwKICAgICAgICBvYnNlcnZhYmxlcz1kaWN0KG9ic19yYXcpIGlmIGlzaW5zdGFuY2Uob2JzX3JhdywgTWFwcGluZykgZWxzZSB7Il92YWx1ZSI6IG9ic19yYXd9LAogICAgICAgIGRpc3RyaWJ1dGlvbnM9ZGljdChkaXN0X3JhdykgaWYgaXNpbnN0YW5jZShkaXN0X3JhdywgTWFwcGluZykgZWxzZSB7Il92YWx1ZSI6IGRpc3RfcmF3fSwKICAgICAgICBtZXRhPW1ldGEsCiAgICApCmRlZiBmcm9tX3JlY29yZHMoCiAgICByZWNvcmRzOiBTZXF1ZW5jZVtNYXBwaW5nW3N0ciwgQW55XV0sCiAgICAqLAogICAgbmFtZTogc3RyID0gInJnX2RhdGFzZXQiLAogICAga2luZDogc3RyID0gImF1dG8iLAogICAgbWV0YTogT3B0aW9uYWxbTWFwcGluZ1tzdHIsIEFueV1dID0gTm9uZSwKKSAtPiBSR0RhdGFzZXQ6CiAgICAiIiJCdWlsZCBhIG5vcm1hbGl6ZWQgZGF0YXNldCBmcm9tIGEgbGlzdCBvZiBkaWN0IHJlY29yZHMuIiIiCiAgICBkcyA9IFJHRGF0YXNldChuYW1lPW5hbWUsIGtpbmQ9a2luZCwgbWV0YT1kaWN0KG1ldGEgb3Ige30pKQogICAgZHMuc3RlcHMgPSBbX25vcm1hbGl6ZV9zdGVwKHIsIGkpIGZvciBpLCByIGluIGVudW1lcmF0ZShyZWNvcmRzKV0KICAgIHJldHVybiBkcwoKCmRlZiBfbG9hZF9qc29uX2FueShwYXRoOiBQYXRoKSAtPiBKc29uOgogICAgcmV0dXJuIGpzb24ubG9hZHMocGF0aC5yZWFkX3RleHQoZW5jb2Rpbmc9InV0Zi04IikpCgoKZGVmIF9sb2FkX2pzb25sKHBhdGg6IFBhdGgpIC0+IExpc3RbZGljdF06CiAgICBvdXQ6IExpc3RbZGljdF0gPSBbXQogICAgZm9yIGxpbmUgaW4gcGF0aC5yZWFkX3RleHQoZW5jb2Rpbmc9InV0Zi04Iikuc3BsaXRsaW5lcygpOgogICAgICAgIGxpbmUgPSBsaW5lLnN0cmlwKCkKICAgICAgICBpZiBub3QgbGluZSBvciBsaW5lLnN0YXJ0c3dpdGgoIiMiKToKICAgICAgICAgICAgY29udGludWUKICAgICAgICBvdXQuYXBwZW5kKGpzb24ubG9hZHMobGluZSkpCiAgICByZXR1cm4gb3V0CgoKZGVmIGxvYWRfcmdfZGF0YXNldCgKICAgIHBhdGg6IFVuaW9uW3N0ciwgUGF0aF0sCiAgICAqLAogICAga2luZDogc3RyID0gImF1dG8iLAogICAgbmFtZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCikgLT4gUkdEYXRhc2V0OgogICAgIiIiTG9hZCBhIGRhdGFzZXQgZnJvbSAuanNvbiBvciAuanNvbmwgKG5ld2xpbmUtZGVsaW1pdGVkIEpTT04pLgoKICAgIEFjY2VwdGVkIHN0cnVjdHVyZXM6CiAgICAgIC0gbGlzdFtkaWN0XTogc3RlcCByZWNvcmRzCiAgICAgIC0gZGljdCB3aXRoIGtleSAnc3RlcHMnLydyZWNvcmRzJy8nZmxvdycvJ3RyYWplY3RvcnknOiBjb250YWluZXIKICAgICAgLSBkaWN0LW9mLWRpY3RzOiBrZXlzIHNvcnRhYmxlIHRvIHN0ZXBzIChlLmcuLCB7MDp7Li4ufSwxOnsuLi59fSkKICAgICIiIgogICAgcCA9IFBhdGgocGF0aCkKICAgIG5tID0gbmFtZSBvciBwLnN0ZW0KCiAgICBpZiBwLnN1ZmZpeC5sb3dlcigpIGluIHsiLmpzb25sIiwgIi5uZGpzb24ifToKICAgICAgICByZXR1cm4gZnJvbV9yZWNvcmRzKF9sb2FkX2pzb25sKHApLCBuYW1lPW5tLCBraW5kPWtpbmQsIG1ldGE9eyJzb3VyY2UiOiBzdHIocCl9KQoKICAgIG9iaiA9IF9sb2FkX2pzb25fYW55KHApCiAgICBpZiBpc2luc3RhbmNlKG9iaiwgbGlzdCk6CiAgICAgICAgcmV0dXJuIGZyb21fcmVjb3JkcyhvYmosIG5hbWU9bm0sIGtpbmQ9a2luZCwgbWV0YT17InNvdXJjZSI6IHN0cihwKX0pCiAgICBpZiBub3QgaXNpbnN0YW5jZShvYmosIGRpY3QpOgogICAgICAgIHJhaXNlIFR5cGVFcnJvcihmIlVuc3VwcG9ydGVkIEpTT04gcm9vdCB0eXBlOiB7dHlwZShvYmopLl9fbmFtZV9ffSIpCgogICAgc3RlcHMgPSBOb25lCiAgICBmb3Iga2V5IGluICgic3RlcHMiLCAicmVjb3JkcyIsICJmbG93IiwgInRyYWplY3RvcnkiKToKICAgICAgICBpZiBrZXkgaW4gb2JqOgogICAgICAgICAgICBzdGVwcyA9IG9ialtrZXldCiAgICAgICAgICAgIGJyZWFrCgogICAgaWYgc3RlcHMgaXMgTm9uZSBhbmQgYWxsKGlzaW5zdGFuY2UodiwgZGljdCkgZm9yIHYgaW4gb2JqLnZhbHVlcygpKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHN0ZXBzID0gW3YgZm9yIF8sIHYgaW4gc29ydGVkKG9iai5pdGVtcygpLCBrZXk9bGFtYmRhIGt2OiBpbnQoc3RyKGt2WzBdKSkpXQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgIHN0ZXBzID0gbGlzdChvYmoudmFsdWVzKCkpCgogICAgaWYgbm90IGlzaW5zdGFuY2Uoc3RlcHMsIGxpc3QpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIkNvdWxkIG5vdCBsb2NhdGUgYSBsaXN0IG9mIHN0ZXAgcmVjb3JkcyBpbiBKU09OLiIpCgogICAgbWV0YSA9IGRpY3Qob2JqLmdldCgibWV0YSIsIHt9KSkgaWYgaXNpbnN0YW5jZShvYmouZ2V0KCJtZXRhIiwge30pLCBkaWN0KSBlbHNlIHt9CiAgICBtZXRhLnNldGRlZmF1bHQoInNvdXJjZSIsIHN0cihwKSkKICAgIG1ldGEuc2V0ZGVmYXVsdCgiY29udGFpbmVyX2tleXMiLCBzb3J0ZWQob2JqLmtleXMoKSkpCiAgICByZXR1cm4gZnJvbV9yZWNvcmRzKHN0ZXBzLCBuYW1lPW5tLCBraW5kPWtpbmQsIG1ldGE9bWV0YSkKCgpkZWYgbWVyZ2VfZGF0YXNldHMoKmRhdGFzZXRzOiBSR0RhdGFzZXQsIG5hbWU6IHN0ciA9ICJtZXJnZWQiKSAtPiBSR0RhdGFzZXQ6CiAgICAiIiJDb25jYXRlbmF0ZSBtdWx0aXBsZSBkYXRhc2V0cyAodXNlZnVsIGZvciBtdWx0aS1ydW4gZW5zZW1ibGVzKS4iIiIKICAgIG1ldGEgPSB7Im1lcmdlZF9mcm9tIjogW2QubmFtZSBmb3IgZCBpbiBkYXRhc2V0c119CiAgICBzdGVwczogTGlzdFtSR1N0ZXBdID0gW10KICAgIGZvciBkaSwgZCBpbiBlbnVtZXJhdGUoZGF0YXNldHMpOgogICAgICAgIGZvciBzIGluIGQuc3RlcHM6CiAgICAgICAgICAgIHMyID0gUkdTdGVwKCoqcy5fX2RpY3RfXykKICAgICAgICAgICAgczIubWV0YSA9IGRpY3QoczIubWV0YSkKICAgICAgICAgICAgczIubWV0YS5zZXRkZWZhdWx0KCJydW5faW5kZXgiLCBkaSkKICAgICAgICAgICAgc3RlcHMuYXBwZW5kKHMyKQogICAgcmV0dXJuIFJHRGF0YXNldChuYW1lPW5hbWUsIGtpbmQ9Im1lcmdlZCIsIG1ldGE9bWV0YSwgc3RlcHM9c3RlcHMpCg==\"}\nDIR_STATE:[\"src/sf_gft_diagnostics/__init__.py\",\"src/sf_gft_diagnostics/benchmarks.py\",\"src/sf_gft_diagnostics/metrics.py\",\"src/sf_gft_diagnostics/observables.py\",\"src/sf_gft_diagnostics/reporting.py\",\"src/sf_gft_diagnostics/rg_io.py\",\"src/sf_gft_diagnostics/scaling.py\"]",
  "reasoning": "",
  "responseId": "resp_02771901f244f7b1006949a0d7358c8194b0d66dc406ccf510",
  "model": "gpt-5.2-2025-12-11",
  "usage": {
    "input_tokens": 6696,
    "input_tokens_details": {
      "cached_tokens": 0
    },
    "output_tokens": 5638,
    "output_tokens_details": {
      "reasoning_tokens": 33
    },
    "total_tokens": 12334
  },
  "hadError": false,
  "errorType": null,
  "webSearchSources": [],
  "citations": [],
  "output": [
    {
      "id": "rs_02771901f244f7b1006949a0d81d648194b19dc47c879ab2a1",
      "type": "reasoning",
      "summary": []
    },
    {
      "id": "ci_02771901f244f7b1006949a0d8ca6481949774d6cd41c171c5",
      "type": "code_interpreter_call",
      "status": "completed",
      "code": "from pathlib import Path\nimport base64, json, hashlib, gzip\n\ntarget_path = Path('/mnt/data').joinpath('src/sf_gft_diagnostics/rg_io.py')\nassert target_path.is_file(), 'Expected src/sf_gft_diagnostics/rg_io.py to exist before export'\ndata = target_path.read_bytes()\npayload = {\n    'path': 'src/sf_gft_diagnostics/rg_io.py',\n    'size': len(data),\n    'encoding': 'base64',\n    'sha256': hashlib.sha256(data).hexdigest(),\n    'content': None\n}\nif len(data) > 20000:\n    compressed = gzip.compress(data)\n    payload['encoding'] = 'gzip+base64'\n    payload['content'] = base64.b64encode(compressed).decode('ascii')\nelse:\n    payload['content'] = base64.b64encode(data).decode('ascii')\n\nprint('FILE_EXPORT:' + json.dumps(payload, separators=(',', ':')))\nprint('DIR_STATE:' + json.dumps(sorted(str(p.relative_to(Path(\"/mnt/data\"))) for p in target_path.parent.glob('*') if p.is_file())))",
      "container_id": "cntr_69499b97284881909e58fb047f14c1e300fdec2b43878464",
      "outputs": [
        {
          "type": "logs",
          "logs": "FILE_EXPORT:{\"path\":\"src/sf_gft_diagnostics/rg_io.py\",\"size\":6277,\"encoding\":\"base64\",\"sha256\":\"7f8bdb3906ac9fc0d5a87f6d8a5220395cd418cefdc67323d099cc91bb55d880\",\"content\":\"IiIicmdfaW8ucHk6IGxpZ2h0d2VpZ2h0IGxvYWRlcnMvYWRhcHRlcnMgZm9yIFJHL2NvYXJzZS1ncmFpbmluZyBvdXRwdXRzLgoKVGhpcyBtb2R1bGUgbm9ybWFsaXplcyBoZXRlcm9nZW5lb3VzIGxvZ3MgKHRlbnNvci1uZXR3b3JrL2xhdHRpY2UgUkcsIG9yCkdGVC9zcGluZm9hbSBjb2Fyc2UtZ3JhaW5pbmcpIGludG8gYSBzaW1wbGUgaW4tbWVtb3J5IGRhdGFzZXQ6IGEgc2VxdWVuY2Ugb2YKInN0ZXBzIiB3aXRoIHNjYWxlIGluZm9ybWF0aW9uLCBjb3VwbGluZ3MvcGFyYW1ldGVycywgb2JzZXJ2YWJsZXMsIGFuZCBvcHRpb25hbApkaXN0cmlidXRpb25hbCBwYXlsb2Fkcy4KIiIiCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcywgZmllbGQKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIERpY3QsIExpc3QsIE1hcHBpbmcsIE9wdGlvbmFsLCBTZXF1ZW5jZSwgVW5pb24KaW1wb3J0IGpzb24KCgpKc29uID0gVW5pb25bZGljdCwgbGlzdCwgc3RyLCBpbnQsIGZsb2F0LCBib29sLCBOb25lXQoKCkBkYXRhY2xhc3MKY2xhc3MgUkdTdGVwOgogICAgIiIiT25lIFJHL2NvYXJzZS1ncmFpbmluZyBzdGVwLiIiIgogICAgaW5kZXg6IGludAogICAgc2NhbGU6IE9wdGlvbmFsW2Zsb2F0XSA9IE5vbmUgICAgICAgICAgIyBlLmcuLCBsYXR0aWNlIHNwYWNpbmcsIGJsb2NraW5nIGZhY3RvciwgawogICAgbGV2ZWw6IE9wdGlvbmFsW2ludF0gPSBOb25lICAgICAgICAgICAgIyBlLmcuLCBpdGVyYXRpb24gLyBjb2Fyc2UtZ3JhaW5pbmcgbGV2ZWwKICAgIHBhcmFtczogRGljdFtzdHIsIGZsb2F0XSA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgb2JzZXJ2YWJsZXM6IERpY3Rbc3RyLCBBbnldID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICBkaXN0cmlidXRpb25zOiBEaWN0W3N0ciwgQW55XSA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgbWV0YTogRGljdFtzdHIsIEFueV0gPSBmaWVsZChkZWZhdWx0X2ZhY3Rvcnk9ZGljdCkKCgpAZGF0YWNsYXNzCmNsYXNzIFJHRGF0YXNldDoKICAgICIiIk5vcm1hbGl6ZWQgZGF0YXNldCBob2xkaW5nIGEgZmxvdy90cmFqZWN0b3J5LiIiIgogICAgbmFtZTogc3RyID0gInJnX2RhdGFzZXQiCiAgICBraW5kOiBzdHIgPSAiYXV0byIgICAgICAgICAgICAgICAgICAgICAjICd0bnJnJywgJ2xhdHRpY2VfcmcnLCAnZ2Z0JywgJ3NwaW5mb2FtJywgLi4uCiAgICBtZXRhOiBEaWN0W3N0ciwgQW55XSA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgc3RlcHM6IExpc3RbUkdTdGVwXSA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1saXN0KQoKICAgIGRlZiB0b19kaWN0KHNlbGYpIC0+IERpY3Rbc3RyLCBBbnldOgogICAgICAgIHJldHVybiB7Im5hbWUiOiBzZWxmLm5hbWUsICJraW5kIjogc2VsZi5raW5kLCAibWV0YSI6IHNlbGYubWV0YSwKICAgICAgICAgICAgICAgICJzdGVwcyI6IFtzLl9fZGljdF9fIGZvciBzIGluIHNlbGYuc3RlcHNdfQpkZWYgX2FzX2Zsb2F0KHg6IEFueSkgLT4gT3B0aW9uYWxbZmxvYXRdOgogICAgdHJ5OgogICAgICAgIGlmIHggaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICByZXR1cm4gZmxvYXQoeCkKICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgcmV0dXJuIE5vbmUKCgpkZWYgX2NvZXJjZV9udW1fbWFwKG06IE1hcHBpbmdbc3RyLCBBbnldKSAtPiBEaWN0W3N0ciwgZmxvYXRdOgogICAgb3V0OiBEaWN0W3N0ciwgZmxvYXRdID0ge30KICAgIGZvciBrLCB2IGluIG0uaXRlbXMoKToKICAgICAgICBmdiA9IF9hc19mbG9hdCh2KQogICAgICAgIGlmIGZ2IGlzIG5vdCBOb25lOgogICAgICAgICAgICBvdXRbc3RyKGspXSA9IGZ2CiAgICByZXR1cm4gb3V0CgoKZGVmIF9ub3JtYWxpemVfc3RlcChyZWM6IE1hcHBpbmdbc3RyLCBBbnldLCBpZHg6IGludCkgLT4gUkdTdGVwOgogICAgIyBBY2NlcHQgYSBmZXcgY29tbW9uIHN5bm9ueW1zIGFjcm9zcyBlY29zeXN0ZW1zLgogICAgc2NhbGUgPSBfYXNfZmxvYXQocmVjLmdldCgic2NhbGUiLCByZWMuZ2V0KCJrIiwgcmVjLmdldCgiYSIsIHJlYy5nZXQoImxhbWJkYSIpKSkpKQogICAgbGV2ZWwgPSByZWMuZ2V0KCJsZXZlbCIsIHJlYy5nZXQoIml0ZXIiLCByZWMuZ2V0KCJpdGVyYXRpb24iLCByZWMuZ2V0KCJuIikpKSkKICAgIHRyeToKICAgICAgICBsZXZlbCA9IGludChsZXZlbCkgaWYgbGV2ZWwgaXMgbm90IE5vbmUgZWxzZSBOb25lCiAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgIGxldmVsID0gTm9uZQoKICAgIHBhcmFtc19yYXcgPSByZWMuZ2V0KCJwYXJhbXMiLCByZWMuZ2V0KCJjb3VwbGluZ3MiLCByZWMuZ2V0KCJ0aGV0YSIsIHt9KSkpIG9yIHt9CiAgICBvYnNfcmF3ID0gcmVjLmdldCgib2JzZXJ2YWJsZXMiLCByZWMuZ2V0KCJvYnMiLCByZWMuZ2V0KCJtZWFzdXJlbWVudHMiLCB7fSkpKSBvciB7fQogICAgZGlzdF9yYXcgPSByZWMuZ2V0KCJkaXN0cmlidXRpb25zIiwgcmVjLmdldCgiZGlzdHMiLCByZWMuZ2V0KCJoaXN0b2dyYW1zIiwge30pKSkgb3Ige30KCiAgICBtZXRhID0gZGljdChyZWMuZ2V0KCJtZXRhIiwge30pKQogICAgIyBQcmVzZXJ2ZSB1bnJlY29nbml6ZWQgdG9wLWxldmVsIGtleXMgd2l0aG91dCBkdXBsaWNhdGluZyBjb21tb24gZmllbGRzLgogICAgc2tpcCA9IHsic2NhbGUiLCJrIiwiYSIsImxhbWJkYSIsImxldmVsIiwiaXRlciIsIml0ZXJhdGlvbiIsIm4iLAogICAgICAgICAgICAicGFyYW1zIiwiY291cGxpbmdzIiwidGhldGEiLCJvYnNlcnZhYmxlcyIsIm9icyIsIm1lYXN1cmVtZW50cyIsCiAgICAgICAgICAgICJkaXN0cmlidXRpb25zIiwiZGlzdHMiLCJoaXN0b2dyYW1zIiwibWV0YSJ9CiAgICBmb3IgaywgdiBpbiByZWMuaXRlbXMoKToKICAgICAgICBpZiBrIG5vdCBpbiBza2lwOgogICAgICAgICAgICBtZXRhLnNldGRlZmF1bHQoaywgdikKCiAgICByZXR1cm4gUkdTdGVwKAogICAgICAgIGluZGV4PWlkeCwKICAgICAgICBzY2FsZT1zY2FsZSwKICAgICAgICBsZXZlbD1sZXZlbCwKICAgICAgICBwYXJhbXM9X2NvZXJjZV9udW1fbWFwKHBhcmFtc19yYXcpIGlmIGlzaW5zdGFuY2UocGFyYW1zX3JhdywgTWFwcGluZykgZWxzZSB7fSwKICAgICAgICBvYnNlcnZhYmxlcz1kaWN0KG9ic19yYXcpIGlmIGlzaW5zdGFuY2Uob2JzX3JhdywgTWFwcGluZykgZWxzZSB7Il92YWx1ZSI6IG9ic19yYXd9LAogICAgICAgIGRpc3RyaWJ1dGlvbnM9ZGljdChkaXN0X3JhdykgaWYgaXNpbnN0YW5jZShkaXN0X3JhdywgTWFwcGluZykgZWxzZSB7Il92YWx1ZSI6IGRpc3RfcmF3fSwKICAgICAgICBtZXRhPW1ldGEsCiAgICApCmRlZiBmcm9tX3JlY29yZHMoCiAgICByZWNvcmRzOiBTZXF1ZW5jZVtNYXBwaW5nW3N0ciwgQW55XV0sCiAgICAqLAogICAgbmFtZTogc3RyID0gInJnX2RhdGFzZXQiLAogICAga2luZDogc3RyID0gImF1dG8iLAogICAgbWV0YTogT3B0aW9uYWxbTWFwcGluZ1tzdHIsIEFueV1dID0gTm9uZSwKKSAtPiBSR0RhdGFzZXQ6CiAgICAiIiJCdWlsZCBhIG5vcm1hbGl6ZWQgZGF0YXNldCBmcm9tIGEgbGlzdCBvZiBkaWN0IHJlY29yZHMuIiIiCiAgICBkcyA9IFJHRGF0YXNldChuYW1lPW5hbWUsIGtpbmQ9a2luZCwgbWV0YT1kaWN0KG1ldGEgb3Ige30pKQogICAgZHMuc3RlcHMgPSBbX25vcm1hbGl6ZV9zdGVwKHIsIGkpIGZvciBpLCByIGluIGVudW1lcmF0ZShyZWNvcmRzKV0KICAgIHJldHVybiBkcwoKCmRlZiBfbG9hZF9qc29uX2FueShwYXRoOiBQYXRoKSAtPiBKc29uOgogICAgcmV0dXJuIGpzb24ubG9hZHMocGF0aC5yZWFkX3RleHQoZW5jb2Rpbmc9InV0Zi04IikpCgoKZGVmIF9sb2FkX2pzb25sKHBhdGg6IFBhdGgpIC0+IExpc3RbZGljdF06CiAgICBvdXQ6IExpc3RbZGljdF0gPSBbXQogICAgZm9yIGxpbmUgaW4gcGF0aC5yZWFkX3RleHQoZW5jb2Rpbmc9InV0Zi04Iikuc3BsaXRsaW5lcygpOgogICAgICAgIGxpbmUgPSBsaW5lLnN0cmlwKCkKICAgICAgICBpZiBub3QgbGluZSBvciBsaW5lLnN0YXJ0c3dpdGgoIiMiKToKICAgICAgICAgICAgY29udGludWUKICAgICAgICBvdXQuYXBwZW5kKGpzb24ubG9hZHMobGluZSkpCiAgICByZXR1cm4gb3V0CgoKZGVmIGxvYWRfcmdfZGF0YXNldCgKICAgIHBhdGg6IFVuaW9uW3N0ciwgUGF0aF0sCiAgICAqLAogICAga2luZDogc3RyID0gImF1dG8iLAogICAgbmFtZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCikgLT4gUkdEYXRhc2V0OgogICAgIiIiTG9hZCBhIGRhdGFzZXQgZnJvbSAuanNvbiBvciAuanNvbmwgKG5ld2xpbmUtZGVsaW1pdGVkIEpTT04pLgoKICAgIEFjY2VwdGVkIHN0cnVjdHVyZXM6CiAgICAgIC0gbGlzdFtkaWN0XTogc3RlcCByZWNvcmRzCiAgICAgIC0gZGljdCB3aXRoIGtleSAnc3RlcHMnLydyZWNvcmRzJy8nZmxvdycvJ3RyYWplY3RvcnknOiBjb250YWluZXIKICAgICAgLSBkaWN0LW9mLWRpY3RzOiBrZXlzIHNvcnRhYmxlIHRvIHN0ZXBzIChlLmcuLCB7MDp7Li4ufSwxOnsuLi59fSkKICAgICIiIgogICAgcCA9IFBhdGgocGF0aCkKICAgIG5tID0gbmFtZSBvciBwLnN0ZW0KCiAgICBpZiBwLnN1ZmZpeC5sb3dlcigpIGluIHsiLmpzb25sIiwgIi5uZGpzb24ifToKICAgICAgICByZXR1cm4gZnJvbV9yZWNvcmRzKF9sb2FkX2pzb25sKHApLCBuYW1lPW5tLCBraW5kPWtpbmQsIG1ldGE9eyJzb3VyY2UiOiBzdHIocCl9KQoKICAgIG9iaiA9IF9sb2FkX2pzb25fYW55KHApCiAgICBpZiBpc2luc3RhbmNlKG9iaiwgbGlzdCk6CiAgICAgICAgcmV0dXJuIGZyb21fcmVjb3JkcyhvYmosIG5hbWU9bm0sIGtpbmQ9a2luZCwgbWV0YT17InNvdXJjZSI6IHN0cihwKX0pCiAgICBpZiBub3QgaXNpbnN0YW5jZShvYmosIGRpY3QpOgogICAgICAgIHJhaXNlIFR5cGVFcnJvcihmIlVuc3VwcG9ydGVkIEpTT04gcm9vdCB0eXBlOiB7dHlwZShvYmopLl9fbmFtZV9ffSIpCgogICAgc3RlcHMgPSBOb25lCiAgICBmb3Iga2V5IGluICgic3RlcHMiLCAicmVjb3JkcyIsICJmbG93IiwgInRyYWplY3RvcnkiKToKICAgICAgICBpZiBrZXkgaW4gb2JqOgogICAgICAgICAgICBzdGVwcyA9IG9ialtrZXldCiAgICAgICAgICAgIGJyZWFrCgogICAgaWYgc3RlcHMgaXMgTm9uZSBhbmQgYWxsKGlzaW5zdGFuY2UodiwgZGljdCkgZm9yIHYgaW4gb2JqLnZhbHVlcygpKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHN0ZXBzID0gW3YgZm9yIF8sIHYgaW4gc29ydGVkKG9iai5pdGVtcygpLCBrZXk9bGFtYmRhIGt2OiBpbnQoc3RyKGt2WzBdKSkpXQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgIHN0ZXBzID0gbGlzdChvYmoudmFsdWVzKCkpCgogICAgaWYgbm90IGlzaW5zdGFuY2Uoc3RlcHMsIGxpc3QpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIkNvdWxkIG5vdCBsb2NhdGUgYSBsaXN0IG9mIHN0ZXAgcmVjb3JkcyBpbiBKU09OLiIpCgogICAgbWV0YSA9IGRpY3Qob2JqLmdldCgibWV0YSIsIHt9KSkgaWYgaXNpbnN0YW5jZShvYmouZ2V0KCJtZXRhIiwge30pLCBkaWN0KSBlbHNlIHt9CiAgICBtZXRhLnNldGRlZmF1bHQoInNvdXJjZSIsIHN0cihwKSkKICAgIG1ldGEuc2V0ZGVmYXVsdCgiY29udGFpbmVyX2tleXMiLCBzb3J0ZWQob2JqLmtleXMoKSkpCiAgICByZXR1cm4gZnJvbV9yZWNvcmRzKHN0ZXBzLCBuYW1lPW5tLCBraW5kPWtpbmQsIG1ldGE9bWV0YSkKCgpkZWYgbWVyZ2VfZGF0YXNldHMoKmRhdGFzZXRzOiBSR0RhdGFzZXQsIG5hbWU6IHN0ciA9ICJtZXJnZWQiKSAtPiBSR0RhdGFzZXQ6CiAgICAiIiJDb25jYXRlbmF0ZSBtdWx0aXBsZSBkYXRhc2V0cyAodXNlZnVsIGZvciBtdWx0aS1ydW4gZW5zZW1ibGVzKS4iIiIKICAgIG1ldGEgPSB7Im1lcmdlZF9mcm9tIjogW2QubmFtZSBmb3IgZCBpbiBkYXRhc2V0c119CiAgICBzdGVwczogTGlzdFtSR1N0ZXBdID0gW10KICAgIGZvciBkaSwgZCBpbiBlbnVtZXJhdGUoZGF0YXNldHMpOgogICAgICAgIGZvciBzIGluIGQuc3RlcHM6CiAgICAgICAgICAgIHMyID0gUkdTdGVwKCoqcy5fX2RpY3RfXykKICAgICAgICAgICAgczIubWV0YSA9IGRpY3QoczIubWV0YSkKICAgICAgICAgICAgczIubWV0YS5zZXRkZWZhdWx0KCJydW5faW5kZXgiLCBkaSkKICAgICAgICAgICAgc3RlcHMuYXBwZW5kKHMyKQogICAgcmV0dXJuIFJHRGF0YXNldChuYW1lPW5hbWUsIGtpbmQ9Im1lcmdlZCIsIG1ldGE9bWV0YSwgc3RlcHM9c3RlcHMpCg==\"}\nDIR_STATE:[\"src/sf_gft_diagnostics/__init__.py\", \"src/sf_gft_diagnostics/benchmarks.py\", \"src/sf_gft_diagnostics/metrics.py\", \"src/sf_gft_diagnostics/observables.py\", \"src/sf_gft_diagnostics/reporting.py\", \"src/sf_gft_diagnostics/rg_io.py\", \"src/sf_gft_diagnostics/scaling.py\"]\n"
        }
      ]
    },
    {
      "id": "msg_02771901f244f7b1006949a0dd0260819486b6316372ea596a",
      "type": "message",
      "status": "completed",
      "content": [
        {
          "type": "output_text",
          "annotations": [],
          "logprobs": [],
          "text": "FILE_EXPORT:{\"path\":\"src/sf_gft_diagnostics/rg_io.py\",\"size\":6277,\"encoding\":\"base64\",\"sha256\":\"7f8bdb3906ac9fc0d5a87f6d8a5220395cd418cefdc67323d099cc91bb55d880\",\"content\":\"IiIicmdfaW8ucHk6IGxpZ2h0d2VpZ2h0IGxvYWRlcnMvYWRhcHRlcnMgZm9yIFJHL2NvYXJzZS1ncmFpbmluZyBvdXRwdXRzLgoKVGhpcyBtb2R1bGUgbm9ybWFsaXplcyBoZXRlcm9nZW5lb3VzIGxvZ3MgKHRlbnNvci1uZXR3b3JrL2xhdHRpY2UgUkcsIG9yCkdGVC9zcGluZm9hbSBjb2Fyc2UtZ3JhaW5pbmcpIGludG8gYSBzaW1wbGUgaW4tbWVtb3J5IGRhdGFzZXQ6IGEgc2VxdWVuY2Ugb2YKInN0ZXBzIiB3aXRoIHNjYWxlIGluZm9ybWF0aW9uLCBjb3VwbGluZ3MvcGFyYW1ldGVycywgb2JzZXJ2YWJsZXMsIGFuZCBvcHRpb25hbApkaXN0cmlidXRpb25hbCBwYXlsb2Fkcy4KIiIiCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmZyb20gZGF0YWNsYXNzZXMgaW1wb3J0IGRhdGFjbGFzcywgZmllbGQKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIERpY3QsIExpc3QsIE1hcHBpbmcsIE9wdGlvbmFsLCBTZXF1ZW5jZSwgVW5pb24KaW1wb3J0IGpzb24KCgpKc29uID0gVW5pb25bZGljdCwgbGlzdCwgc3RyLCBpbnQsIGZsb2F0LCBib29sLCBOb25lXQoKCkBkYXRhY2xhc3MKY2xhc3MgUkdTdGVwOgogICAgIiIiT25lIFJHL2NvYXJzZS1ncmFpbmluZyBzdGVwLiIiIgogICAgaW5kZXg6IGludAogICAgc2NhbGU6IE9wdGlvbmFsW2Zsb2F0XSA9IE5vbmUgICAgICAgICAgIyBlLmcuLCBsYXR0aWNlIHNwYWNpbmcsIGJsb2NraW5nIGZhY3RvciwgawogICAgbGV2ZWw6IE9wdGlvbmFsW2ludF0gPSBOb25lICAgICAgICAgICAgIyBlLmcuLCBpdGVyYXRpb24gLyBjb2Fyc2UtZ3JhaW5pbmcgbGV2ZWwKICAgIHBhcmFtczogRGljdFtzdHIsIGZsb2F0XSA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgb2JzZXJ2YWJsZXM6IERpY3Rbc3RyLCBBbnldID0gZmllbGQoZGVmYXVsdF9mYWN0b3J5PWRpY3QpCiAgICBkaXN0cmlidXRpb25zOiBEaWN0W3N0ciwgQW55XSA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgbWV0YTogRGljdFtzdHIsIEFueV0gPSBmaWVsZChkZWZhdWx0X2ZhY3Rvcnk9ZGljdCkKCgpAZGF0YWNsYXNzCmNsYXNzIFJHRGF0YXNldDoKICAgICIiIk5vcm1hbGl6ZWQgZGF0YXNldCBob2xkaW5nIGEgZmxvdy90cmFqZWN0b3J5LiIiIgogICAgbmFtZTogc3RyID0gInJnX2RhdGFzZXQiCiAgICBraW5kOiBzdHIgPSAiYXV0byIgICAgICAgICAgICAgICAgICAgICAjICd0bnJnJywgJ2xhdHRpY2VfcmcnLCAnZ2Z0JywgJ3NwaW5mb2FtJywgLi4uCiAgICBtZXRhOiBEaWN0W3N0ciwgQW55XSA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1kaWN0KQogICAgc3RlcHM6IExpc3RbUkdTdGVwXSA9IGZpZWxkKGRlZmF1bHRfZmFjdG9yeT1saXN0KQoKICAgIGRlZiB0b19kaWN0KHNlbGYpIC0+IERpY3Rbc3RyLCBBbnldOgogICAgICAgIHJldHVybiB7Im5hbWUiOiBzZWxmLm5hbWUsICJraW5kIjogc2VsZi5raW5kLCAibWV0YSI6IHNlbGYubWV0YSwKICAgICAgICAgICAgICAgICJzdGVwcyI6IFtzLl9fZGljdF9fIGZvciBzIGluIHNlbGYuc3RlcHNdfQpkZWYgX2FzX2Zsb2F0KHg6IEFueSkgLT4gT3B0aW9uYWxbZmxvYXRdOgogICAgdHJ5OgogICAgICAgIGlmIHggaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICByZXR1cm4gZmxvYXQoeCkKICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgcmV0dXJuIE5vbmUKCgpkZWYgX2NvZXJjZV9udW1fbWFwKG06IE1hcHBpbmdbc3RyLCBBbnldKSAtPiBEaWN0W3N0ciwgZmxvYXRdOgogICAgb3V0OiBEaWN0W3N0ciwgZmxvYXRdID0ge30KICAgIGZvciBrLCB2IGluIG0uaXRlbXMoKToKICAgICAgICBmdiA9IF9hc19mbG9hdCh2KQogICAgICAgIGlmIGZ2IGlzIG5vdCBOb25lOgogICAgICAgICAgICBvdXRbc3RyKGspXSA9IGZ2CiAgICByZXR1cm4gb3V0CgoKZGVmIF9ub3JtYWxpemVfc3RlcChyZWM6IE1hcHBpbmdbc3RyLCBBbnldLCBpZHg6IGludCkgLT4gUkdTdGVwOgogICAgIyBBY2NlcHQgYSBmZXcgY29tbW9uIHN5bm9ueW1zIGFjcm9zcyBlY29zeXN0ZW1zLgogICAgc2NhbGUgPSBfYXNfZmxvYXQocmVjLmdldCgic2NhbGUiLCByZWMuZ2V0KCJrIiwgcmVjLmdldCgiYSIsIHJlYy5nZXQoImxhbWJkYSIpKSkpKQogICAgbGV2ZWwgPSByZWMuZ2V0KCJsZXZlbCIsIHJlYy5nZXQoIml0ZXIiLCByZWMuZ2V0KCJpdGVyYXRpb24iLCByZWMuZ2V0KCJuIikpKSkKICAgIHRyeToKICAgICAgICBsZXZlbCA9IGludChsZXZlbCkgaWYgbGV2ZWwgaXMgbm90IE5vbmUgZWxzZSBOb25lCiAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgIGxldmVsID0gTm9uZQoKICAgIHBhcmFtc19yYXcgPSByZWMuZ2V0KCJwYXJhbXMiLCByZWMuZ2V0KCJjb3VwbGluZ3MiLCByZWMuZ2V0KCJ0aGV0YSIsIHt9KSkpIG9yIHt9CiAgICBvYnNfcmF3ID0gcmVjLmdldCgib2JzZXJ2YWJsZXMiLCByZWMuZ2V0KCJvYnMiLCByZWMuZ2V0KCJtZWFzdXJlbWVudHMiLCB7fSkpKSBvciB7fQogICAgZGlzdF9yYXcgPSByZWMuZ2V0KCJkaXN0cmlidXRpb25zIiwgcmVjLmdldCgiZGlzdHMiLCByZWMuZ2V0KCJoaXN0b2dyYW1zIiwge30pKSkgb3Ige30KCiAgICBtZXRhID0gZGljdChyZWMuZ2V0KCJtZXRhIiwge30pKQogICAgIyBQcmVzZXJ2ZSB1bnJlY29nbml6ZWQgdG9wLWxldmVsIGtleXMgd2l0aG91dCBkdXBsaWNhdGluZyBjb21tb24gZmllbGRzLgogICAgc2tpcCA9IHsic2NhbGUiLCJrIiwiYSIsImxhbWJkYSIsImxldmVsIiwiaXRlciIsIml0ZXJhdGlvbiIsIm4iLAogICAgICAgICAgICAicGFyYW1zIiwiY291cGxpbmdzIiwidGhldGEiLCJvYnNlcnZhYmxlcyIsIm9icyIsIm1lYXN1cmVtZW50cyIsCiAgICAgICAgICAgICJkaXN0cmlidXRpb25zIiwiZGlzdHMiLCJoaXN0b2dyYW1zIiwibWV0YSJ9CiAgICBmb3IgaywgdiBpbiByZWMuaXRlbXMoKToKICAgICAgICBpZiBrIG5vdCBpbiBza2lwOgogICAgICAgICAgICBtZXRhLnNldGRlZmF1bHQoaywgdikKCiAgICByZXR1cm4gUkdTdGVwKAogICAgICAgIGluZGV4PWlkeCwKICAgICAgICBzY2FsZT1zY2FsZSwKICAgICAgICBsZXZlbD1sZXZlbCwKICAgICAgICBwYXJhbXM9X2NvZXJjZV9udW1fbWFwKHBhcmFtc19yYXcpIGlmIGlzaW5zdGFuY2UocGFyYW1zX3JhdywgTWFwcGluZykgZWxzZSB7fSwKICAgICAgICBvYnNlcnZhYmxlcz1kaWN0KG9ic19yYXcpIGlmIGlzaW5zdGFuY2Uob2JzX3JhdywgTWFwcGluZykgZWxzZSB7Il92YWx1ZSI6IG9ic19yYXd9LAogICAgICAgIGRpc3RyaWJ1dGlvbnM9ZGljdChkaXN0X3JhdykgaWYgaXNpbnN0YW5jZShkaXN0X3JhdywgTWFwcGluZykgZWxzZSB7Il92YWx1ZSI6IGRpc3RfcmF3fSwKICAgICAgICBtZXRhPW1ldGEsCiAgICApCmRlZiBmcm9tX3JlY29yZHMoCiAgICByZWNvcmRzOiBTZXF1ZW5jZVtNYXBwaW5nW3N0ciwgQW55XV0sCiAgICAqLAogICAgbmFtZTogc3RyID0gInJnX2RhdGFzZXQiLAogICAga2luZDogc3RyID0gImF1dG8iLAogICAgbWV0YTogT3B0aW9uYWxbTWFwcGluZ1tzdHIsIEFueV1dID0gTm9uZSwKKSAtPiBSR0RhdGFzZXQ6CiAgICAiIiJCdWlsZCBhIG5vcm1hbGl6ZWQgZGF0YXNldCBmcm9tIGEgbGlzdCBvZiBkaWN0IHJlY29yZHMuIiIiCiAgICBkcyA9IFJHRGF0YXNldChuYW1lPW5hbWUsIGtpbmQ9a2luZCwgbWV0YT1kaWN0KG1ldGEgb3Ige30pKQogICAgZHMuc3RlcHMgPSBbX25vcm1hbGl6ZV9zdGVwKHIsIGkpIGZvciBpLCByIGluIGVudW1lcmF0ZShyZWNvcmRzKV0KICAgIHJldHVybiBkcwoKCmRlZiBfbG9hZF9qc29uX2FueShwYXRoOiBQYXRoKSAtPiBKc29uOgogICAgcmV0dXJuIGpzb24ubG9hZHMocGF0aC5yZWFkX3RleHQoZW5jb2Rpbmc9InV0Zi04IikpCgoKZGVmIF9sb2FkX2pzb25sKHBhdGg6IFBhdGgpIC0+IExpc3RbZGljdF06CiAgICBvdXQ6IExpc3RbZGljdF0gPSBbXQogICAgZm9yIGxpbmUgaW4gcGF0aC5yZWFkX3RleHQoZW5jb2Rpbmc9InV0Zi04Iikuc3BsaXRsaW5lcygpOgogICAgICAgIGxpbmUgPSBsaW5lLnN0cmlwKCkKICAgICAgICBpZiBub3QgbGluZSBvciBsaW5lLnN0YXJ0c3dpdGgoIiMiKToKICAgICAgICAgICAgY29udGludWUKICAgICAgICBvdXQuYXBwZW5kKGpzb24ubG9hZHMobGluZSkpCiAgICByZXR1cm4gb3V0CgoKZGVmIGxvYWRfcmdfZGF0YXNldCgKICAgIHBhdGg6IFVuaW9uW3N0ciwgUGF0aF0sCiAgICAqLAogICAga2luZDogc3RyID0gImF1dG8iLAogICAgbmFtZTogT3B0aW9uYWxbc3RyXSA9IE5vbmUsCikgLT4gUkdEYXRhc2V0OgogICAgIiIiTG9hZCBhIGRhdGFzZXQgZnJvbSAuanNvbiBvciAuanNvbmwgKG5ld2xpbmUtZGVsaW1pdGVkIEpTT04pLgoKICAgIEFjY2VwdGVkIHN0cnVjdHVyZXM6CiAgICAgIC0gbGlzdFtkaWN0XTogc3RlcCByZWNvcmRzCiAgICAgIC0gZGljdCB3aXRoIGtleSAnc3RlcHMnLydyZWNvcmRzJy8nZmxvdycvJ3RyYWplY3RvcnknOiBjb250YWluZXIKICAgICAgLSBkaWN0LW9mLWRpY3RzOiBrZXlzIHNvcnRhYmxlIHRvIHN0ZXBzIChlLmcuLCB7MDp7Li4ufSwxOnsuLi59fSkKICAgICIiIgogICAgcCA9IFBhdGgocGF0aCkKICAgIG5tID0gbmFtZSBvciBwLnN0ZW0KCiAgICBpZiBwLnN1ZmZpeC5sb3dlcigpIGluIHsiLmpzb25sIiwgIi5uZGpzb24ifToKICAgICAgICByZXR1cm4gZnJvbV9yZWNvcmRzKF9sb2FkX2pzb25sKHApLCBuYW1lPW5tLCBraW5kPWtpbmQsIG1ldGE9eyJzb3VyY2UiOiBzdHIocCl9KQoKICAgIG9iaiA9IF9sb2FkX2pzb25fYW55KHApCiAgICBpZiBpc2luc3RhbmNlKG9iaiwgbGlzdCk6CiAgICAgICAgcmV0dXJuIGZyb21fcmVjb3JkcyhvYmosIG5hbWU9bm0sIGtpbmQ9a2luZCwgbWV0YT17InNvdXJjZSI6IHN0cihwKX0pCiAgICBpZiBub3QgaXNpbnN0YW5jZShvYmosIGRpY3QpOgogICAgICAgIHJhaXNlIFR5cGVFcnJvcihmIlVuc3VwcG9ydGVkIEpTT04gcm9vdCB0eXBlOiB7dHlwZShvYmopLl9fbmFtZV9ffSIpCgogICAgc3RlcHMgPSBOb25lCiAgICBmb3Iga2V5IGluICgic3RlcHMiLCAicmVjb3JkcyIsICJmbG93IiwgInRyYWplY3RvcnkiKToKICAgICAgICBpZiBrZXkgaW4gb2JqOgogICAgICAgICAgICBzdGVwcyA9IG9ialtrZXldCiAgICAgICAgICAgIGJyZWFrCgogICAgaWYgc3RlcHMgaXMgTm9uZSBhbmQgYWxsKGlzaW5zdGFuY2UodiwgZGljdCkgZm9yIHYgaW4gb2JqLnZhbHVlcygpKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHN0ZXBzID0gW3YgZm9yIF8sIHYgaW4gc29ydGVkKG9iai5pdGVtcygpLCBrZXk9bGFtYmRhIGt2OiBpbnQoc3RyKGt2WzBdKSkpXQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgIHN0ZXBzID0gbGlzdChvYmoudmFsdWVzKCkpCgogICAgaWYgbm90IGlzaW5zdGFuY2Uoc3RlcHMsIGxpc3QpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIkNvdWxkIG5vdCBsb2NhdGUgYSBsaXN0IG9mIHN0ZXAgcmVjb3JkcyBpbiBKU09OLiIpCgogICAgbWV0YSA9IGRpY3Qob2JqLmdldCgibWV0YSIsIHt9KSkgaWYgaXNpbnN0YW5jZShvYmouZ2V0KCJtZXRhIiwge30pLCBkaWN0KSBlbHNlIHt9CiAgICBtZXRhLnNldGRlZmF1bHQoInNvdXJjZSIsIHN0cihwKSkKICAgIG1ldGEuc2V0ZGVmYXVsdCgiY29udGFpbmVyX2tleXMiLCBzb3J0ZWQob2JqLmtleXMoKSkpCiAgICByZXR1cm4gZnJvbV9yZWNvcmRzKHN0ZXBzLCBuYW1lPW5tLCBraW5kPWtpbmQsIG1ldGE9bWV0YSkKCgpkZWYgbWVyZ2VfZGF0YXNldHMoKmRhdGFzZXRzOiBSR0RhdGFzZXQsIG5hbWU6IHN0ciA9ICJtZXJnZWQiKSAtPiBSR0RhdGFzZXQ6CiAgICAiIiJDb25jYXRlbmF0ZSBtdWx0aXBsZSBkYXRhc2V0cyAodXNlZnVsIGZvciBtdWx0aS1ydW4gZW5zZW1ibGVzKS4iIiIKICAgIG1ldGEgPSB7Im1lcmdlZF9mcm9tIjogW2QubmFtZSBmb3IgZCBpbiBkYXRhc2V0c119CiAgICBzdGVwczogTGlzdFtSR1N0ZXBdID0gW10KICAgIGZvciBkaSwgZCBpbiBlbnVtZXJhdGUoZGF0YXNldHMpOgogICAgICAgIGZvciBzIGluIGQuc3RlcHM6CiAgICAgICAgICAgIHMyID0gUkdTdGVwKCoqcy5fX2RpY3RfXykKICAgICAgICAgICAgczIubWV0YSA9IGRpY3QoczIubWV0YSkKICAgICAgICAgICAgczIubWV0YS5zZXRkZWZhdWx0KCJydW5faW5kZXgiLCBkaSkKICAgICAgICAgICAgc3RlcHMuYXBwZW5kKHMyKQogICAgcmV0dXJuIFJHRGF0YXNldChuYW1lPW5hbWUsIGtpbmQ9Im1lcmdlZCIsIG1ldGE9bWV0YSwgc3RlcHM9c3RlcHMpCg==\"}\nDIR_STATE:[\"src/sf_gft_diagnostics/__init__.py\",\"src/sf_gft_diagnostics/benchmarks.py\",\"src/sf_gft_diagnostics/metrics.py\",\"src/sf_gft_diagnostics/observables.py\",\"src/sf_gft_diagnostics/reporting.py\",\"src/sf_gft_diagnostics/rg_io.py\",\"src/sf_gft_diagnostics/scaling.py\"]"
        }
      ],
      "role": "assistant"
    }
  ],
  "codeResults": []
}