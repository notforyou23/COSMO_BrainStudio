{
  "content": "FILE_EXPORT:{\"path\":\"src/sf_gft_diagnostics/scaling.py\",\"size\":7791,\"encoding\":\"base64\",\"sha256\":\"546a9bccc03fea3cb538642bf350f22027b41760048775d8c8194fad8af9f772\",\"content\":\"IiIiU2NhbGluZy1hbmFseXNpcyB1dGlsaXRpZXMgZm9yIHNwaW4tZm9hbS9HRlQgY29udGludXVtLXJlY292ZXJ5IGRpYWdub3N0aWNzLgoKQ29yZSBmZWF0dXJlczoKLSBlZmZlY3RpdmUgKGxvY2FsKSBzY2FsaW5nIGV4cG9uZW50cyBmcm9tIGxvZy1kZXJpdmF0aXZlcwotIGZpbml0ZS1zaXplIHNjYWxpbmcgKEZTUykgcmVzY2FsaW5nICsgY29sbGFwc2Ugc2NvcmluZwotIGh5cGVyc2NhbGluZyBjb25zaXN0ZW5jeSBjaGVja3MgZm9yIGV4cG9uZW50IHNldHMKLSBib290c3RyYXAgcmVzYW1wbGluZyBhbmQgc2ltcGxlIGVycm9yIHByb3BhZ2F0aW9uCiIiIgoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gdHlwaW5nIGltcG9ydCBDYWxsYWJsZSwgRGljdCwgSXRlcmFibGUsIE1hcHBpbmcsIE9wdGlvbmFsLCBTZXF1ZW5jZSwgVHVwbGUKCmltcG9ydCBudW1weSBhcyBucApkZWYgX2FzXzFkKGEpIC0+IG5wLm5kYXJyYXk6CiAgICBhID0gbnAuYXNhcnJheShhKQogICAgcmV0dXJuIGEucmF2ZWwoKSBpZiBhLm5kaW0gZWxzZSBhLnJlc2hhcGUoMSkKCgpkZWYgZWZmZWN0aXZlX2V4cG9uZW50KHgsIHksICosIGxvZ2xvZzogYm9vbCA9IFRydWUpIC0+IFR1cGxlW25wLm5kYXJyYXksIG5wLm5kYXJyYXldOgogICAgIiIiUmV0dXJuICh4X21pZCwgYWxwaGFfZWZmKSBmcm9tIGZpbml0ZS1kaWZmZXJlbmNlIGxvZy1kZXJpdmF0aXZlcy4KCiAgICBJZiBsb2dsb2c9VHJ1ZTogYWxwaGFfZWZmID0gZCBsb2coeSkgLyBkIGxvZyh4KTsgZWxzZSBkIHkgLyBkIHguCiAgICBBc3N1bWVzIHggaXMgc3RyaWN0bHkgbW9ub3RvbmUuCiAgICAiIiIKICAgIHggPSBfYXNfMWQoeCkuYXN0eXBlKGZsb2F0KQogICAgeSA9IF9hc18xZCh5KS5hc3R5cGUoZmxvYXQpCiAgICBpZiB4LnNpemUgIT0geS5zaXplIG9yIHguc2l6ZSA8IDM6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigieCBhbmQgeSBtdXN0IGhhdmUgc2FtZSBsZW5ndGggPj0gMyIpCiAgICBpZiBub3QgKG5wLmFsbChucC5kaWZmKHgpID4gMCkgb3IgbnAuYWxsKG5wLmRpZmYoeCkgPCAwKSk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigieCBtdXN0IGJlIHN0cmljdGx5IG1vbm90b25lIikKICAgIGlmIGxvZ2xvZzoKICAgICAgICBpZiBucC5hbnkoeCA8PSAwKSBvciBucC5hbnkoeSA8PSAwKToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigibG9nbG9nIHJlcXVpcmVzIHg+MCBhbmQgeT4wIikKICAgICAgICBseCwgbHkgPSBucC5sb2coeCksIG5wLmxvZyh5KQogICAgICAgIHNsb3BlID0gbnAuZGlmZihseSkgLyBucC5kaWZmKGx4KQogICAgZWxzZToKICAgICAgICBzbG9wZSA9IG5wLmRpZmYoeSkgLyBucC5kaWZmKHgpCiAgICB4bWlkID0gMC41ICogKHhbMTpdICsgeFs6LTFdKQogICAgcmV0dXJuIHhtaWQsIHNsb3BlCmRlZiBtb3Zpbmdfd2luZG93X2V4cG9uZW50KHgsIHksICosIGs6IGludCA9IDUpIC0+IFR1cGxlW25wLm5kYXJyYXksIG5wLm5kYXJyYXldOgogICAgIiIiTGVhc3Qtc3F1YXJlcyBsb2NhbCBleHBvbmVudCBvdmVyIGEgbW92aW5nIHdpbmRvdyBpbiBsb2ctbG9nIHNwYWNlLgoKICAgIEZpdHMgbG9nKHkpPWEqbG9nKHgpK2Igb24gd2luZG93cyBvZiBzaXplIGs7IHJldHVybnMgd2luZG93IGNlbnRlcnMuCiAgICAiIiIKICAgIHggPSBfYXNfMWQoeCkuYXN0eXBlKGZsb2F0KQogICAgeSA9IF9hc18xZCh5KS5hc3R5cGUoZmxvYXQpCiAgICBpZiBrIDwgMyBvciBrID4geC5zaXplOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImsgbXVzdCBzYXRpc2Z5IDMgPD0gayA8PSBsZW4oeCkiKQogICAgaWYgbnAuYW55KHggPD0gMCkgb3IgbnAuYW55KHkgPD0gMCk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigicmVxdWlyZXMgeD4wIGFuZCB5PjAiKQogICAgbHgsIGx5ID0gbnAubG9nKHgpLCBucC5sb2coeSkKICAgIGFscGhhcywgeGMgPSBbXSwgW10KICAgIGZvciBpIGluIHJhbmdlKHguc2l6ZSAtIGsgKyAxKToKICAgICAgICBYID0gbHhbaSA6IGkgKyBrXQogICAgICAgIFkgPSBseVtpIDogaSArIGtdCiAgICAgICAgQSA9IG5wLnZzdGFjayhbWCwgbnAub25lc19saWtlKFgpXSkuVAogICAgICAgIGEsIF9iID0gbnAubGluYWxnLmxzdHNxKEEsIFksIHJjb25kPU5vbmUpWzBdCiAgICAgICAgYWxwaGFzLmFwcGVuZChhKQogICAgICAgIHhjLmFwcGVuZChucC5leHAobnAubWVhbihYKSkpCiAgICByZXR1cm4gbnAuYXNhcnJheSh4YyksIG5wLmFzYXJyYXkoYWxwaGFzKQpAZGF0YWNsYXNzKGZyb3plbj1UcnVlKQpjbGFzcyBGU1NSZXNjYWxlOgogICAgIiIiRmluaXRlLXNpemUgc2NhbGluZyByZXNjYWxpbmcgbWFwLgoKICAgIFR5cGljYWwgdXNlOiB0ID0gKGctZ2MpL2djIGFuZCBvYnNlcnZhYmxlIE8oZyxMKSB+IExeey15T30gZih0IExeezEvbnV9KS4KICAgIFByb3ZpZGUgeU8gPSBiZXRhL251IChtYWduZXRpemF0aW9uKSwgLWdhbW1hL251IChzdXNjZXB0aWJpbGl0eSksIGV0Yy4KICAgICIiIgogICAgbnU6IGZsb2F0CiAgICB5TzogZmxvYXQKICAgIGdjOiBmbG9hdAoKICAgIGRlZiB0cmFuc2Zvcm0oc2VsZiwgZywgTywgTCkgLT4gVHVwbGVbbnAubmRhcnJheSwgbnAubmRhcnJheV06CiAgICAgICAgZyA9IG5wLmFzYXJyYXkoZywgZmxvYXQpCiAgICAgICAgTyA9IG5wLmFzYXJyYXkoTywgZmxvYXQpCiAgICAgICAgTCA9IG5wLmFzYXJyYXkoTCwgZmxvYXQpCiAgICAgICAgdCA9IChnIC0gc2VsZi5nYykgLyBzZWxmLmdjCiAgICAgICAgeCA9IHQgKiAoTCAqKiAoMS4wIC8gc2VsZi5udSkpCiAgICAgICAgeSA9IE8gKiAoTCAqKiAoc2VsZi55TykpCiAgICAgICAgcmV0dXJuIHgsIHkKZGVmIGNvbGxhcHNlX3Njb3JlKAogICAgY3VydmVzOiBTZXF1ZW5jZVtUdXBsZVtucC5uZGFycmF5LCBucC5uZGFycmF5XV0sCiAgICAqLAogICAgbmJpbnM6IGludCA9IDMwLAogICAgeGxpbTogT3B0aW9uYWxbVHVwbGVbZmxvYXQsIGZsb2F0XV0gPSBOb25lLAopIC0+IGZsb2F0OgogICAgIiIiUXVhbnRpZnkgY3VydmUgY29sbGFwc2UgKGxvd2VyIGlzIGJldHRlcikgdXNpbmcgYmlubmVkIHZhcmlhbmNlLgoKICAgIGN1cnZlczogbGlzdCBvZiAoeF9yZXNjYWxlZCwgeV9yZXNjYWxlZCkuIFVzZXMgY29tbW9uIHgtcmFuZ2Ugb3ZlcmxhcC4KICAgIFJldHVybnMgbWVhbiBvdmVyIGJpbnMgb2YgVmFyKHkpL01lYW4oeSleMiAoc2NhbGUtaW52YXJpYW50KS4KICAgICIiIgogICAgaWYgbGVuKGN1cnZlcykgPCAyOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIm5lZWQgYXQgbGVhc3QgdHdvIGN1cnZlcyIpCiAgICB4cyA9IFtucC5hc2FycmF5KGNbMF0sIGZsb2F0KSBmb3IgYyBpbiBjdXJ2ZXNdCiAgICB5cyA9IFtucC5hc2FycmF5KGNbMV0sIGZsb2F0KSBmb3IgYyBpbiBjdXJ2ZXNdCiAgICB4bWluID0gbWF4KG5wLm1pbih4KSBmb3IgeCBpbiB4cykKICAgIHhtYXggPSBtaW4obnAubWF4KHgpIGZvciB4IGluIHhzKQogICAgaWYgeGxpbSBpcyBub3QgTm9uZToKICAgICAgICB4bWluLCB4bWF4ID0gbWF4KHhtaW4sIHhsaW1bMF0pLCBtaW4oeG1heCwgeGxpbVsxXSkKICAgIGlmIG5vdCBucC5pc2Zpbml0ZShbeG1pbiwgeG1heF0pLmFsbCgpIG9yIHhtYXggPD0geG1pbjoKICAgICAgICByZXR1cm4gbnAuaW5mCiAgICBlZGdlcyA9IG5wLmxpbnNwYWNlKHhtaW4sIHhtYXgsIG5iaW5zICsgMSkKICAgIHNjb3JlcyA9IFtdCiAgICBmb3IgbG8sIGhpIGluIHppcChlZGdlc1s6LTFdLCBlZGdlc1sxOl0pOgogICAgICAgIHZhbHMgPSBbXQogICAgICAgIGZvciB4LCB5IGluIHppcCh4cywgeXMpOgogICAgICAgICAgICBtID0gKHggPj0gbG8pICYgKHggPCBoaSkKICAgICAgICAgICAgaWYgbnAuYW55KG0pOgogICAgICAgICAgICAgICAgdmFscy5hcHBlbmQobnAubmFubWVhbih5W21dKSkKICAgICAgICBpZiBsZW4odmFscykgPj0gMjoKICAgICAgICAgICAgdiA9IG5wLm5hbnZhcih2YWxzKQogICAgICAgICAgICBtdSA9IG5wLm5hbm1lYW4odmFscykKICAgICAgICAgICAgaWYgbnAuaXNmaW5pdGUodikgYW5kIG5wLmlzZmluaXRlKG11KSBhbmQgbXUgIT0gMDoKICAgICAgICAgICAgICAgIHNjb3Jlcy5hcHBlbmQodiAvIChtdSAqIG11KSkKICAgIHJldHVybiBmbG9hdChucC5uYW5tZWFuKHNjb3JlcykpIGlmIHNjb3JlcyBlbHNlIG5wLmluZgpkZWYgZ3JpZF9zZWFyY2hfY29sbGFwc2UoCiAgICBnX2xpc3Q6IFNlcXVlbmNlW25wLm5kYXJyYXldLAogICAgT19saXN0OiBTZXF1ZW5jZVtucC5uZGFycmF5XSwKICAgIExfbGlzdDogU2VxdWVuY2VbZmxvYXRdLAogICAgKiwKICAgIG51czogU2VxdWVuY2VbZmxvYXRdLAogICAgeU9zOiBTZXF1ZW5jZVtmbG9hdF0sCiAgICBnY3M6IFNlcXVlbmNlW2Zsb2F0XSwKICAgIG5iaW5zOiBpbnQgPSAzMCwKKSAtPiBEaWN0W3N0ciwgZmxvYXRdOgogICAgIiIiQnJ1dGUtZm9yY2Ugc2VhcmNoIGZvciBiZXN0IEZTUyBjb2xsYXBzZSBwYXJhbWV0ZXJzLgoKICAgIElucHV0cyBhcmUgcGVyLXNpemUgYXJyYXlzOiBnX2xpc3RbaV0sIE9fbGlzdFtpXSBmb3Igc3lzdGVtIHNpemUgTF9saXN0W2ldLgogICAgUmV0dXJucyBkaWN0IHdpdGggYmVzdCBudSwgeU8sIGdjLCBzY29yZS4KICAgICIiIgogICAgaWYgbm90IChsZW4oZ19saXN0KSA9PSBsZW4oT19saXN0KSA9PSBsZW4oTF9saXN0KSA+PSAyKToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJnX2xpc3QsIE9fbGlzdCwgTF9saXN0IG11c3QgaGF2ZSBzYW1lIGxlbmd0aCA+PSAyIikKICAgIGJlc3QgPSB7Im51IjogbnAubmFuLCAieU8iOiBucC5uYW4sICJnYyI6IG5wLm5hbiwgInNjb3JlIjogbnAuaW5mfQogICAgZm9yIG51IGluIG51czoKICAgICAgICBmb3IgeU8gaW4geU9zOgogICAgICAgICAgICBmb3IgZ2MgaW4gZ2NzOgogICAgICAgICAgICAgICAgdHIgPSBGU1NSZXNjYWxlKG51PWZsb2F0KG51KSwgeU89ZmxvYXQoeU8pLCBnYz1mbG9hdChnYykpCiAgICAgICAgICAgICAgICBjdXJ2ZXMgPSBbdHIudHJhbnNmb3JtKGcsIE8sIEwpIGZvciBnLCBPLCBMIGluIHppcChnX2xpc3QsIE9fbGlzdCwgTF9saXN0KV0KICAgICAgICAgICAgICAgIHNjID0gY29sbGFwc2Vfc2NvcmUoY3VydmVzLCBuYmlucz1uYmlucykKICAgICAgICAgICAgICAgIGlmIHNjIDwgYmVzdFsic2NvcmUiXToKICAgICAgICAgICAgICAgICAgICBiZXN0ID0geyJudSI6IGZsb2F0KG51KSwgInlPIjogZmxvYXQoeU8pLCAiZ2MiOiBmbG9hdChnYyksICJzY29yZSI6IGZsb2F0KHNjKX0KICAgIHJldHVybiBiZXN0CmRlZiBoeXBlcnNjYWxpbmdfcmVzaWR1YWxzKGV4cG9uZW50czogTWFwcGluZ1tzdHIsIGZsb2F0XSwgKiwgZDogT3B0aW9uYWxbZmxvYXRdID0gTm9uZSkgLT4gRGljdFtzdHIsIGZsb2F0XToKICAgICIiIlJldHVybiByZXNpZHVhbHMgb2YgY29tbW9uIGh5cGVyc2NhbGluZy9zY2FsaW5nIHJlbGF0aW9ucy4KCiAgICBTdXBwb3J0cyBrZXlzIGFtb25nOiBhbHBoYSxiZXRhLGdhbW1hLGRlbHRhLG51LGV0YTsgb3B0aW9uYWwgZGltZW5zaW9uIGQuCiAgICBSZXNpZHVhbHMgYXJlIExIUy1SSFMgZm9yIGVhY2ggcmVsYXRpb24gdGhhdCBjYW4gYmUgZXZhbHVhdGVkLgogICAgIiIiCiAgICBlID0ge2s6IGZsb2F0KHYpIGZvciBrLCB2IGluIGV4cG9uZW50cy5pdGVtcygpfQogICAgcjogRGljdFtzdHIsIGZsb2F0XSA9IHt9CiAgICBpZiB7ImFscGhhIiwgImJldGEiLCAiZ2FtbWEifSA8PSBlLmtleXMoKToKICAgICAgICByWyJydXNoYnJvb2tlOiBhbHBoYSsyYmV0YStnYW1tYT0yIl0gPSBlWyJhbHBoYSJdICsgMiAqIGVbImJldGEiXSArIGVbImdhbW1hIl0gLSAyCiAgICBpZiB7ImdhbW1hIiwgImJldGEiLCAiZGVsdGEifSA8PSBlLmtleXMoKToKICAgICAgICByWyJ3aWRvbTogZ2FtbWE9YmV0YShkZWx0YS0xKSJdID0gZVsiZ2FtbWEiXSAtIGVbImJldGEiXSAqIChlWyJkZWx0YSJdIC0gMSkKICAgIGlmIHsiZ2FtbWEiLCAibnUiLCAiZXRhIn0gPD0gZS5rZXlzKCk6CiAgICAgICAgclsiZmlzaGVyOiBnYW1tYT0oMi1ldGEpbnUiXSA9IGVbImdhbW1hIl0gLSAoMiAtIGVbImV0YSJdKSAqIGVbIm51Il0KICAgIGlmIGQgaXMgbm90IE5vbmUgYW5kIHsiYWxwaGEiLCAibnUifSA8PSBlLmtleXMoKToKICAgICAgICByWyJqb3NlcGhzb246IDItYWxwaGE9ZCBudSJdID0gKDIgLSBlWyJhbHBoYSJdKSAtIGZsb2F0KGQpICogZVsibnUiXQogICAgcmV0dXJuIHIKZGVmIHByb3BhZ2F0ZV91bmNlcnRhaW50eSgKICAgIGY6IENhbGxhYmxlW1tucC5uZGFycmF5XSwgZmxvYXRdLAogICAgeDogU2VxdWVuY2VbZmxvYXRdLAogICAgY292OiBucC5uZGFycmF5LAogICAgKiwKICAgIGVwczogZmxvYXQgPSAxZS02LAopIC0+IGZsb2F0OgogICAgIiIiRGVsdGEtbWV0aG9kIHN0ZCBmb3IgZih4KSBnaXZlbiBjb3ZhcmlhbmNlIG9mIHggKG51bWVyaWNhbCBKYWNvYmlhbikuIiIiCiAgICB4ID0gbnAuYXNhcnJheSh4LCBmbG9hdCkKICAgIGNvdiA9IG5wLmFzYXJyYXkoY292LCBmbG9hdCkKICAgIGlmIGNvdi5zaGFwZSAhPSAoeC5zaXplLCB4LnNpemUpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImNvdiBtdXN0IGJlIHNxdWFyZSAobixuKSBtYXRjaGluZyB4IikKICAgIGZ4ID0gZmxvYXQoZih4KSkKICAgIEogPSBucC56ZXJvc19saWtlKHgpCiAgICBmb3IgaSBpbiByYW5nZSh4LnNpemUpOgogICAgICAgIGR4ID0gbnAuemVyb3NfbGlrZSh4KQogICAgICAgIGR4W2ldID0gZXBzICogKDEuMCArIGFicyh4W2ldKSkKICAgICAgICBKW2ldID0gKGZsb2F0KGYoeCArIGR4KSkgLSBmeCkgLyBkeFtpXQogICAgdmFyID0gZmxvYXQoSiBAIGNvdiBAIEopCiAgICByZXR1cm4gZmxvYXQobnAuc3FydChtYXgodmFyLCAwLjApKSkKCgpkZWYgYm9vdHN0cmFwKAogICAgZGF0YTogbnAubmRhcnJheSwKICAgIHN0YXQ6IENhbGxhYmxlW1tucC5uZGFycmF5XSwgbnAubmRhcnJheV0sCiAgICAqLAogICAgbjogaW50ID0gNTAwLAogICAgcm5nOiBPcHRpb25hbFtucC5yYW5kb20uR2VuZXJhdG9yXSA9IE5vbmUsCiAgICBjaTogZmxvYXQgPSAwLjY4LAopIC0+IERpY3Rbc3RyLCBucC5uZGFycmF5XToKICAgICIiIkJvb3RzdHJhcCBhIHN0YXRpc3RpYyBvdmVyIGZpcnN0IGF4aXM7IHJldHVybnMgbWVhbi9zdGQgYW5kIGNlbnRyYWwgQ0kuIiIiCiAgICBybmcgPSBucC5yYW5kb20uZGVmYXVsdF9ybmcoKSBpZiBybmcgaXMgTm9uZSBlbHNlIHJuZwogICAgeCA9IG5wLmFzYXJyYXkoZGF0YSkKICAgIGlmIHgubmRpbSA9PSAwOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImRhdGEgbXVzdCBiZSBhcnJheS1saWtlIikKICAgIG0gPSB4LnNoYXBlWzBdCiAgICByZXBzID0gW10KICAgIGZvciBfIGluIHJhbmdlKGludChuKSk6CiAgICAgICAgaWR4ID0gcm5nLmludGVnZXJzKDAsIG0sIHNpemU9bSkKICAgICAgICByZXBzLmFwcGVuZChucC5hc2FycmF5KHN0YXQoeFtpZHhdKSkpCiAgICByZXBzID0gbnAuc3RhY2socmVwcywgYXhpcz0wKQogICAgbWVhbiA9IG5wLm5hbm1lYW4ocmVwcywgYXhpcz0wKQogICAgc3RkID0gbnAubmFuc3RkKHJlcHMsIGF4aXM9MCwgZGRvZj0xKQogICAgbG8gPSBucC5uYW5xdWFudGlsZShyZXBzLCAoMSAtIGNpKSAvIDIsIGF4aXM9MCkKICAgIGhpID0gbnAubmFucXVhbnRpbGUocmVwcywgMSAtICgxIC0gY2kpIC8gMiwgYXhpcz0wKQogICAgcmV0dXJuIHsibWVhbiI6IG1lYW4sICJzdGQiOiBzdGQsICJjaV9sbyI6IGxvLCAiY2lfaGkiOiBoaX0K\"}\nDIR_STATE:[\"src/sf_gft_diagnostics/__init__.py\",\"src/sf_gft_diagnostics/benchmarks.py\",\"src/sf_gft_diagnostics/metrics.py\",\"src/sf_gft_diagnostics/observables.py\",\"src/sf_gft_diagnostics/reporting.py\",\"src/sf_gft_diagnostics/rg_io.py\",\"src/sf_gft_diagnostics/scaling.py\"]",
  "reasoning": "",
  "responseId": "resp_0b3dcc618b64dce4006949a0797d048197bd657c2bc4ae788c",
  "model": "gpt-5.2-2025-12-11",
  "usage": {
    "input_tokens": 8803,
    "input_tokens_details": {
      "cached_tokens": 0
    },
    "output_tokens": 5930,
    "output_tokens_details": {
      "reasoning_tokens": 31
    },
    "total_tokens": 14733
  },
  "hadError": false,
  "errorType": null,
  "webSearchSources": [],
  "citations": [],
  "output": [
    {
      "id": "rs_0b3dcc618b64dce4006949a07a65208197a404b8a5cd03ad56",
      "type": "reasoning",
      "summary": []
    },
    {
      "id": "ci_0b3dcc618b64dce4006949a07b63a08197871093324ab2bb15",
      "type": "code_interpreter_call",
      "status": "completed",
      "code": "from pathlib import Path\nimport base64, json, hashlib, gzip\n\ntarget_path = Path('/mnt/data').joinpath('src/sf_gft_diagnostics/scaling.py')\nassert target_path.is_file(), 'Expected src/sf_gft_diagnostics/scaling.py to exist before export'\ndata = target_path.read_bytes()\npayload = {\n  'path': 'src/sf_gft_diagnostics/scaling.py',\n  'size': len(data),\n  'encoding': 'base64',\n  'sha256': hashlib.sha256(data).hexdigest(),\n  'content': None\n}\nif len(data) > 20000:\n    compressed = gzip.compress(data)\n    payload['encoding'] = 'gzip+base64'\n    payload['content'] = base64.b64encode(compressed).decode('ascii')\nelse:\n    payload['content'] = base64.b64encode(data).decode('ascii')\n\nprint('FILE_EXPORT:' + json.dumps(payload, separators=(',', ':')))\nprint('DIR_STATE:' + json.dumps(sorted(str(p.relative_to(Path(\"/mnt/data\"))) for p in target_path.parent.glob('*') if p.is_file())))",
      "container_id": "cntr_69499b97284881909e58fb047f14c1e300fdec2b43878464",
      "outputs": [
        {
          "type": "logs",
          "logs": "FILE_EXPORT:{\"path\":\"src/sf_gft_diagnostics/scaling.py\",\"size\":7791,\"encoding\":\"base64\",\"sha256\":\"546a9bccc03fea3cb538642bf350f22027b41760048775d8c8194fad8af9f772\",\"content\":\"IiIiU2NhbGluZy1hbmFseXNpcyB1dGlsaXRpZXMgZm9yIHNwaW4tZm9hbS9HRlQgY29udGludXVtLXJlY292ZXJ5IGRpYWdub3N0aWNzLgoKQ29yZSBmZWF0dXJlczoKLSBlZmZlY3RpdmUgKGxvY2FsKSBzY2FsaW5nIGV4cG9uZW50cyBmcm9tIGxvZy1kZXJpdmF0aXZlcwotIGZpbml0ZS1zaXplIHNjYWxpbmcgKEZTUykgcmVzY2FsaW5nICsgY29sbGFwc2Ugc2NvcmluZwotIGh5cGVyc2NhbGluZyBjb25zaXN0ZW5jeSBjaGVja3MgZm9yIGV4cG9uZW50IHNldHMKLSBib290c3RyYXAgcmVzYW1wbGluZyBhbmQgc2ltcGxlIGVycm9yIHByb3BhZ2F0aW9uCiIiIgoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gdHlwaW5nIGltcG9ydCBDYWxsYWJsZSwgRGljdCwgSXRlcmFibGUsIE1hcHBpbmcsIE9wdGlvbmFsLCBTZXF1ZW5jZSwgVHVwbGUKCmltcG9ydCBudW1weSBhcyBucApkZWYgX2FzXzFkKGEpIC0+IG5wLm5kYXJyYXk6CiAgICBhID0gbnAuYXNhcnJheShhKQogICAgcmV0dXJuIGEucmF2ZWwoKSBpZiBhLm5kaW0gZWxzZSBhLnJlc2hhcGUoMSkKCgpkZWYgZWZmZWN0aXZlX2V4cG9uZW50KHgsIHksICosIGxvZ2xvZzogYm9vbCA9IFRydWUpIC0+IFR1cGxlW25wLm5kYXJyYXksIG5wLm5kYXJyYXldOgogICAgIiIiUmV0dXJuICh4X21pZCwgYWxwaGFfZWZmKSBmcm9tIGZpbml0ZS1kaWZmZXJlbmNlIGxvZy1kZXJpdmF0aXZlcy4KCiAgICBJZiBsb2dsb2c9VHJ1ZTogYWxwaGFfZWZmID0gZCBsb2coeSkgLyBkIGxvZyh4KTsgZWxzZSBkIHkgLyBkIHguCiAgICBBc3N1bWVzIHggaXMgc3RyaWN0bHkgbW9ub3RvbmUuCiAgICAiIiIKICAgIHggPSBfYXNfMWQoeCkuYXN0eXBlKGZsb2F0KQogICAgeSA9IF9hc18xZCh5KS5hc3R5cGUoZmxvYXQpCiAgICBpZiB4LnNpemUgIT0geS5zaXplIG9yIHguc2l6ZSA8IDM6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigieCBhbmQgeSBtdXN0IGhhdmUgc2FtZSBsZW5ndGggPj0gMyIpCiAgICBpZiBub3QgKG5wLmFsbChucC5kaWZmKHgpID4gMCkgb3IgbnAuYWxsKG5wLmRpZmYoeCkgPCAwKSk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigieCBtdXN0IGJlIHN0cmljdGx5IG1vbm90b25lIikKICAgIGlmIGxvZ2xvZzoKICAgICAgICBpZiBucC5hbnkoeCA8PSAwKSBvciBucC5hbnkoeSA8PSAwKToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigibG9nbG9nIHJlcXVpcmVzIHg+MCBhbmQgeT4wIikKICAgICAgICBseCwgbHkgPSBucC5sb2coeCksIG5wLmxvZyh5KQogICAgICAgIHNsb3BlID0gbnAuZGlmZihseSkgLyBucC5kaWZmKGx4KQogICAgZWxzZToKICAgICAgICBzbG9wZSA9IG5wLmRpZmYoeSkgLyBucC5kaWZmKHgpCiAgICB4bWlkID0gMC41ICogKHhbMTpdICsgeFs6LTFdKQogICAgcmV0dXJuIHhtaWQsIHNsb3BlCmRlZiBtb3Zpbmdfd2luZG93X2V4cG9uZW50KHgsIHksICosIGs6IGludCA9IDUpIC0+IFR1cGxlW25wLm5kYXJyYXksIG5wLm5kYXJyYXldOgogICAgIiIiTGVhc3Qtc3F1YXJlcyBsb2NhbCBleHBvbmVudCBvdmVyIGEgbW92aW5nIHdpbmRvdyBpbiBsb2ctbG9nIHNwYWNlLgoKICAgIEZpdHMgbG9nKHkpPWEqbG9nKHgpK2Igb24gd2luZG93cyBvZiBzaXplIGs7IHJldHVybnMgd2luZG93IGNlbnRlcnMuCiAgICAiIiIKICAgIHggPSBfYXNfMWQoeCkuYXN0eXBlKGZsb2F0KQogICAgeSA9IF9hc18xZCh5KS5hc3R5cGUoZmxvYXQpCiAgICBpZiBrIDwgMyBvciBrID4geC5zaXplOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImsgbXVzdCBzYXRpc2Z5IDMgPD0gayA8PSBsZW4oeCkiKQogICAgaWYgbnAuYW55KHggPD0gMCkgb3IgbnAuYW55KHkgPD0gMCk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigicmVxdWlyZXMgeD4wIGFuZCB5PjAiKQogICAgbHgsIGx5ID0gbnAubG9nKHgpLCBucC5sb2coeSkKICAgIGFscGhhcywgeGMgPSBbXSwgW10KICAgIGZvciBpIGluIHJhbmdlKHguc2l6ZSAtIGsgKyAxKToKICAgICAgICBYID0gbHhbaSA6IGkgKyBrXQogICAgICAgIFkgPSBseVtpIDogaSArIGtdCiAgICAgICAgQSA9IG5wLnZzdGFjayhbWCwgbnAub25lc19saWtlKFgpXSkuVAogICAgICAgIGEsIF9iID0gbnAubGluYWxnLmxzdHNxKEEsIFksIHJjb25kPU5vbmUpWzBdCiAgICAgICAgYWxwaGFzLmFwcGVuZChhKQogICAgICAgIHhjLmFwcGVuZChucC5leHAobnAubWVhbihYKSkpCiAgICByZXR1cm4gbnAuYXNhcnJheSh4YyksIG5wLmFzYXJyYXkoYWxwaGFzKQpAZGF0YWNsYXNzKGZyb3plbj1UcnVlKQpjbGFzcyBGU1NSZXNjYWxlOgogICAgIiIiRmluaXRlLXNpemUgc2NhbGluZyByZXNjYWxpbmcgbWFwLgoKICAgIFR5cGljYWwgdXNlOiB0ID0gKGctZ2MpL2djIGFuZCBvYnNlcnZhYmxlIE8oZyxMKSB+IExeey15T30gZih0IExeezEvbnV9KS4KICAgIFByb3ZpZGUgeU8gPSBiZXRhL251IChtYWduZXRpemF0aW9uKSwgLWdhbW1hL251IChzdXNjZXB0aWJpbGl0eSksIGV0Yy4KICAgICIiIgogICAgbnU6IGZsb2F0CiAgICB5TzogZmxvYXQKICAgIGdjOiBmbG9hdAoKICAgIGRlZiB0cmFuc2Zvcm0oc2VsZiwgZywgTywgTCkgLT4gVHVwbGVbbnAubmRhcnJheSwgbnAubmRhcnJheV06CiAgICAgICAgZyA9IG5wLmFzYXJyYXkoZywgZmxvYXQpCiAgICAgICAgTyA9IG5wLmFzYXJyYXkoTywgZmxvYXQpCiAgICAgICAgTCA9IG5wLmFzYXJyYXkoTCwgZmxvYXQpCiAgICAgICAgdCA9IChnIC0gc2VsZi5nYykgLyBzZWxmLmdjCiAgICAgICAgeCA9IHQgKiAoTCAqKiAoMS4wIC8gc2VsZi5udSkpCiAgICAgICAgeSA9IE8gKiAoTCAqKiAoc2VsZi55TykpCiAgICAgICAgcmV0dXJuIHgsIHkKZGVmIGNvbGxhcHNlX3Njb3JlKAogICAgY3VydmVzOiBTZXF1ZW5jZVtUdXBsZVtucC5uZGFycmF5LCBucC5uZGFycmF5XV0sCiAgICAqLAogICAgbmJpbnM6IGludCA9IDMwLAogICAgeGxpbTogT3B0aW9uYWxbVHVwbGVbZmxvYXQsIGZsb2F0XV0gPSBOb25lLAopIC0+IGZsb2F0OgogICAgIiIiUXVhbnRpZnkgY3VydmUgY29sbGFwc2UgKGxvd2VyIGlzIGJldHRlcikgdXNpbmcgYmlubmVkIHZhcmlhbmNlLgoKICAgIGN1cnZlczogbGlzdCBvZiAoeF9yZXNjYWxlZCwgeV9yZXNjYWxlZCkuIFVzZXMgY29tbW9uIHgtcmFuZ2Ugb3ZlcmxhcC4KICAgIFJldHVybnMgbWVhbiBvdmVyIGJpbnMgb2YgVmFyKHkpL01lYW4oeSleMiAoc2NhbGUtaW52YXJpYW50KS4KICAgICIiIgogICAgaWYgbGVuKGN1cnZlcykgPCAyOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIm5lZWQgYXQgbGVhc3QgdHdvIGN1cnZlcyIpCiAgICB4cyA9IFtucC5hc2FycmF5KGNbMF0sIGZsb2F0KSBmb3IgYyBpbiBjdXJ2ZXNdCiAgICB5cyA9IFtucC5hc2FycmF5KGNbMV0sIGZsb2F0KSBmb3IgYyBpbiBjdXJ2ZXNdCiAgICB4bWluID0gbWF4KG5wLm1pbih4KSBmb3IgeCBpbiB4cykKICAgIHhtYXggPSBtaW4obnAubWF4KHgpIGZvciB4IGluIHhzKQogICAgaWYgeGxpbSBpcyBub3QgTm9uZToKICAgICAgICB4bWluLCB4bWF4ID0gbWF4KHhtaW4sIHhsaW1bMF0pLCBtaW4oeG1heCwgeGxpbVsxXSkKICAgIGlmIG5vdCBucC5pc2Zpbml0ZShbeG1pbiwgeG1heF0pLmFsbCgpIG9yIHhtYXggPD0geG1pbjoKICAgICAgICByZXR1cm4gbnAuaW5mCiAgICBlZGdlcyA9IG5wLmxpbnNwYWNlKHhtaW4sIHhtYXgsIG5iaW5zICsgMSkKICAgIHNjb3JlcyA9IFtdCiAgICBmb3IgbG8sIGhpIGluIHppcChlZGdlc1s6LTFdLCBlZGdlc1sxOl0pOgogICAgICAgIHZhbHMgPSBbXQogICAgICAgIGZvciB4LCB5IGluIHppcCh4cywgeXMpOgogICAgICAgICAgICBtID0gKHggPj0gbG8pICYgKHggPCBoaSkKICAgICAgICAgICAgaWYgbnAuYW55KG0pOgogICAgICAgICAgICAgICAgdmFscy5hcHBlbmQobnAubmFubWVhbih5W21dKSkKICAgICAgICBpZiBsZW4odmFscykgPj0gMjoKICAgICAgICAgICAgdiA9IG5wLm5hbnZhcih2YWxzKQogICAgICAgICAgICBtdSA9IG5wLm5hbm1lYW4odmFscykKICAgICAgICAgICAgaWYgbnAuaXNmaW5pdGUodikgYW5kIG5wLmlzZmluaXRlKG11KSBhbmQgbXUgIT0gMDoKICAgICAgICAgICAgICAgIHNjb3Jlcy5hcHBlbmQodiAvIChtdSAqIG11KSkKICAgIHJldHVybiBmbG9hdChucC5uYW5tZWFuKHNjb3JlcykpIGlmIHNjb3JlcyBlbHNlIG5wLmluZgpkZWYgZ3JpZF9zZWFyY2hfY29sbGFwc2UoCiAgICBnX2xpc3Q6IFNlcXVlbmNlW25wLm5kYXJyYXldLAogICAgT19saXN0OiBTZXF1ZW5jZVtucC5uZGFycmF5XSwKICAgIExfbGlzdDogU2VxdWVuY2VbZmxvYXRdLAogICAgKiwKICAgIG51czogU2VxdWVuY2VbZmxvYXRdLAogICAgeU9zOiBTZXF1ZW5jZVtmbG9hdF0sCiAgICBnY3M6IFNlcXVlbmNlW2Zsb2F0XSwKICAgIG5iaW5zOiBpbnQgPSAzMCwKKSAtPiBEaWN0W3N0ciwgZmxvYXRdOgogICAgIiIiQnJ1dGUtZm9yY2Ugc2VhcmNoIGZvciBiZXN0IEZTUyBjb2xsYXBzZSBwYXJhbWV0ZXJzLgoKICAgIElucHV0cyBhcmUgcGVyLXNpemUgYXJyYXlzOiBnX2xpc3RbaV0sIE9fbGlzdFtpXSBmb3Igc3lzdGVtIHNpemUgTF9saXN0W2ldLgogICAgUmV0dXJucyBkaWN0IHdpdGggYmVzdCBudSwgeU8sIGdjLCBzY29yZS4KICAgICIiIgogICAgaWYgbm90IChsZW4oZ19saXN0KSA9PSBsZW4oT19saXN0KSA9PSBsZW4oTF9saXN0KSA+PSAyKToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJnX2xpc3QsIE9fbGlzdCwgTF9saXN0IG11c3QgaGF2ZSBzYW1lIGxlbmd0aCA+PSAyIikKICAgIGJlc3QgPSB7Im51IjogbnAubmFuLCAieU8iOiBucC5uYW4sICJnYyI6IG5wLm5hbiwgInNjb3JlIjogbnAuaW5mfQogICAgZm9yIG51IGluIG51czoKICAgICAgICBmb3IgeU8gaW4geU9zOgogICAgICAgICAgICBmb3IgZ2MgaW4gZ2NzOgogICAgICAgICAgICAgICAgdHIgPSBGU1NSZXNjYWxlKG51PWZsb2F0KG51KSwgeU89ZmxvYXQoeU8pLCBnYz1mbG9hdChnYykpCiAgICAgICAgICAgICAgICBjdXJ2ZXMgPSBbdHIudHJhbnNmb3JtKGcsIE8sIEwpIGZvciBnLCBPLCBMIGluIHppcChnX2xpc3QsIE9fbGlzdCwgTF9saXN0KV0KICAgICAgICAgICAgICAgIHNjID0gY29sbGFwc2Vfc2NvcmUoY3VydmVzLCBuYmlucz1uYmlucykKICAgICAgICAgICAgICAgIGlmIHNjIDwgYmVzdFsic2NvcmUiXToKICAgICAgICAgICAgICAgICAgICBiZXN0ID0geyJudSI6IGZsb2F0KG51KSwgInlPIjogZmxvYXQoeU8pLCAiZ2MiOiBmbG9hdChnYyksICJzY29yZSI6IGZsb2F0KHNjKX0KICAgIHJldHVybiBiZXN0CmRlZiBoeXBlcnNjYWxpbmdfcmVzaWR1YWxzKGV4cG9uZW50czogTWFwcGluZ1tzdHIsIGZsb2F0XSwgKiwgZDogT3B0aW9uYWxbZmxvYXRdID0gTm9uZSkgLT4gRGljdFtzdHIsIGZsb2F0XToKICAgICIiIlJldHVybiByZXNpZHVhbHMgb2YgY29tbW9uIGh5cGVyc2NhbGluZy9zY2FsaW5nIHJlbGF0aW9ucy4KCiAgICBTdXBwb3J0cyBrZXlzIGFtb25nOiBhbHBoYSxiZXRhLGdhbW1hLGRlbHRhLG51LGV0YTsgb3B0aW9uYWwgZGltZW5zaW9uIGQuCiAgICBSZXNpZHVhbHMgYXJlIExIUy1SSFMgZm9yIGVhY2ggcmVsYXRpb24gdGhhdCBjYW4gYmUgZXZhbHVhdGVkLgogICAgIiIiCiAgICBlID0ge2s6IGZsb2F0KHYpIGZvciBrLCB2IGluIGV4cG9uZW50cy5pdGVtcygpfQogICAgcjogRGljdFtzdHIsIGZsb2F0XSA9IHt9CiAgICBpZiB7ImFscGhhIiwgImJldGEiLCAiZ2FtbWEifSA8PSBlLmtleXMoKToKICAgICAgICByWyJydXNoYnJvb2tlOiBhbHBoYSsyYmV0YStnYW1tYT0yIl0gPSBlWyJhbHBoYSJdICsgMiAqIGVbImJldGEiXSArIGVbImdhbW1hIl0gLSAyCiAgICBpZiB7ImdhbW1hIiwgImJldGEiLCAiZGVsdGEifSA8PSBlLmtleXMoKToKICAgICAgICByWyJ3aWRvbTogZ2FtbWE9YmV0YShkZWx0YS0xKSJdID0gZVsiZ2FtbWEiXSAtIGVbImJldGEiXSAqIChlWyJkZWx0YSJdIC0gMSkKICAgIGlmIHsiZ2FtbWEiLCAibnUiLCAiZXRhIn0gPD0gZS5rZXlzKCk6CiAgICAgICAgclsiZmlzaGVyOiBnYW1tYT0oMi1ldGEpbnUiXSA9IGVbImdhbW1hIl0gLSAoMiAtIGVbImV0YSJdKSAqIGVbIm51Il0KICAgIGlmIGQgaXMgbm90IE5vbmUgYW5kIHsiYWxwaGEiLCAibnUifSA8PSBlLmtleXMoKToKICAgICAgICByWyJqb3NlcGhzb246IDItYWxwaGE9ZCBudSJdID0gKDIgLSBlWyJhbHBoYSJdKSAtIGZsb2F0KGQpICogZVsibnUiXQogICAgcmV0dXJuIHIKZGVmIHByb3BhZ2F0ZV91bmNlcnRhaW50eSgKICAgIGY6IENhbGxhYmxlW1tucC5uZGFycmF5XSwgZmxvYXRdLAogICAgeDogU2VxdWVuY2VbZmxvYXRdLAogICAgY292OiBucC5uZGFycmF5LAogICAgKiwKICAgIGVwczogZmxvYXQgPSAxZS02LAopIC0+IGZsb2F0OgogICAgIiIiRGVsdGEtbWV0aG9kIHN0ZCBmb3IgZih4KSBnaXZlbiBjb3ZhcmlhbmNlIG9mIHggKG51bWVyaWNhbCBKYWNvYmlhbikuIiIiCiAgICB4ID0gbnAuYXNhcnJheSh4LCBmbG9hdCkKICAgIGNvdiA9IG5wLmFzYXJyYXkoY292LCBmbG9hdCkKICAgIGlmIGNvdi5zaGFwZSAhPSAoeC5zaXplLCB4LnNpemUpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImNvdiBtdXN0IGJlIHNxdWFyZSAobixuKSBtYXRjaGluZyB4IikKICAgIGZ4ID0gZmxvYXQoZih4KSkKICAgIEogPSBucC56ZXJvc19saWtlKHgpCiAgICBmb3IgaSBpbiByYW5nZSh4LnNpemUpOgogICAgICAgIGR4ID0gbnAuemVyb3NfbGlrZSh4KQogICAgICAgIGR4W2ldID0gZXBzICogKDEuMCArIGFicyh4W2ldKSkKICAgICAgICBKW2ldID0gKGZsb2F0KGYoeCArIGR4KSkgLSBmeCkgLyBkeFtpXQogICAgdmFyID0gZmxvYXQoSiBAIGNvdiBAIEopCiAgICByZXR1cm4gZmxvYXQobnAuc3FydChtYXgodmFyLCAwLjApKSkKCgpkZWYgYm9vdHN0cmFwKAogICAgZGF0YTogbnAubmRhcnJheSwKICAgIHN0YXQ6IENhbGxhYmxlW1tucC5uZGFycmF5XSwgbnAubmRhcnJheV0sCiAgICAqLAogICAgbjogaW50ID0gNTAwLAogICAgcm5nOiBPcHRpb25hbFtucC5yYW5kb20uR2VuZXJhdG9yXSA9IE5vbmUsCiAgICBjaTogZmxvYXQgPSAwLjY4LAopIC0+IERpY3Rbc3RyLCBucC5uZGFycmF5XToKICAgICIiIkJvb3RzdHJhcCBhIHN0YXRpc3RpYyBvdmVyIGZpcnN0IGF4aXM7IHJldHVybnMgbWVhbi9zdGQgYW5kIGNlbnRyYWwgQ0kuIiIiCiAgICBybmcgPSBucC5yYW5kb20uZGVmYXVsdF9ybmcoKSBpZiBybmcgaXMgTm9uZSBlbHNlIHJuZwogICAgeCA9IG5wLmFzYXJyYXkoZGF0YSkKICAgIGlmIHgubmRpbSA9PSAwOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImRhdGEgbXVzdCBiZSBhcnJheS1saWtlIikKICAgIG0gPSB4LnNoYXBlWzBdCiAgICByZXBzID0gW10KICAgIGZvciBfIGluIHJhbmdlKGludChuKSk6CiAgICAgICAgaWR4ID0gcm5nLmludGVnZXJzKDAsIG0sIHNpemU9bSkKICAgICAgICByZXBzLmFwcGVuZChucC5hc2FycmF5KHN0YXQoeFtpZHhdKSkpCiAgICByZXBzID0gbnAuc3RhY2socmVwcywgYXhpcz0wKQogICAgbWVhbiA9IG5wLm5hbm1lYW4ocmVwcywgYXhpcz0wKQogICAgc3RkID0gbnAubmFuc3RkKHJlcHMsIGF4aXM9MCwgZGRvZj0xKQogICAgbG8gPSBucC5uYW5xdWFudGlsZShyZXBzLCAoMSAtIGNpKSAvIDIsIGF4aXM9MCkKICAgIGhpID0gbnAubmFucXVhbnRpbGUocmVwcywgMSAtICgxIC0gY2kpIC8gMiwgYXhpcz0wKQogICAgcmV0dXJuIHsibWVhbiI6IG1lYW4sICJzdGQiOiBzdGQsICJjaV9sbyI6IGxvLCAiY2lfaGkiOiBoaX0K\"}\nDIR_STATE:[\"src/sf_gft_diagnostics/__init__.py\", \"src/sf_gft_diagnostics/benchmarks.py\", \"src/sf_gft_diagnostics/metrics.py\", \"src/sf_gft_diagnostics/observables.py\", \"src/sf_gft_diagnostics/reporting.py\", \"src/sf_gft_diagnostics/rg_io.py\", \"src/sf_gft_diagnostics/scaling.py\"]\n"
        }
      ]
    },
    {
      "id": "msg_0b3dcc618b64dce4006949a08022108197bf82574d0b90c2d0",
      "type": "message",
      "status": "completed",
      "content": [
        {
          "type": "output_text",
          "annotations": [],
          "logprobs": [],
          "text": "FILE_EXPORT:{\"path\":\"src/sf_gft_diagnostics/scaling.py\",\"size\":7791,\"encoding\":\"base64\",\"sha256\":\"546a9bccc03fea3cb538642bf350f22027b41760048775d8c8194fad8af9f772\",\"content\":\"IiIiU2NhbGluZy1hbmFseXNpcyB1dGlsaXRpZXMgZm9yIHNwaW4tZm9hbS9HRlQgY29udGludXVtLXJlY292ZXJ5IGRpYWdub3N0aWNzLgoKQ29yZSBmZWF0dXJlczoKLSBlZmZlY3RpdmUgKGxvY2FsKSBzY2FsaW5nIGV4cG9uZW50cyBmcm9tIGxvZy1kZXJpdmF0aXZlcwotIGZpbml0ZS1zaXplIHNjYWxpbmcgKEZTUykgcmVzY2FsaW5nICsgY29sbGFwc2Ugc2NvcmluZwotIGh5cGVyc2NhbGluZyBjb25zaXN0ZW5jeSBjaGVja3MgZm9yIGV4cG9uZW50IHNldHMKLSBib290c3RyYXAgcmVzYW1wbGluZyBhbmQgc2ltcGxlIGVycm9yIHByb3BhZ2F0aW9uCiIiIgoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gdHlwaW5nIGltcG9ydCBDYWxsYWJsZSwgRGljdCwgSXRlcmFibGUsIE1hcHBpbmcsIE9wdGlvbmFsLCBTZXF1ZW5jZSwgVHVwbGUKCmltcG9ydCBudW1weSBhcyBucApkZWYgX2FzXzFkKGEpIC0+IG5wLm5kYXJyYXk6CiAgICBhID0gbnAuYXNhcnJheShhKQogICAgcmV0dXJuIGEucmF2ZWwoKSBpZiBhLm5kaW0gZWxzZSBhLnJlc2hhcGUoMSkKCgpkZWYgZWZmZWN0aXZlX2V4cG9uZW50KHgsIHksICosIGxvZ2xvZzogYm9vbCA9IFRydWUpIC0+IFR1cGxlW25wLm5kYXJyYXksIG5wLm5kYXJyYXldOgogICAgIiIiUmV0dXJuICh4X21pZCwgYWxwaGFfZWZmKSBmcm9tIGZpbml0ZS1kaWZmZXJlbmNlIGxvZy1kZXJpdmF0aXZlcy4KCiAgICBJZiBsb2dsb2c9VHJ1ZTogYWxwaGFfZWZmID0gZCBsb2coeSkgLyBkIGxvZyh4KTsgZWxzZSBkIHkgLyBkIHguCiAgICBBc3N1bWVzIHggaXMgc3RyaWN0bHkgbW9ub3RvbmUuCiAgICAiIiIKICAgIHggPSBfYXNfMWQoeCkuYXN0eXBlKGZsb2F0KQogICAgeSA9IF9hc18xZCh5KS5hc3R5cGUoZmxvYXQpCiAgICBpZiB4LnNpemUgIT0geS5zaXplIG9yIHguc2l6ZSA8IDM6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigieCBhbmQgeSBtdXN0IGhhdmUgc2FtZSBsZW5ndGggPj0gMyIpCiAgICBpZiBub3QgKG5wLmFsbChucC5kaWZmKHgpID4gMCkgb3IgbnAuYWxsKG5wLmRpZmYoeCkgPCAwKSk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigieCBtdXN0IGJlIHN0cmljdGx5IG1vbm90b25lIikKICAgIGlmIGxvZ2xvZzoKICAgICAgICBpZiBucC5hbnkoeCA8PSAwKSBvciBucC5hbnkoeSA8PSAwKToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigibG9nbG9nIHJlcXVpcmVzIHg+MCBhbmQgeT4wIikKICAgICAgICBseCwgbHkgPSBucC5sb2coeCksIG5wLmxvZyh5KQogICAgICAgIHNsb3BlID0gbnAuZGlmZihseSkgLyBucC5kaWZmKGx4KQogICAgZWxzZToKICAgICAgICBzbG9wZSA9IG5wLmRpZmYoeSkgLyBucC5kaWZmKHgpCiAgICB4bWlkID0gMC41ICogKHhbMTpdICsgeFs6LTFdKQogICAgcmV0dXJuIHhtaWQsIHNsb3BlCmRlZiBtb3Zpbmdfd2luZG93X2V4cG9uZW50KHgsIHksICosIGs6IGludCA9IDUpIC0+IFR1cGxlW25wLm5kYXJyYXksIG5wLm5kYXJyYXldOgogICAgIiIiTGVhc3Qtc3F1YXJlcyBsb2NhbCBleHBvbmVudCBvdmVyIGEgbW92aW5nIHdpbmRvdyBpbiBsb2ctbG9nIHNwYWNlLgoKICAgIEZpdHMgbG9nKHkpPWEqbG9nKHgpK2Igb24gd2luZG93cyBvZiBzaXplIGs7IHJldHVybnMgd2luZG93IGNlbnRlcnMuCiAgICAiIiIKICAgIHggPSBfYXNfMWQoeCkuYXN0eXBlKGZsb2F0KQogICAgeSA9IF9hc18xZCh5KS5hc3R5cGUoZmxvYXQpCiAgICBpZiBrIDwgMyBvciBrID4geC5zaXplOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImsgbXVzdCBzYXRpc2Z5IDMgPD0gayA8PSBsZW4oeCkiKQogICAgaWYgbnAuYW55KHggPD0gMCkgb3IgbnAuYW55KHkgPD0gMCk6CiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigicmVxdWlyZXMgeD4wIGFuZCB5PjAiKQogICAgbHgsIGx5ID0gbnAubG9nKHgpLCBucC5sb2coeSkKICAgIGFscGhhcywgeGMgPSBbXSwgW10KICAgIGZvciBpIGluIHJhbmdlKHguc2l6ZSAtIGsgKyAxKToKICAgICAgICBYID0gbHhbaSA6IGkgKyBrXQogICAgICAgIFkgPSBseVtpIDogaSArIGtdCiAgICAgICAgQSA9IG5wLnZzdGFjayhbWCwgbnAub25lc19saWtlKFgpXSkuVAogICAgICAgIGEsIF9iID0gbnAubGluYWxnLmxzdHNxKEEsIFksIHJjb25kPU5vbmUpWzBdCiAgICAgICAgYWxwaGFzLmFwcGVuZChhKQogICAgICAgIHhjLmFwcGVuZChucC5leHAobnAubWVhbihYKSkpCiAgICByZXR1cm4gbnAuYXNhcnJheSh4YyksIG5wLmFzYXJyYXkoYWxwaGFzKQpAZGF0YWNsYXNzKGZyb3plbj1UcnVlKQpjbGFzcyBGU1NSZXNjYWxlOgogICAgIiIiRmluaXRlLXNpemUgc2NhbGluZyByZXNjYWxpbmcgbWFwLgoKICAgIFR5cGljYWwgdXNlOiB0ID0gKGctZ2MpL2djIGFuZCBvYnNlcnZhYmxlIE8oZyxMKSB+IExeey15T30gZih0IExeezEvbnV9KS4KICAgIFByb3ZpZGUgeU8gPSBiZXRhL251IChtYWduZXRpemF0aW9uKSwgLWdhbW1hL251IChzdXNjZXB0aWJpbGl0eSksIGV0Yy4KICAgICIiIgogICAgbnU6IGZsb2F0CiAgICB5TzogZmxvYXQKICAgIGdjOiBmbG9hdAoKICAgIGRlZiB0cmFuc2Zvcm0oc2VsZiwgZywgTywgTCkgLT4gVHVwbGVbbnAubmRhcnJheSwgbnAubmRhcnJheV06CiAgICAgICAgZyA9IG5wLmFzYXJyYXkoZywgZmxvYXQpCiAgICAgICAgTyA9IG5wLmFzYXJyYXkoTywgZmxvYXQpCiAgICAgICAgTCA9IG5wLmFzYXJyYXkoTCwgZmxvYXQpCiAgICAgICAgdCA9IChnIC0gc2VsZi5nYykgLyBzZWxmLmdjCiAgICAgICAgeCA9IHQgKiAoTCAqKiAoMS4wIC8gc2VsZi5udSkpCiAgICAgICAgeSA9IE8gKiAoTCAqKiAoc2VsZi55TykpCiAgICAgICAgcmV0dXJuIHgsIHkKZGVmIGNvbGxhcHNlX3Njb3JlKAogICAgY3VydmVzOiBTZXF1ZW5jZVtUdXBsZVtucC5uZGFycmF5LCBucC5uZGFycmF5XV0sCiAgICAqLAogICAgbmJpbnM6IGludCA9IDMwLAogICAgeGxpbTogT3B0aW9uYWxbVHVwbGVbZmxvYXQsIGZsb2F0XV0gPSBOb25lLAopIC0+IGZsb2F0OgogICAgIiIiUXVhbnRpZnkgY3VydmUgY29sbGFwc2UgKGxvd2VyIGlzIGJldHRlcikgdXNpbmcgYmlubmVkIHZhcmlhbmNlLgoKICAgIGN1cnZlczogbGlzdCBvZiAoeF9yZXNjYWxlZCwgeV9yZXNjYWxlZCkuIFVzZXMgY29tbW9uIHgtcmFuZ2Ugb3ZlcmxhcC4KICAgIFJldHVybnMgbWVhbiBvdmVyIGJpbnMgb2YgVmFyKHkpL01lYW4oeSleMiAoc2NhbGUtaW52YXJpYW50KS4KICAgICIiIgogICAgaWYgbGVuKGN1cnZlcykgPCAyOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoIm5lZWQgYXQgbGVhc3QgdHdvIGN1cnZlcyIpCiAgICB4cyA9IFtucC5hc2FycmF5KGNbMF0sIGZsb2F0KSBmb3IgYyBpbiBjdXJ2ZXNdCiAgICB5cyA9IFtucC5hc2FycmF5KGNbMV0sIGZsb2F0KSBmb3IgYyBpbiBjdXJ2ZXNdCiAgICB4bWluID0gbWF4KG5wLm1pbih4KSBmb3IgeCBpbiB4cykKICAgIHhtYXggPSBtaW4obnAubWF4KHgpIGZvciB4IGluIHhzKQogICAgaWYgeGxpbSBpcyBub3QgTm9uZToKICAgICAgICB4bWluLCB4bWF4ID0gbWF4KHhtaW4sIHhsaW1bMF0pLCBtaW4oeG1heCwgeGxpbVsxXSkKICAgIGlmIG5vdCBucC5pc2Zpbml0ZShbeG1pbiwgeG1heF0pLmFsbCgpIG9yIHhtYXggPD0geG1pbjoKICAgICAgICByZXR1cm4gbnAuaW5mCiAgICBlZGdlcyA9IG5wLmxpbnNwYWNlKHhtaW4sIHhtYXgsIG5iaW5zICsgMSkKICAgIHNjb3JlcyA9IFtdCiAgICBmb3IgbG8sIGhpIGluIHppcChlZGdlc1s6LTFdLCBlZGdlc1sxOl0pOgogICAgICAgIHZhbHMgPSBbXQogICAgICAgIGZvciB4LCB5IGluIHppcCh4cywgeXMpOgogICAgICAgICAgICBtID0gKHggPj0gbG8pICYgKHggPCBoaSkKICAgICAgICAgICAgaWYgbnAuYW55KG0pOgogICAgICAgICAgICAgICAgdmFscy5hcHBlbmQobnAubmFubWVhbih5W21dKSkKICAgICAgICBpZiBsZW4odmFscykgPj0gMjoKICAgICAgICAgICAgdiA9IG5wLm5hbnZhcih2YWxzKQogICAgICAgICAgICBtdSA9IG5wLm5hbm1lYW4odmFscykKICAgICAgICAgICAgaWYgbnAuaXNmaW5pdGUodikgYW5kIG5wLmlzZmluaXRlKG11KSBhbmQgbXUgIT0gMDoKICAgICAgICAgICAgICAgIHNjb3Jlcy5hcHBlbmQodiAvIChtdSAqIG11KSkKICAgIHJldHVybiBmbG9hdChucC5uYW5tZWFuKHNjb3JlcykpIGlmIHNjb3JlcyBlbHNlIG5wLmluZgpkZWYgZ3JpZF9zZWFyY2hfY29sbGFwc2UoCiAgICBnX2xpc3Q6IFNlcXVlbmNlW25wLm5kYXJyYXldLAogICAgT19saXN0OiBTZXF1ZW5jZVtucC5uZGFycmF5XSwKICAgIExfbGlzdDogU2VxdWVuY2VbZmxvYXRdLAogICAgKiwKICAgIG51czogU2VxdWVuY2VbZmxvYXRdLAogICAgeU9zOiBTZXF1ZW5jZVtmbG9hdF0sCiAgICBnY3M6IFNlcXVlbmNlW2Zsb2F0XSwKICAgIG5iaW5zOiBpbnQgPSAzMCwKKSAtPiBEaWN0W3N0ciwgZmxvYXRdOgogICAgIiIiQnJ1dGUtZm9yY2Ugc2VhcmNoIGZvciBiZXN0IEZTUyBjb2xsYXBzZSBwYXJhbWV0ZXJzLgoKICAgIElucHV0cyBhcmUgcGVyLXNpemUgYXJyYXlzOiBnX2xpc3RbaV0sIE9fbGlzdFtpXSBmb3Igc3lzdGVtIHNpemUgTF9saXN0W2ldLgogICAgUmV0dXJucyBkaWN0IHdpdGggYmVzdCBudSwgeU8sIGdjLCBzY29yZS4KICAgICIiIgogICAgaWYgbm90IChsZW4oZ19saXN0KSA9PSBsZW4oT19saXN0KSA9PSBsZW4oTF9saXN0KSA+PSAyKToKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJnX2xpc3QsIE9fbGlzdCwgTF9saXN0IG11c3QgaGF2ZSBzYW1lIGxlbmd0aCA+PSAyIikKICAgIGJlc3QgPSB7Im51IjogbnAubmFuLCAieU8iOiBucC5uYW4sICJnYyI6IG5wLm5hbiwgInNjb3JlIjogbnAuaW5mfQogICAgZm9yIG51IGluIG51czoKICAgICAgICBmb3IgeU8gaW4geU9zOgogICAgICAgICAgICBmb3IgZ2MgaW4gZ2NzOgogICAgICAgICAgICAgICAgdHIgPSBGU1NSZXNjYWxlKG51PWZsb2F0KG51KSwgeU89ZmxvYXQoeU8pLCBnYz1mbG9hdChnYykpCiAgICAgICAgICAgICAgICBjdXJ2ZXMgPSBbdHIudHJhbnNmb3JtKGcsIE8sIEwpIGZvciBnLCBPLCBMIGluIHppcChnX2xpc3QsIE9fbGlzdCwgTF9saXN0KV0KICAgICAgICAgICAgICAgIHNjID0gY29sbGFwc2Vfc2NvcmUoY3VydmVzLCBuYmlucz1uYmlucykKICAgICAgICAgICAgICAgIGlmIHNjIDwgYmVzdFsic2NvcmUiXToKICAgICAgICAgICAgICAgICAgICBiZXN0ID0geyJudSI6IGZsb2F0KG51KSwgInlPIjogZmxvYXQoeU8pLCAiZ2MiOiBmbG9hdChnYyksICJzY29yZSI6IGZsb2F0KHNjKX0KICAgIHJldHVybiBiZXN0CmRlZiBoeXBlcnNjYWxpbmdfcmVzaWR1YWxzKGV4cG9uZW50czogTWFwcGluZ1tzdHIsIGZsb2F0XSwgKiwgZDogT3B0aW9uYWxbZmxvYXRdID0gTm9uZSkgLT4gRGljdFtzdHIsIGZsb2F0XToKICAgICIiIlJldHVybiByZXNpZHVhbHMgb2YgY29tbW9uIGh5cGVyc2NhbGluZy9zY2FsaW5nIHJlbGF0aW9ucy4KCiAgICBTdXBwb3J0cyBrZXlzIGFtb25nOiBhbHBoYSxiZXRhLGdhbW1hLGRlbHRhLG51LGV0YTsgb3B0aW9uYWwgZGltZW5zaW9uIGQuCiAgICBSZXNpZHVhbHMgYXJlIExIUy1SSFMgZm9yIGVhY2ggcmVsYXRpb24gdGhhdCBjYW4gYmUgZXZhbHVhdGVkLgogICAgIiIiCiAgICBlID0ge2s6IGZsb2F0KHYpIGZvciBrLCB2IGluIGV4cG9uZW50cy5pdGVtcygpfQogICAgcjogRGljdFtzdHIsIGZsb2F0XSA9IHt9CiAgICBpZiB7ImFscGhhIiwgImJldGEiLCAiZ2FtbWEifSA8PSBlLmtleXMoKToKICAgICAgICByWyJydXNoYnJvb2tlOiBhbHBoYSsyYmV0YStnYW1tYT0yIl0gPSBlWyJhbHBoYSJdICsgMiAqIGVbImJldGEiXSArIGVbImdhbW1hIl0gLSAyCiAgICBpZiB7ImdhbW1hIiwgImJldGEiLCAiZGVsdGEifSA8PSBlLmtleXMoKToKICAgICAgICByWyJ3aWRvbTogZ2FtbWE9YmV0YShkZWx0YS0xKSJdID0gZVsiZ2FtbWEiXSAtIGVbImJldGEiXSAqIChlWyJkZWx0YSJdIC0gMSkKICAgIGlmIHsiZ2FtbWEiLCAibnUiLCAiZXRhIn0gPD0gZS5rZXlzKCk6CiAgICAgICAgclsiZmlzaGVyOiBnYW1tYT0oMi1ldGEpbnUiXSA9IGVbImdhbW1hIl0gLSAoMiAtIGVbImV0YSJdKSAqIGVbIm51Il0KICAgIGlmIGQgaXMgbm90IE5vbmUgYW5kIHsiYWxwaGEiLCAibnUifSA8PSBlLmtleXMoKToKICAgICAgICByWyJqb3NlcGhzb246IDItYWxwaGE9ZCBudSJdID0gKDIgLSBlWyJhbHBoYSJdKSAtIGZsb2F0KGQpICogZVsibnUiXQogICAgcmV0dXJuIHIKZGVmIHByb3BhZ2F0ZV91bmNlcnRhaW50eSgKICAgIGY6IENhbGxhYmxlW1tucC5uZGFycmF5XSwgZmxvYXRdLAogICAgeDogU2VxdWVuY2VbZmxvYXRdLAogICAgY292OiBucC5uZGFycmF5LAogICAgKiwKICAgIGVwczogZmxvYXQgPSAxZS02LAopIC0+IGZsb2F0OgogICAgIiIiRGVsdGEtbWV0aG9kIHN0ZCBmb3IgZih4KSBnaXZlbiBjb3ZhcmlhbmNlIG9mIHggKG51bWVyaWNhbCBKYWNvYmlhbikuIiIiCiAgICB4ID0gbnAuYXNhcnJheSh4LCBmbG9hdCkKICAgIGNvdiA9IG5wLmFzYXJyYXkoY292LCBmbG9hdCkKICAgIGlmIGNvdi5zaGFwZSAhPSAoeC5zaXplLCB4LnNpemUpOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImNvdiBtdXN0IGJlIHNxdWFyZSAobixuKSBtYXRjaGluZyB4IikKICAgIGZ4ID0gZmxvYXQoZih4KSkKICAgIEogPSBucC56ZXJvc19saWtlKHgpCiAgICBmb3IgaSBpbiByYW5nZSh4LnNpemUpOgogICAgICAgIGR4ID0gbnAuemVyb3NfbGlrZSh4KQogICAgICAgIGR4W2ldID0gZXBzICogKDEuMCArIGFicyh4W2ldKSkKICAgICAgICBKW2ldID0gKGZsb2F0KGYoeCArIGR4KSkgLSBmeCkgLyBkeFtpXQogICAgdmFyID0gZmxvYXQoSiBAIGNvdiBAIEopCiAgICByZXR1cm4gZmxvYXQobnAuc3FydChtYXgodmFyLCAwLjApKSkKCgpkZWYgYm9vdHN0cmFwKAogICAgZGF0YTogbnAubmRhcnJheSwKICAgIHN0YXQ6IENhbGxhYmxlW1tucC5uZGFycmF5XSwgbnAubmRhcnJheV0sCiAgICAqLAogICAgbjogaW50ID0gNTAwLAogICAgcm5nOiBPcHRpb25hbFtucC5yYW5kb20uR2VuZXJhdG9yXSA9IE5vbmUsCiAgICBjaTogZmxvYXQgPSAwLjY4LAopIC0+IERpY3Rbc3RyLCBucC5uZGFycmF5XToKICAgICIiIkJvb3RzdHJhcCBhIHN0YXRpc3RpYyBvdmVyIGZpcnN0IGF4aXM7IHJldHVybnMgbWVhbi9zdGQgYW5kIGNlbnRyYWwgQ0kuIiIiCiAgICBybmcgPSBucC5yYW5kb20uZGVmYXVsdF9ybmcoKSBpZiBybmcgaXMgTm9uZSBlbHNlIHJuZwogICAgeCA9IG5wLmFzYXJyYXkoZGF0YSkKICAgIGlmIHgubmRpbSA9PSAwOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImRhdGEgbXVzdCBiZSBhcnJheS1saWtlIikKICAgIG0gPSB4LnNoYXBlWzBdCiAgICByZXBzID0gW10KICAgIGZvciBfIGluIHJhbmdlKGludChuKSk6CiAgICAgICAgaWR4ID0gcm5nLmludGVnZXJzKDAsIG0sIHNpemU9bSkKICAgICAgICByZXBzLmFwcGVuZChucC5hc2FycmF5KHN0YXQoeFtpZHhdKSkpCiAgICByZXBzID0gbnAuc3RhY2socmVwcywgYXhpcz0wKQogICAgbWVhbiA9IG5wLm5hbm1lYW4ocmVwcywgYXhpcz0wKQogICAgc3RkID0gbnAubmFuc3RkKHJlcHMsIGF4aXM9MCwgZGRvZj0xKQogICAgbG8gPSBucC5uYW5xdWFudGlsZShyZXBzLCAoMSAtIGNpKSAvIDIsIGF4aXM9MCkKICAgIGhpID0gbnAubmFucXVhbnRpbGUocmVwcywgMSAtICgxIC0gY2kpIC8gMiwgYXhpcz0wKQogICAgcmV0dXJuIHsibWVhbiI6IG1lYW4sICJzdGQiOiBzdGQsICJjaV9sbyI6IGxvLCAiY2lfaGkiOiBoaX0K\"}\nDIR_STATE:[\"src/sf_gft_diagnostics/__init__.py\",\"src/sf_gft_diagnostics/benchmarks.py\",\"src/sf_gft_diagnostics/metrics.py\",\"src/sf_gft_diagnostics/observables.py\",\"src/sf_gft_diagnostics/reporting.py\",\"src/sf_gft_diagnostics/rg_io.py\",\"src/sf_gft_diagnostics/scaling.py\"]"
        }
      ],
      "role": "assistant"
    }
  ],
  "codeResults": []
}