{
  "content": "FILE_EXPORT:{\"path\":\"src/dgpipe/cli.py\",\"size\":10116,\"encoding\":\"base64\",\"sha256\":\"e20a88bfd62af4de1bc223c15d1a870ec48e59d0ee78e1dc734b3c39f12e755e\",\"content\":\"ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwppbXBvcnQgYXJncGFyc2UsIGpzb24sIG1hdGgsIG9zLCBwbGF0Zm9ybSwgcmFuZG9tLCBzeXMsIGhhc2hsaWIsIGRhdGV0aW1lLCBzdWJwcm9jZXNzCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApkZWYgX3V0Y25vdygpIC0+IHN0cjoKICAgIHJldHVybiBkYXRldGltZS5kYXRldGltZS5ub3coZGF0ZXRpbWUudGltZXpvbmUudXRjKS5pc29mb3JtYXQoKQoKZGVmIF9zaGEyNTZfYnl0ZXMoYjogYnl0ZXMpIC0+IHN0cjoKICAgIHJldHVybiBoYXNobGliLnNoYTI1NihiKS5oZXhkaWdlc3QoKQoKZGVmIF9tYXliZV9naXRfcmV2KGN3ZDogUGF0aCkgLT4gc3RyIHwgTm9uZToKICAgIHRyeToKICAgICAgICBvdXQgPSBzdWJwcm9jZXNzLmNoZWNrX291dHB1dChbImdpdCIsICJyZXYtcGFyc2UiLCAiSEVBRCJdLCBjd2Q9c3RyKGN3ZCksIHN0ZGVycj1zdWJwcm9jZXNzLkRFVk5VTEwpCiAgICAgICAgcmV0dXJuIG91dC5kZWNvZGUoKS5zdHJpcCgpCiAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgIHJldHVybiBOb25lCgpkZWYgX3Byb3ZlbmFuY2UoYXJndjogbGlzdFtzdHJdLCBvdXRkaXI6IFBhdGgpIC0+IGRpY3Q6CiAgICByZXR1cm4gewogICAgICAgICJ0aW1lc3RhbXBfdXRjIjogX3V0Y25vdygpLAogICAgICAgICJhcmd2IjogYXJndiwKICAgICAgICAicHl0aG9uIjogc3lzLnZlcnNpb24uc3BsaXQoKVswXSwKICAgICAgICAicGxhdGZvcm0iOiB7InN5c3RlbSI6IHBsYXRmb3JtLnN5c3RlbSgpLCAicmVsZWFzZSI6IHBsYXRmb3JtLnJlbGVhc2UoKSwgIm1hY2hpbmUiOiBwbGF0Zm9ybS5tYWNoaW5lKCl9LAogICAgICAgICJnaXRfcmV2IjogX21heWJlX2dpdF9yZXYoUGF0aC5jd2QoKSksCiAgICAgICAgIm91dGRpciI6IHN0cihvdXRkaXIpLAogICAgfQoKZGVmIF93cml0ZV9qc29uKHBhdGg6IFBhdGgsIG9iajogZGljdCkgLT4gTm9uZToKICAgIGRhdGEgPSBqc29uLmR1bXBzKG9iaiwgaW5kZW50PTIsIHNvcnRfa2V5cz1UcnVlKS5lbmNvZGUoInV0Zi04IikKICAgIHBhdGgud3JpdGVfYnl0ZXMoZGF0YSkKZGVmIGdlbmVyYXRlX3Byb3RvY29scygpIC0+IGRpY3Q6CiAgICAjIFByaW9yaXRpemVkIHByb3RvY29scyBmb3IgY29ycmVsYXRvcnMgKyBlbnRhbmdsZW1lbnQgZGlhZ25vc3RpY3MgYWNyb3NzIGFuYWxvZ3VlL2FzdHJvIHByb2Jlcy4KICAgIHJldHVybiB7CiAgICAgICAgInZlcnNpb24iOiAxLAogICAgICAgICJwYXJhbWV0ZXJzIjogewogICAgICAgICAgICAiZWxsIjogImRpc2NyZXRlbmVzcyBsZW5ndGggc2NhbGUgKGVmZmVjdGl2ZSkgY29udHJvbGxpbmcgZGlzcGVyc2l2ZSBjb3JyZWN0aW9ucyIsCiAgICAgICAgICAgICJyaG8iOiAic3ByaW5rbGluZyBkZW5zaXR5IC8gbWljcm9zdHJ1Y3R1cmUgZGVuc2l0eSBwcm94eSIsCiAgICAgICAgICAgICJhbHBoYSI6ICJkaW1lbnNpb25sZXNzIGRpc3BlcnNpb24gc3RyZW5ndGgiLAogICAgICAgIH0sCiAgICAgICAgInByb3RvY29scyI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInByaW9yaXR5IjogMSwKICAgICAgICAgICAgICAgICJuYW1lIjogIkVxdWFsLXRpbWUgdHdvLXBvaW50IGNvcnJlbGF0b3IgQyh4KSBpbiBhbmFsb2d1ZSBRRlQiLAogICAgICAgICAgICAgICAgInBsYXRmb3JtcyI6IFsiQkVDIHBob25vbnMiLCAib3B0aWNhbCB3YXZlZ3VpZGVzIiwgInN1cGVyY29uZHVjdGluZyBjaXJjdWl0cyJdLAogICAgICAgICAgICAgICAgIm9ic2VydmFibGUiOiAiQyh4KT08cGhpKDApcGhpKHgpPiBvciBkZW5zaXR5LWRlbnNpdHkgY29ycmVsYXRvciIsCiAgICAgICAgICAgICAgICAibWVhc3VyZW1lbnQiOiAiaG9tb2R5bmUvQnJhZ2cgaW1hZ2luZzsgZXh0cmFjdCBDKHgpIGFuZCBGb3VyaWVyIHNwZWN0cnVtIFMoaykiLAogICAgICAgICAgICAgICAgInNpZ25hdHVyZSI6ICJVViByb2xsLW9mZiBhbmQgb3NjaWxsYXRvcnkgcmVzaWR1YWxzIGNvbnNpc3RlbnQgd2l0aCBkaXNjcmV0ZSBzcGVjdHJ1bSAvIG1vZGlmaWVkIGRpc3BlcnNpb24iLAogICAgICAgICAgICAgICAgInN5c3RlbWF0aWNzIjogWyJmaW5pdGUtc2l6ZSIsICJ0cmFwIGluaG9tb2dlbmVpdHkiLCAiZGV0ZWN0b3IgcmVzb2x1dGlvbiIsICJ0aGVybWFsIGJhY2tncm91bmQiXSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInByaW9yaXR5IjogMiwKICAgICAgICAgICAgICAgICJuYW1lIjogIlVuZXF1YWwtdGltZSBjb3JyZWxhdG9yIEModCkgYW5kIHJldGFyZGVkIEdyZWVuJ3MgZnVuY3Rpb24iLAogICAgICAgICAgICAgICAgInBsYXRmb3JtcyI6IFsib3B0b21lY2hhbmljYWwgYXJyYXlzIiwgImNvbGQtYXRvbSBzaW11bGF0b3JzIl0sCiAgICAgICAgICAgICAgICAib2JzZXJ2YWJsZSI6ICJDKHQpPTxwaGkoMClwaGkodCk+LCBHX1IodCkiLAogICAgICAgICAgICAgICAgIm1lYXN1cmVtZW50IjogInB1bXAtcHJvYmU7IHF1ZW5jaCB0aGVuIHJlYWQgb3V0IHRlbXBvcmFsIGNvcnJlbGF0aW9ucyIsCiAgICAgICAgICAgICAgICAic2lnbmF0dXJlIjogInBoYXNlIHNsaXAgLyBiZWF0aW5nIGZyb20gZGlzY3JldGUgbW9kZXM7IGRpc3BlcnNpdmUgZ3JvdXAtZGVsYXkgc2hpZnRzIiwKICAgICAgICAgICAgICAgICJzeXN0ZW1hdGljcyI6IFsiZGlzcGVyc2lvbiBjYWxpYnJhdGlvbiIsICJzYW1wbGluZyBqaXR0ZXIiLCAiYmF0aCBjb3VwbGluZyJdLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAicHJpb3JpdHkiOiAzLAogICAgICAgICAgICAgICAgIm5hbWUiOiAiRW50YW5nbGVtZW50IGRpYWdub3N0aWNzIHZpYSBtdXR1YWwgaW5mb3JtYXRpb24gLyBuZWdhdGl2aXR5IHByb3h5IiwKICAgICAgICAgICAgICAgICJwbGF0Zm9ybXMiOiBbImNvbnRpbnVvdXMtdmFyaWFibGUgcGhvdG9uaWNzIiwgImNRRUQiLCAiaW9uIGNoYWlucyJdLAogICAgICAgICAgICAgICAgIm9ic2VydmFibGUiOiAiSShBOkIpIGZyb20gY292YXJpYW5jZSBtYXRyaXg7IGxvZ2FyaXRobWljIG5lZ2F0aXZpdHkgaWYgYWNjZXNzaWJsZSIsCiAgICAgICAgICAgICAgICAibWVhc3VyZW1lbnQiOiAiR2F1c3NpYW4gdG9tb2dyYXBoeSAvIHF1YWRyYXR1cmUgcmVhZG91dDsgYnVpbGQgY292YXJpYW5jZSBibG9ja3MiLAogICAgICAgICAgICAgICAgInNpZ25hdHVyZSI6ICJzY2FsZS1kZXBlbmRlbnQgc3VwcHJlc3Npb24vZW5oYW5jZW1lbnQgYWNyb3NzIHBhcnRpdGlvbnMgdHJhY2tpbmcgZWxsLCByaG8iLAogICAgICAgICAgICAgICAgInN5c3RlbWF0aWNzIjogWyJsb3NzIiwgIm1vZGUgbWlzbWF0Y2giLCAiZmluaXRlIHNxdWVlemluZyIsICJjbGFzc2ljYWwgY29ycmVsYXRpb25zIl0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJwcmlvcml0eSI6IDQsCiAgICAgICAgICAgICAgICAibmFtZSI6ICJBc3Ryb3BoeXNpY2FsIHRpbWUtb2YtZmxpZ2h0IGRpc3BlcnNpb24gY29uc3RyYWludHMiLAogICAgICAgICAgICAgICAgInBsYXRmb3JtcyI6IFsiR1JCL0ZSQiB0aW1pbmciLCAiR1cgbXVsdGktbWVzc2VuZ2VyIl0sCiAgICAgICAgICAgICAgICAib2JzZXJ2YWJsZSI6ICJlbmVyZ3ktZGVwZW5kZW50IGFycml2YWwgZGVsYXlzIiwKICAgICAgICAgICAgICAgICJtZWFzdXJlbWVudCI6ICJjcm9zcy1iYW5kIHRpbWluZzsgaGllcmFyY2hpY2FsIHBvcHVsYXRpb24gbW9kZWwiLAogICAgICAgICAgICAgICAgInNpZ25hdHVyZSI6ICLOlHQg4oidIGFscGhhKmVsbF4yKkVeMipEICh0b3kpLCBib3VuZGVkIGJ5IG5vbi1kZXRlY3Rpb24iLAogICAgICAgICAgICAgICAgInN5c3RlbWF0aWNzIjogWyJpbnRyaW5zaWMgc291cmNlIGxhZ3MiLCAicGxhc21hIGRpc3BlcnNpb24iLCAic2VsZWN0aW9uIGJpYXNlcyJdLAogICAgICAgICAgICB9LAogICAgICAgIF0sCiAgICB9CmRlZiBzaW11bGF0ZShvdXRkaXI6IFBhdGgsIG46IGludCwgZHQ6IGZsb2F0LCB4aTogZmxvYXQsIG9tZWdhOiBmbG9hdCwgZWxsOiBmbG9hdCwgYWxwaGE6IGZsb2F0LAogICAgICAgICAgICAgcmhvOiBmbG9hdCwgTDogZmxvYXQsIG5vaXNlOiBmbG9hdCwgc2VlZDogaW50KSAtPiBkaWN0OgogICAgcmFuZG9tLnNlZWQoc2VlZCkKICAgICMgVG95IG1vZGVsOiBjb3JyZWxhdG9yIHdpdGggZGlzcGVyc2l2ZSBjb3JyZWN0aW9uIGFuZCBmaW5pdGUtc2l6ZSBtb2RlIGRpc2NyZXRpemF0aW9uLgogICAgazAgPSBtYXRoLnBpIC8gbWF4KEwsIDFlLTkpICAjIElSIG1vZGUgc3BhY2luZwogICAgb21lZ2FfZWZmID0gb21lZ2EgKiAoMS4wICsgYWxwaGEgKiAoZWxsICogazApICoqIDIpCiAgICB0aW1lcyA9IFtpICogZHQgZm9yIGkgaW4gcmFuZ2UobildCiAgICBDID0gW10KICAgIGZvciB0IGluIHRpbWVzOgogICAgICAgIGJhc2UgPSBtYXRoLmV4cCgtdCAvIG1heCh4aSwgMWUtOSkpICogbWF0aC5jb3Mob21lZ2FfZWZmICogdCkKICAgICAgICAjIE1pY3Jvc3RydWN0dXJlIGRlbnNpdHkgcHJveHk6IHNtYWxsLWFtcGxpdHVkZSByaXBwbGUgc2NhbGluZyB3aXRoIHJoby4KICAgICAgICByaXBwbGUgPSAwLjAyICogbWF0aC50YW5oKHJobykgKiBtYXRoLmNvcygzLjAgKiBvbWVnYV9lZmYgKiB0KQogICAgICAgIHkgPSBiYXNlICsgcmlwcGxlICsgcmFuZG9tLmdhdXNzKDAuMCwgbm9pc2UpCiAgICAgICAgQy5hcHBlbmQoeSkKICAgICMgR2F1c3NpYW4tc3RhdGUgcHJveHk6IG11dHVhbCBpbmZvcm1hdGlvbiBmcm9tIGFuIGVmZmVjdGl2ZSBjb3JyZWxhdGlvbiBjb2VmZmljaWVudCByKHQwKS4KICAgIHQwID0gdGltZXNbbWluKG4gLSAxLCBtYXgoMSwgbiAvLyAxMCkpXQogICAgciA9IG1heCgtMC45OTksIG1pbigwLjk5OSwgbWF0aC5leHAoLXQwIC8gbWF4KHhpLCAxZS05KSkgKiAoMS4wIC0gMC41ICogYWxwaGEgKiAoZWxsICogazApICoqIDIpKSkKICAgIG11dHVhbF9pbmZvID0gZmxvYXQoLTAuNSAqIG1hdGgubG9nKDEuMCAtIHIgKiByKSkKICAgIHJldHVybiB7CiAgICAgICAgIm1vZGVsIjogInRveV9kaXNjcmV0ZV9kaXNwZXJzaW9uX3YxIiwKICAgICAgICAiaW5wdXRzIjogeyJuIjogbiwgImR0IjogZHQsICJ4aSI6IHhpLCAib21lZ2EiOiBvbWVnYSwgImVsbCI6IGVsbCwgImFscGhhIjogYWxwaGEsICJyaG8iOiByaG8sICJMIjogTCwgIm5vaXNlIjogbm9pc2UsICJzZWVkIjogc2VlZH0sCiAgICAgICAgImRhdGEiOiB7InQiOiB0aW1lcywgIkMiOiBDLCAibXV0dWFsX2luZm8iOiBtdXR1YWxfaW5mb30sCiAgICAgICAgInN1bW1hcnkiOiB7IkMwIjogQ1swXSwgIkNfcm1zIjogZmxvYXQobWF0aC5zcXJ0KHN1bSh4KnggZm9yIHggaW4gQykvbGVuKEMpKSl9LAogICAgfQpkZWYgaW5mZXIoZGF0YV9wYXRoOiBQYXRoLCBvdXRkaXI6IFBhdGgsIGVsbF9taW46IGZsb2F0LCBlbGxfbWF4OiBmbG9hdCwgbTogaW50LCBhbHBoYTogZmxvYXQsIEw6IGZsb2F0KSAtPiBkaWN0OgogICAgb2JqID0ganNvbi5sb2FkcyhkYXRhX3BhdGgucmVhZF90ZXh0KGVuY29kaW5nPSJ1dGYtOCIpKQogICAgdCA9IG9ialsiZGF0YSJdWyJ0Il07IENvYnMgPSBvYmpbImRhdGEiXVsiQyJdCiAgICB4aSA9IGZsb2F0KG9ialsiaW5wdXRzIl1bInhpIl0pOyBvbWVnYSA9IGZsb2F0KG9ialsiaW5wdXRzIl1bIm9tZWdhIl0pOyBkdCA9IGZsb2F0KG9ialsiaW5wdXRzIl1bImR0Il0pCiAgICBub2lzZSA9IGZsb2F0KG9ialsiaW5wdXRzIl1bIm5vaXNlIl0pCiAgICBrMCA9IG1hdGgucGkgLyBtYXgoTCwgMWUtOSkKICAgIHNpZzIgPSBtYXgobm9pc2UgKiBub2lzZSwgMWUtMTIpCiAgICBncmlkID0gW10KICAgIGZvciBqIGluIHJhbmdlKG0pOgogICAgICAgIGVsbCA9IGVsbF9taW4gKyAoZWxsX21heCAtIGVsbF9taW4pICogKGogLyBtYXgoMSwgbSAtIDEpKQogICAgICAgIG9tZWdhX2VmZiA9IG9tZWdhICogKDEuMCArIGFscGhhICogKGVsbCAqIGswKSAqKiAyKQogICAgICAgIGNoaTIgPSAwLjAKICAgICAgICBmb3IgdGksIHlpIGluIHppcCh0LCBDb2JzKToKICAgICAgICAgICAgbXUgPSBtYXRoLmV4cCgtdGkgLyBtYXgoeGksIDFlLTkpKSAqIG1hdGguY29zKG9tZWdhX2VmZiAqIHRpKQogICAgICAgICAgICBjaGkyICs9ICh5aSAtIG11KSAqKiAyIC8gc2lnMgogICAgICAgIGxvZ0wgPSAtMC41ICogY2hpMgogICAgICAgIGdyaWQuYXBwZW5kKHsiZWxsIjogZWxsLCAibG9nTCI6IGZsb2F0KGxvZ0wpfSkKICAgICMgTm9ybWFsaXplIHRvIGEgZGlzY3JldGUgcG9zdGVyaW9yIHdpdGggZmxhdCBwcmlvciBvdmVyIGVsbC4KICAgIG14ID0gbWF4KGdbImxvZ0wiXSBmb3IgZyBpbiBncmlkKQogICAgdyA9IFttYXRoLmV4cChnWyJsb2dMIl0gLSBteCkgZm9yIGcgaW4gZ3JpZF0KICAgIFogPSBzdW0odykgb3IgMS4wCiAgICBmb3IgZ2ksIHdpIGluIHppcChncmlkLCB3KToKICAgICAgICBnaVsicG9zdGVyaW9yIl0gPSBmbG9hdCh3aSAvIFopCiAgICBlbGxfbWFwID0gbWF4KGdyaWQsIGtleT1sYW1iZGEgZzogZ1sicG9zdGVyaW9yIl0pWyJlbGwiXQogICAgbWVhbiA9IHN1bShnWyJlbGwiXSAqIGdbInBvc3RlcmlvciJdIGZvciBnIGluIGdyaWQpCiAgICBjZGYgPSBbXQogICAgcyA9IDAuMAogICAgZm9yIGcgaW4gc29ydGVkKGdyaWQsIGtleT1sYW1iZGEgejogelsiZWxsIl0pOgogICAgICAgIHMgKz0gZ1sicG9zdGVyaW9yIl07IGNkZi5hcHBlbmQoKGdbImVsbCJdLCBzKSkKICAgIGRlZiBxKHA6IGZsb2F0KSAtPiBmbG9hdDoKICAgICAgICBmb3IgZSwgY3AgaW4gY2RmOgogICAgICAgICAgICBpZiBjcCA+PSBwOiByZXR1cm4gZmxvYXQoZSkKICAgICAgICByZXR1cm4gZmxvYXQoY2RmWy0xXVswXSkKICAgIHJldHVybiB7ImRhdGFfcmVmIjogc3RyKGRhdGFfcGF0aCksICJhbHBoYSI6IGFscGhhLCAiTCI6IEwsICJlbGxfZ3JpZCI6IGdyaWQsCiAgICAgICAgICAgICJwb2ludF9lc3RpbWF0ZXMiOiB7ImVsbF9tYXAiOiBmbG9hdChlbGxfbWFwKSwgImVsbF9tZWFuIjogZmxvYXQobWVhbiksICJlbGxfcTE2IjogcSgwLjE2KSwgImVsbF9xODQiOiBxKDAuODQpfX0KZGVmIGJ1aWxkX3BhcnNlcigpIC0+IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyOgogICAgcCA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKHByb2c9ImRncGlwZSIsIGRlc2NyaXB0aW9uPSJEaXNjcmV0ZS1ncmF2aXR5IHBpcGVsaW5lIENMSTogcHJvdG9jb2xzLCBzaW11bGF0aW9uLCBpbmZlcmVuY2UuIikKICAgIHAuYWRkX2FyZ3VtZW50KCItLW91dGRpciIsIHR5cGU9UGF0aCwgZGVmYXVsdD1QYXRoKCJkZ3BpcGVfb3V0IiksIGhlbHA9Ik91dHB1dCBkaXJlY3RvcnkgKGNyZWF0ZWQgaWYgbWlzc2luZykuIikKICAgIHN1YiA9IHAuYWRkX3N1YnBhcnNlcnMoZGVzdD0iY21kIiwgcmVxdWlyZWQ9VHJ1ZSkKCiAgICBzcCA9IHN1Yi5hZGRfcGFyc2VyKCJwcm90b2NvbHMiLCBoZWxwPSJXcml0ZSBhIHByaW9yaXRpemVkIG1lYXN1cmVtZW50LXByb3RvY29sIHNwZWNpZmljYXRpb24gKEpTT04pLiIpCgogICAgc3MgPSBzdWIuYWRkX3BhcnNlcigic2ltdWxhdGUiLCBoZWxwPSJSdW4gYSBjb250cm9sbGVkIHRveSBzaW11bGF0aW9uIHdpdGggZmluaXRlLXNpemUgYW5kIGRpc3BlcnNpdmUgc3lzdGVtYXRpY3MuIikKICAgIHNzLmFkZF9hcmd1bWVudCgiLS1uIiwgdHlwZT1pbnQsIGRlZmF1bHQ9NTEyKTsgc3MuYWRkX2FyZ3VtZW50KCItLWR0IiwgdHlwZT1mbG9hdCwgZGVmYXVsdD0wLjAxKQogICAgc3MuYWRkX2FyZ3VtZW50KCItLXhpIiwgdHlwZT1mbG9hdCwgZGVmYXVsdD0xLjApOyBzcy5hZGRfYXJndW1lbnQoIi0tb21lZ2EiLCB0eXBlPWZsb2F0LCBkZWZhdWx0PTYuMCkKICAgIHNzLmFkZF9hcmd1bWVudCgiLS1lbGwiLCB0eXBlPWZsb2F0LCBkZWZhdWx0PTAuMSk7IHNzLmFkZF9hcmd1bWVudCgiLS1hbHBoYSIsIHR5cGU9ZmxvYXQsIGRlZmF1bHQ9MS4wKQogICAgc3MuYWRkX2FyZ3VtZW50KCItLXJobyIsIHR5cGU9ZmxvYXQsIGRlZmF1bHQ9MS4wKTsgc3MuYWRkX2FyZ3VtZW50KCItLUwiLCB0eXBlPWZsb2F0LCBkZWZhdWx0PTEwLjApCiAgICBzcy5hZGRfYXJndW1lbnQoIi0tbm9pc2UiLCB0eXBlPWZsb2F0LCBkZWZhdWx0PTAuMDIpOyBzcy5hZGRfYXJndW1lbnQoIi0tc2VlZCIsIHR5cGU9aW50LCBkZWZhdWx0PTApCgogICAgc2kgPSBzdWIuYWRkX3BhcnNlcigiaW5mZXIiLCBoZWxwPSJJbmZlciBkaXNjcmV0ZW5lc3Mgc2NhbGUgZWxsIGZyb20gYSBzYXZlZCBzaW11bGF0aW9uL21lYXN1cmVtZW50IEpTT04uIikKICAgIHNpLmFkZF9hcmd1bWVudCgiZGF0YSIsIHR5cGU9UGF0aCwgaGVscD0iUGF0aCB0byBKU09OIHByb2R1Y2VkIGJ5IHNpbXVsYXRlIChvciBjb21wYXRpYmxlIG1lYXN1cmVtZW50IGZpbGUpLiIpCiAgICBzaS5hZGRfYXJndW1lbnQoIi0tZWxsLW1pbiIsIHR5cGU9ZmxvYXQsIGRlZmF1bHQ9MC4wKTsgc2kuYWRkX2FyZ3VtZW50KCItLWVsbC1tYXgiLCB0eXBlPWZsb2F0LCBkZWZhdWx0PTAuNSkKICAgIHNpLmFkZF9hcmd1bWVudCgiLS1tIiwgdHlwZT1pbnQsIGRlZmF1bHQ9MTAxKTsgc2kuYWRkX2FyZ3VtZW50KCItLWFscGhhIiwgdHlwZT1mbG9hdCwgZGVmYXVsdD0xLjApCiAgICBzaS5hZGRfYXJndW1lbnQoIi0tTCIsIHR5cGU9ZmxvYXQsIGRlZmF1bHQ9MTAuMCkKICAgIHJldHVybiBwCgpkZWYgbWFpbihhcmd2OiBsaXN0W3N0cl0gfCBOb25lID0gTm9uZSkgLT4gaW50OgogICAgYXJndiA9IGxpc3Qoc3lzLmFyZ3ZbMTpdIGlmIGFyZ3YgaXMgTm9uZSBlbHNlIGFyZ3YpCiAgICBhcmdzID0gYnVpbGRfcGFyc2VyKCkucGFyc2VfYXJncyhhcmd2KQogICAgb3V0ZGlyOiBQYXRoID0gYXJncy5vdXRkaXIKICAgIG91dGRpci5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCiAgICBwcm92ID0gX3Byb3ZlbmFuY2UoWyJkZ3BpcGUiXSArIGFyZ3YsIG91dGRpcikKCiAgICBpZiBhcmdzLmNtZCA9PSAicHJvdG9jb2xzIjoKICAgICAgICBwYXlsb2FkID0geyJwcm92ZW5hbmNlIjogcHJvdiwgInByb3RvY29sX3NwZWMiOiBnZW5lcmF0ZV9wcm90b2NvbHMoKX0KICAgICAgICBwYXRoID0gb3V0ZGlyIC8gInByb3RvY29scy5qc29uIgogICAgICAgIF93cml0ZV9qc29uKHBhdGgsIHBheWxvYWQpCiAgICAgICAgcHJpbnQoc3RyKHBhdGgpKQogICAgICAgIHJldHVybiAwCgogICAgaWYgYXJncy5jbWQgPT0gInNpbXVsYXRlIjoKICAgICAgICBzaW0gPSBzaW11bGF0ZShvdXRkaXIsIGFyZ3MubiwgYXJncy5kdCwgYXJncy54aSwgYXJncy5vbWVnYSwgYXJncy5lbGwsIGFyZ3MuYWxwaGEsIGFyZ3MucmhvLCBhcmdzLkwsIGFyZ3Mubm9pc2UsIGFyZ3Muc2VlZCkKICAgICAgICBwYXlsb2FkID0geyJwcm92ZW5hbmNlIjogcHJvdiwgKipzaW19CiAgICAgICAgcGF0aCA9IG91dGRpciAvICJzaW11bGF0aW9uLmpzb24iCiAgICAgICAgX3dyaXRlX2pzb24ocGF0aCwgcGF5bG9hZCkKICAgICAgICAob3V0ZGlyIC8gInNpbXVsYXRpb24uc2hhMjU2Iikud3JpdGVfdGV4dChfc2hhMjU2X2J5dGVzKHBhdGgucmVhZF9ieXRlcygpKSArICJcbiIsIGVuY29kaW5nPSJ1dGYtOCIpCiAgICAgICAgcHJpbnQoc3RyKHBhdGgpKQogICAgICAgIHJldHVybiAwCgogICAgaWYgYXJncy5jbWQgPT0gImluZmVyIjoKICAgICAgICBpbmYgPSBpbmZlcihhcmdzLmRhdGEsIG91dGRpciwgYXJncy5lbGxfbWluLCBhcmdzLmVsbF9tYXgsIGFyZ3MubSwgYXJncy5hbHBoYSwgYXJncy5MKQogICAgICAgIHBheWxvYWQgPSB7InByb3ZlbmFuY2UiOiBwcm92LCAqKmluZn0KICAgICAgICBwYXRoID0gb3V0ZGlyIC8gImluZmVyZW5jZS5qc29uIgogICAgICAgIF93cml0ZV9qc29uKHBhdGgsIHBheWxvYWQpCiAgICAgICAgKG91dGRpciAvICJpbmZlcmVuY2Uuc2hhMjU2Iikud3JpdGVfdGV4dChfc2hhMjU2X2J5dGVzKHBhdGgucmVhZF9ieXRlcygpKSArICJcbiIsIGVuY29kaW5nPSJ1dGYtOCIpCiAgICAgICAgcHJpbnQoc3RyKHBhdGgpKQogICAgICAgIHJldHVybiAwCgogICAgcmFpc2UgU3lzdGVtRXhpdCgiVW5rbm93biBjb21tYW5kIikKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICByYWlzZSBTeXN0ZW1FeGl0KG1haW4oKSkK\"}\nDIR_STATE:[\"src/dgpipe/__init__.py\",\"src/dgpipe/cli.py\",\"src/dgpipe/inference.py\",\"src/dgpipe/io.py\",\"src/dgpipe/models.py\",\"src/dgpipe/protocols.py\",\"src/dgpipe/simulations.py\"]",
  "reasoning": "",
  "responseId": "resp_0fcfddf22b723ded006949b43ea1188193bef370d2c56e691d",
  "model": "gpt-5.2-2025-12-11",
  "usage": {
    "input_tokens": 9647,
    "input_tokens_details": {
      "cached_tokens": 0
    },
    "output_tokens": 8611,
    "output_tokens_details": {
      "reasoning_tokens": 47
    },
    "total_tokens": 18258
  },
  "hadError": false,
  "errorType": null,
  "webSearchSources": [],
  "citations": [],
  "output": [
    {
      "id": "rs_0fcfddf22b723ded006949b43f7ad0819381cbec656e420cdb",
      "type": "reasoning",
      "summary": []
    },
    {
      "id": "ci_0fcfddf22b723ded006949b4413c348193b729ed44128f7897",
      "type": "code_interpreter_call",
      "status": "completed",
      "code": "from pathlib import Path\nimport base64, json, hashlib, gzip\n\ntarget_path = Path('/mnt/data').joinpath('src/dgpipe/cli.py')\nassert target_path.is_file(), 'Expected src/dgpipe/cli.py to exist before export'\ndata = target_path.read_bytes()\npayload = {\n   'path': 'src/dgpipe/cli.py',\n   'size': len(data),\n   'encoding': 'base64',\n   'sha256': hashlib.sha256(data).hexdigest(),\n   'content': None\n}\nif len(data) > 20000:\n    compressed = gzip.compress(data)\n    payload['encoding'] = 'gzip+base64'\n    payload['content'] = base64.b64encode(compressed).decode('ascii')\nelse:\n    payload['content'] = base64.b64encode(data).decode('ascii')\n\nprint('FILE_EXPORT:' + json.dumps(payload, separators=(',', ':')))\nprint('DIR_STATE:' + json.dumps(sorted(str(p.relative_to(Path(\"/mnt/data\"))) for p in target_path.parent.glob('*') if p.is_file())))",
      "container_id": "cntr_6949aff88f24819097f165c497ce475e074f2320f5d510c4",
      "outputs": [
        {
          "type": "logs",
          "logs": "FILE_EXPORT:{\"path\":\"src/dgpipe/cli.py\",\"size\":10116,\"encoding\":\"base64\",\"sha256\":\"e20a88bfd62af4de1bc223c15d1a870ec48e59d0ee78e1dc734b3c39f12e755e\",\"content\":\"ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwppbXBvcnQgYXJncGFyc2UsIGpzb24sIG1hdGgsIG9zLCBwbGF0Zm9ybSwgcmFuZG9tLCBzeXMsIGhhc2hsaWIsIGRhdGV0aW1lLCBzdWJwcm9jZXNzCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApkZWYgX3V0Y25vdygpIC0+IHN0cjoKICAgIHJldHVybiBkYXRldGltZS5kYXRldGltZS5ub3coZGF0ZXRpbWUudGltZXpvbmUudXRjKS5pc29mb3JtYXQoKQoKZGVmIF9zaGEyNTZfYnl0ZXMoYjogYnl0ZXMpIC0+IHN0cjoKICAgIHJldHVybiBoYXNobGliLnNoYTI1NihiKS5oZXhkaWdlc3QoKQoKZGVmIF9tYXliZV9naXRfcmV2KGN3ZDogUGF0aCkgLT4gc3RyIHwgTm9uZToKICAgIHRyeToKICAgICAgICBvdXQgPSBzdWJwcm9jZXNzLmNoZWNrX291dHB1dChbImdpdCIsICJyZXYtcGFyc2UiLCAiSEVBRCJdLCBjd2Q9c3RyKGN3ZCksIHN0ZGVycj1zdWJwcm9jZXNzLkRFVk5VTEwpCiAgICAgICAgcmV0dXJuIG91dC5kZWNvZGUoKS5zdHJpcCgpCiAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgIHJldHVybiBOb25lCgpkZWYgX3Byb3ZlbmFuY2UoYXJndjogbGlzdFtzdHJdLCBvdXRkaXI6IFBhdGgpIC0+IGRpY3Q6CiAgICByZXR1cm4gewogICAgICAgICJ0aW1lc3RhbXBfdXRjIjogX3V0Y25vdygpLAogICAgICAgICJhcmd2IjogYXJndiwKICAgICAgICAicHl0aG9uIjogc3lzLnZlcnNpb24uc3BsaXQoKVswXSwKICAgICAgICAicGxhdGZvcm0iOiB7InN5c3RlbSI6IHBsYXRmb3JtLnN5c3RlbSgpLCAicmVsZWFzZSI6IHBsYXRmb3JtLnJlbGVhc2UoKSwgIm1hY2hpbmUiOiBwbGF0Zm9ybS5tYWNoaW5lKCl9LAogICAgICAgICJnaXRfcmV2IjogX21heWJlX2dpdF9yZXYoUGF0aC5jd2QoKSksCiAgICAgICAgIm91dGRpciI6IHN0cihvdXRkaXIpLAogICAgfQoKZGVmIF93cml0ZV9qc29uKHBhdGg6IFBhdGgsIG9iajogZGljdCkgLT4gTm9uZToKICAgIGRhdGEgPSBqc29uLmR1bXBzKG9iaiwgaW5kZW50PTIsIHNvcnRfa2V5cz1UcnVlKS5lbmNvZGUoInV0Zi04IikKICAgIHBhdGgud3JpdGVfYnl0ZXMoZGF0YSkKZGVmIGdlbmVyYXRlX3Byb3RvY29scygpIC0+IGRpY3Q6CiAgICAjIFByaW9yaXRpemVkIHByb3RvY29scyBmb3IgY29ycmVsYXRvcnMgKyBlbnRhbmdsZW1lbnQgZGlhZ25vc3RpY3MgYWNyb3NzIGFuYWxvZ3VlL2FzdHJvIHByb2Jlcy4KICAgIHJldHVybiB7CiAgICAgICAgInZlcnNpb24iOiAxLAogICAgICAgICJwYXJhbWV0ZXJzIjogewogICAgICAgICAgICAiZWxsIjogImRpc2NyZXRlbmVzcyBsZW5ndGggc2NhbGUgKGVmZmVjdGl2ZSkgY29udHJvbGxpbmcgZGlzcGVyc2l2ZSBjb3JyZWN0aW9ucyIsCiAgICAgICAgICAgICJyaG8iOiAic3ByaW5rbGluZyBkZW5zaXR5IC8gbWljcm9zdHJ1Y3R1cmUgZGVuc2l0eSBwcm94eSIsCiAgICAgICAgICAgICJhbHBoYSI6ICJkaW1lbnNpb25sZXNzIGRpc3BlcnNpb24gc3RyZW5ndGgiLAogICAgICAgIH0sCiAgICAgICAgInByb3RvY29scyI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInByaW9yaXR5IjogMSwKICAgICAgICAgICAgICAgICJuYW1lIjogIkVxdWFsLXRpbWUgdHdvLXBvaW50IGNvcnJlbGF0b3IgQyh4KSBpbiBhbmFsb2d1ZSBRRlQiLAogICAgICAgICAgICAgICAgInBsYXRmb3JtcyI6IFsiQkVDIHBob25vbnMiLCAib3B0aWNhbCB3YXZlZ3VpZGVzIiwgInN1cGVyY29uZHVjdGluZyBjaXJjdWl0cyJdLAogICAgICAgICAgICAgICAgIm9ic2VydmFibGUiOiAiQyh4KT08cGhpKDApcGhpKHgpPiBvciBkZW5zaXR5LWRlbnNpdHkgY29ycmVsYXRvciIsCiAgICAgICAgICAgICAgICAibWVhc3VyZW1lbnQiOiAiaG9tb2R5bmUvQnJhZ2cgaW1hZ2luZzsgZXh0cmFjdCBDKHgpIGFuZCBGb3VyaWVyIHNwZWN0cnVtIFMoaykiLAogICAgICAgICAgICAgICAgInNpZ25hdHVyZSI6ICJVViByb2xsLW9mZiBhbmQgb3NjaWxsYXRvcnkgcmVzaWR1YWxzIGNvbnNpc3RlbnQgd2l0aCBkaXNjcmV0ZSBzcGVjdHJ1bSAvIG1vZGlmaWVkIGRpc3BlcnNpb24iLAogICAgICAgICAgICAgICAgInN5c3RlbWF0aWNzIjogWyJmaW5pdGUtc2l6ZSIsICJ0cmFwIGluaG9tb2dlbmVpdHkiLCAiZGV0ZWN0b3IgcmVzb2x1dGlvbiIsICJ0aGVybWFsIGJhY2tncm91bmQiXSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInByaW9yaXR5IjogMiwKICAgICAgICAgICAgICAgICJuYW1lIjogIlVuZXF1YWwtdGltZSBjb3JyZWxhdG9yIEModCkgYW5kIHJldGFyZGVkIEdyZWVuJ3MgZnVuY3Rpb24iLAogICAgICAgICAgICAgICAgInBsYXRmb3JtcyI6IFsib3B0b21lY2hhbmljYWwgYXJyYXlzIiwgImNvbGQtYXRvbSBzaW11bGF0b3JzIl0sCiAgICAgICAgICAgICAgICAib2JzZXJ2YWJsZSI6ICJDKHQpPTxwaGkoMClwaGkodCk+LCBHX1IodCkiLAogICAgICAgICAgICAgICAgIm1lYXN1cmVtZW50IjogInB1bXAtcHJvYmU7IHF1ZW5jaCB0aGVuIHJlYWQgb3V0IHRlbXBvcmFsIGNvcnJlbGF0aW9ucyIsCiAgICAgICAgICAgICAgICAic2lnbmF0dXJlIjogInBoYXNlIHNsaXAgLyBiZWF0aW5nIGZyb20gZGlzY3JldGUgbW9kZXM7IGRpc3BlcnNpdmUgZ3JvdXAtZGVsYXkgc2hpZnRzIiwKICAgICAgICAgICAgICAgICJzeXN0ZW1hdGljcyI6IFsiZGlzcGVyc2lvbiBjYWxpYnJhdGlvbiIsICJzYW1wbGluZyBqaXR0ZXIiLCAiYmF0aCBjb3VwbGluZyJdLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAicHJpb3JpdHkiOiAzLAogICAgICAgICAgICAgICAgIm5hbWUiOiAiRW50YW5nbGVtZW50IGRpYWdub3N0aWNzIHZpYSBtdXR1YWwgaW5mb3JtYXRpb24gLyBuZWdhdGl2aXR5IHByb3h5IiwKICAgICAgICAgICAgICAgICJwbGF0Zm9ybXMiOiBbImNvbnRpbnVvdXMtdmFyaWFibGUgcGhvdG9uaWNzIiwgImNRRUQiLCAiaW9uIGNoYWlucyJdLAogICAgICAgICAgICAgICAgIm9ic2VydmFibGUiOiAiSShBOkIpIGZyb20gY292YXJpYW5jZSBtYXRyaXg7IGxvZ2FyaXRobWljIG5lZ2F0aXZpdHkgaWYgYWNjZXNzaWJsZSIsCiAgICAgICAgICAgICAgICAibWVhc3VyZW1lbnQiOiAiR2F1c3NpYW4gdG9tb2dyYXBoeSAvIHF1YWRyYXR1cmUgcmVhZG91dDsgYnVpbGQgY292YXJpYW5jZSBibG9ja3MiLAogICAgICAgICAgICAgICAgInNpZ25hdHVyZSI6ICJzY2FsZS1kZXBlbmRlbnQgc3VwcHJlc3Npb24vZW5oYW5jZW1lbnQgYWNyb3NzIHBhcnRpdGlvbnMgdHJhY2tpbmcgZWxsLCByaG8iLAogICAgICAgICAgICAgICAgInN5c3RlbWF0aWNzIjogWyJsb3NzIiwgIm1vZGUgbWlzbWF0Y2giLCAiZmluaXRlIHNxdWVlemluZyIsICJjbGFzc2ljYWwgY29ycmVsYXRpb25zIl0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJwcmlvcml0eSI6IDQsCiAgICAgICAgICAgICAgICAibmFtZSI6ICJBc3Ryb3BoeXNpY2FsIHRpbWUtb2YtZmxpZ2h0IGRpc3BlcnNpb24gY29uc3RyYWludHMiLAogICAgICAgICAgICAgICAgInBsYXRmb3JtcyI6IFsiR1JCL0ZSQiB0aW1pbmciLCAiR1cgbXVsdGktbWVzc2VuZ2VyIl0sCiAgICAgICAgICAgICAgICAib2JzZXJ2YWJsZSI6ICJlbmVyZ3ktZGVwZW5kZW50IGFycml2YWwgZGVsYXlzIiwKICAgICAgICAgICAgICAgICJtZWFzdXJlbWVudCI6ICJjcm9zcy1iYW5kIHRpbWluZzsgaGllcmFyY2hpY2FsIHBvcHVsYXRpb24gbW9kZWwiLAogICAgICAgICAgICAgICAgInNpZ25hdHVyZSI6ICLOlHQg4oidIGFscGhhKmVsbF4yKkVeMipEICh0b3kpLCBib3VuZGVkIGJ5IG5vbi1kZXRlY3Rpb24iLAogICAgICAgICAgICAgICAgInN5c3RlbWF0aWNzIjogWyJpbnRyaW5zaWMgc291cmNlIGxhZ3MiLCAicGxhc21hIGRpc3BlcnNpb24iLCAic2VsZWN0aW9uIGJpYXNlcyJdLAogICAgICAgICAgICB9LAogICAgICAgIF0sCiAgICB9CmRlZiBzaW11bGF0ZShvdXRkaXI6IFBhdGgsIG46IGludCwgZHQ6IGZsb2F0LCB4aTogZmxvYXQsIG9tZWdhOiBmbG9hdCwgZWxsOiBmbG9hdCwgYWxwaGE6IGZsb2F0LAogICAgICAgICAgICAgcmhvOiBmbG9hdCwgTDogZmxvYXQsIG5vaXNlOiBmbG9hdCwgc2VlZDogaW50KSAtPiBkaWN0OgogICAgcmFuZG9tLnNlZWQoc2VlZCkKICAgICMgVG95IG1vZGVsOiBjb3JyZWxhdG9yIHdpdGggZGlzcGVyc2l2ZSBjb3JyZWN0aW9uIGFuZCBmaW5pdGUtc2l6ZSBtb2RlIGRpc2NyZXRpemF0aW9uLgogICAgazAgPSBtYXRoLnBpIC8gbWF4KEwsIDFlLTkpICAjIElSIG1vZGUgc3BhY2luZwogICAgb21lZ2FfZWZmID0gb21lZ2EgKiAoMS4wICsgYWxwaGEgKiAoZWxsICogazApICoqIDIpCiAgICB0aW1lcyA9IFtpICogZHQgZm9yIGkgaW4gcmFuZ2UobildCiAgICBDID0gW10KICAgIGZvciB0IGluIHRpbWVzOgogICAgICAgIGJhc2UgPSBtYXRoLmV4cCgtdCAvIG1heCh4aSwgMWUtOSkpICogbWF0aC5jb3Mob21lZ2FfZWZmICogdCkKICAgICAgICAjIE1pY3Jvc3RydWN0dXJlIGRlbnNpdHkgcHJveHk6IHNtYWxsLWFtcGxpdHVkZSByaXBwbGUgc2NhbGluZyB3aXRoIHJoby4KICAgICAgICByaXBwbGUgPSAwLjAyICogbWF0aC50YW5oKHJobykgKiBtYXRoLmNvcygzLjAgKiBvbWVnYV9lZmYgKiB0KQogICAgICAgIHkgPSBiYXNlICsgcmlwcGxlICsgcmFuZG9tLmdhdXNzKDAuMCwgbm9pc2UpCiAgICAgICAgQy5hcHBlbmQoeSkKICAgICMgR2F1c3NpYW4tc3RhdGUgcHJveHk6IG11dHVhbCBpbmZvcm1hdGlvbiBmcm9tIGFuIGVmZmVjdGl2ZSBjb3JyZWxhdGlvbiBjb2VmZmljaWVudCByKHQwKS4KICAgIHQwID0gdGltZXNbbWluKG4gLSAxLCBtYXgoMSwgbiAvLyAxMCkpXQogICAgciA9IG1heCgtMC45OTksIG1pbigwLjk5OSwgbWF0aC5leHAoLXQwIC8gbWF4KHhpLCAxZS05KSkgKiAoMS4wIC0gMC41ICogYWxwaGEgKiAoZWxsICogazApICoqIDIpKSkKICAgIG11dHVhbF9pbmZvID0gZmxvYXQoLTAuNSAqIG1hdGgubG9nKDEuMCAtIHIgKiByKSkKICAgIHJldHVybiB7CiAgICAgICAgIm1vZGVsIjogInRveV9kaXNjcmV0ZV9kaXNwZXJzaW9uX3YxIiwKICAgICAgICAiaW5wdXRzIjogeyJuIjogbiwgImR0IjogZHQsICJ4aSI6IHhpLCAib21lZ2EiOiBvbWVnYSwgImVsbCI6IGVsbCwgImFscGhhIjogYWxwaGEsICJyaG8iOiByaG8sICJMIjogTCwgIm5vaXNlIjogbm9pc2UsICJzZWVkIjogc2VlZH0sCiAgICAgICAgImRhdGEiOiB7InQiOiB0aW1lcywgIkMiOiBDLCAibXV0dWFsX2luZm8iOiBtdXR1YWxfaW5mb30sCiAgICAgICAgInN1bW1hcnkiOiB7IkMwIjogQ1swXSwgIkNfcm1zIjogZmxvYXQobWF0aC5zcXJ0KHN1bSh4KnggZm9yIHggaW4gQykvbGVuKEMpKSl9LAogICAgfQpkZWYgaW5mZXIoZGF0YV9wYXRoOiBQYXRoLCBvdXRkaXI6IFBhdGgsIGVsbF9taW46IGZsb2F0LCBlbGxfbWF4OiBmbG9hdCwgbTogaW50LCBhbHBoYTogZmxvYXQsIEw6IGZsb2F0KSAtPiBkaWN0OgogICAgb2JqID0ganNvbi5sb2FkcyhkYXRhX3BhdGgucmVhZF90ZXh0KGVuY29kaW5nPSJ1dGYtOCIpKQogICAgdCA9IG9ialsiZGF0YSJdWyJ0Il07IENvYnMgPSBvYmpbImRhdGEiXVsiQyJdCiAgICB4aSA9IGZsb2F0KG9ialsiaW5wdXRzIl1bInhpIl0pOyBvbWVnYSA9IGZsb2F0KG9ialsiaW5wdXRzIl1bIm9tZWdhIl0pOyBkdCA9IGZsb2F0KG9ialsiaW5wdXRzIl1bImR0Il0pCiAgICBub2lzZSA9IGZsb2F0KG9ialsiaW5wdXRzIl1bIm5vaXNlIl0pCiAgICBrMCA9IG1hdGgucGkgLyBtYXgoTCwgMWUtOSkKICAgIHNpZzIgPSBtYXgobm9pc2UgKiBub2lzZSwgMWUtMTIpCiAgICBncmlkID0gW10KICAgIGZvciBqIGluIHJhbmdlKG0pOgogICAgICAgIGVsbCA9IGVsbF9taW4gKyAoZWxsX21heCAtIGVsbF9taW4pICogKGogLyBtYXgoMSwgbSAtIDEpKQogICAgICAgIG9tZWdhX2VmZiA9IG9tZWdhICogKDEuMCArIGFscGhhICogKGVsbCAqIGswKSAqKiAyKQogICAgICAgIGNoaTIgPSAwLjAKICAgICAgICBmb3IgdGksIHlpIGluIHppcCh0LCBDb2JzKToKICAgICAgICAgICAgbXUgPSBtYXRoLmV4cCgtdGkgLyBtYXgoeGksIDFlLTkpKSAqIG1hdGguY29zKG9tZWdhX2VmZiAqIHRpKQogICAgICAgICAgICBjaGkyICs9ICh5aSAtIG11KSAqKiAyIC8gc2lnMgogICAgICAgIGxvZ0wgPSAtMC41ICogY2hpMgogICAgICAgIGdyaWQuYXBwZW5kKHsiZWxsIjogZWxsLCAibG9nTCI6IGZsb2F0KGxvZ0wpfSkKICAgICMgTm9ybWFsaXplIHRvIGEgZGlzY3JldGUgcG9zdGVyaW9yIHdpdGggZmxhdCBwcmlvciBvdmVyIGVsbC4KICAgIG14ID0gbWF4KGdbImxvZ0wiXSBmb3IgZyBpbiBncmlkKQogICAgdyA9IFttYXRoLmV4cChnWyJsb2dMIl0gLSBteCkgZm9yIGcgaW4gZ3JpZF0KICAgIFogPSBzdW0odykgb3IgMS4wCiAgICBmb3IgZ2ksIHdpIGluIHppcChncmlkLCB3KToKICAgICAgICBnaVsicG9zdGVyaW9yIl0gPSBmbG9hdCh3aSAvIFopCiAgICBlbGxfbWFwID0gbWF4KGdyaWQsIGtleT1sYW1iZGEgZzogZ1sicG9zdGVyaW9yIl0pWyJlbGwiXQogICAgbWVhbiA9IHN1bShnWyJlbGwiXSAqIGdbInBvc3RlcmlvciJdIGZvciBnIGluIGdyaWQpCiAgICBjZGYgPSBbXQogICAgcyA9IDAuMAogICAgZm9yIGcgaW4gc29ydGVkKGdyaWQsIGtleT1sYW1iZGEgejogelsiZWxsIl0pOgogICAgICAgIHMgKz0gZ1sicG9zdGVyaW9yIl07IGNkZi5hcHBlbmQoKGdbImVsbCJdLCBzKSkKICAgIGRlZiBxKHA6IGZsb2F0KSAtPiBmbG9hdDoKICAgICAgICBmb3IgZSwgY3AgaW4gY2RmOgogICAgICAgICAgICBpZiBjcCA+PSBwOiByZXR1cm4gZmxvYXQoZSkKICAgICAgICByZXR1cm4gZmxvYXQoY2RmWy0xXVswXSkKICAgIHJldHVybiB7ImRhdGFfcmVmIjogc3RyKGRhdGFfcGF0aCksICJhbHBoYSI6IGFscGhhLCAiTCI6IEwsICJlbGxfZ3JpZCI6IGdyaWQsCiAgICAgICAgICAgICJwb2ludF9lc3RpbWF0ZXMiOiB7ImVsbF9tYXAiOiBmbG9hdChlbGxfbWFwKSwgImVsbF9tZWFuIjogZmxvYXQobWVhbiksICJlbGxfcTE2IjogcSgwLjE2KSwgImVsbF9xODQiOiBxKDAuODQpfX0KZGVmIGJ1aWxkX3BhcnNlcigpIC0+IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyOgogICAgcCA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKHByb2c9ImRncGlwZSIsIGRlc2NyaXB0aW9uPSJEaXNjcmV0ZS1ncmF2aXR5IHBpcGVsaW5lIENMSTogcHJvdG9jb2xzLCBzaW11bGF0aW9uLCBpbmZlcmVuY2UuIikKICAgIHAuYWRkX2FyZ3VtZW50KCItLW91dGRpciIsIHR5cGU9UGF0aCwgZGVmYXVsdD1QYXRoKCJkZ3BpcGVfb3V0IiksIGhlbHA9Ik91dHB1dCBkaXJlY3RvcnkgKGNyZWF0ZWQgaWYgbWlzc2luZykuIikKICAgIHN1YiA9IHAuYWRkX3N1YnBhcnNlcnMoZGVzdD0iY21kIiwgcmVxdWlyZWQ9VHJ1ZSkKCiAgICBzcCA9IHN1Yi5hZGRfcGFyc2VyKCJwcm90b2NvbHMiLCBoZWxwPSJXcml0ZSBhIHByaW9yaXRpemVkIG1lYXN1cmVtZW50LXByb3RvY29sIHNwZWNpZmljYXRpb24gKEpTT04pLiIpCgogICAgc3MgPSBzdWIuYWRkX3BhcnNlcigic2ltdWxhdGUiLCBoZWxwPSJSdW4gYSBjb250cm9sbGVkIHRveSBzaW11bGF0aW9uIHdpdGggZmluaXRlLXNpemUgYW5kIGRpc3BlcnNpdmUgc3lzdGVtYXRpY3MuIikKICAgIHNzLmFkZF9hcmd1bWVudCgiLS1uIiwgdHlwZT1pbnQsIGRlZmF1bHQ9NTEyKTsgc3MuYWRkX2FyZ3VtZW50KCItLWR0IiwgdHlwZT1mbG9hdCwgZGVmYXVsdD0wLjAxKQogICAgc3MuYWRkX2FyZ3VtZW50KCItLXhpIiwgdHlwZT1mbG9hdCwgZGVmYXVsdD0xLjApOyBzcy5hZGRfYXJndW1lbnQoIi0tb21lZ2EiLCB0eXBlPWZsb2F0LCBkZWZhdWx0PTYuMCkKICAgIHNzLmFkZF9hcmd1bWVudCgiLS1lbGwiLCB0eXBlPWZsb2F0LCBkZWZhdWx0PTAuMSk7IHNzLmFkZF9hcmd1bWVudCgiLS1hbHBoYSIsIHR5cGU9ZmxvYXQsIGRlZmF1bHQ9MS4wKQogICAgc3MuYWRkX2FyZ3VtZW50KCItLXJobyIsIHR5cGU9ZmxvYXQsIGRlZmF1bHQ9MS4wKTsgc3MuYWRkX2FyZ3VtZW50KCItLUwiLCB0eXBlPWZsb2F0LCBkZWZhdWx0PTEwLjApCiAgICBzcy5hZGRfYXJndW1lbnQoIi0tbm9pc2UiLCB0eXBlPWZsb2F0LCBkZWZhdWx0PTAuMDIpOyBzcy5hZGRfYXJndW1lbnQoIi0tc2VlZCIsIHR5cGU9aW50LCBkZWZhdWx0PTApCgogICAgc2kgPSBzdWIuYWRkX3BhcnNlcigiaW5mZXIiLCBoZWxwPSJJbmZlciBkaXNjcmV0ZW5lc3Mgc2NhbGUgZWxsIGZyb20gYSBzYXZlZCBzaW11bGF0aW9uL21lYXN1cmVtZW50IEpTT04uIikKICAgIHNpLmFkZF9hcmd1bWVudCgiZGF0YSIsIHR5cGU9UGF0aCwgaGVscD0iUGF0aCB0byBKU09OIHByb2R1Y2VkIGJ5IHNpbXVsYXRlIChvciBjb21wYXRpYmxlIG1lYXN1cmVtZW50IGZpbGUpLiIpCiAgICBzaS5hZGRfYXJndW1lbnQoIi0tZWxsLW1pbiIsIHR5cGU9ZmxvYXQsIGRlZmF1bHQ9MC4wKTsgc2kuYWRkX2FyZ3VtZW50KCItLWVsbC1tYXgiLCB0eXBlPWZsb2F0LCBkZWZhdWx0PTAuNSkKICAgIHNpLmFkZF9hcmd1bWVudCgiLS1tIiwgdHlwZT1pbnQsIGRlZmF1bHQ9MTAxKTsgc2kuYWRkX2FyZ3VtZW50KCItLWFscGhhIiwgdHlwZT1mbG9hdCwgZGVmYXVsdD0xLjApCiAgICBzaS5hZGRfYXJndW1lbnQoIi0tTCIsIHR5cGU9ZmxvYXQsIGRlZmF1bHQ9MTAuMCkKICAgIHJldHVybiBwCgpkZWYgbWFpbihhcmd2OiBsaXN0W3N0cl0gfCBOb25lID0gTm9uZSkgLT4gaW50OgogICAgYXJndiA9IGxpc3Qoc3lzLmFyZ3ZbMTpdIGlmIGFyZ3YgaXMgTm9uZSBlbHNlIGFyZ3YpCiAgICBhcmdzID0gYnVpbGRfcGFyc2VyKCkucGFyc2VfYXJncyhhcmd2KQogICAgb3V0ZGlyOiBQYXRoID0gYXJncy5vdXRkaXIKICAgIG91dGRpci5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCiAgICBwcm92ID0gX3Byb3ZlbmFuY2UoWyJkZ3BpcGUiXSArIGFyZ3YsIG91dGRpcikKCiAgICBpZiBhcmdzLmNtZCA9PSAicHJvdG9jb2xzIjoKICAgICAgICBwYXlsb2FkID0geyJwcm92ZW5hbmNlIjogcHJvdiwgInByb3RvY29sX3NwZWMiOiBnZW5lcmF0ZV9wcm90b2NvbHMoKX0KICAgICAgICBwYXRoID0gb3V0ZGlyIC8gInByb3RvY29scy5qc29uIgogICAgICAgIF93cml0ZV9qc29uKHBhdGgsIHBheWxvYWQpCiAgICAgICAgcHJpbnQoc3RyKHBhdGgpKQogICAgICAgIHJldHVybiAwCgogICAgaWYgYXJncy5jbWQgPT0gInNpbXVsYXRlIjoKICAgICAgICBzaW0gPSBzaW11bGF0ZShvdXRkaXIsIGFyZ3MubiwgYXJncy5kdCwgYXJncy54aSwgYXJncy5vbWVnYSwgYXJncy5lbGwsIGFyZ3MuYWxwaGEsIGFyZ3MucmhvLCBhcmdzLkwsIGFyZ3Mubm9pc2UsIGFyZ3Muc2VlZCkKICAgICAgICBwYXlsb2FkID0geyJwcm92ZW5hbmNlIjogcHJvdiwgKipzaW19CiAgICAgICAgcGF0aCA9IG91dGRpciAvICJzaW11bGF0aW9uLmpzb24iCiAgICAgICAgX3dyaXRlX2pzb24ocGF0aCwgcGF5bG9hZCkKICAgICAgICAob3V0ZGlyIC8gInNpbXVsYXRpb24uc2hhMjU2Iikud3JpdGVfdGV4dChfc2hhMjU2X2J5dGVzKHBhdGgucmVhZF9ieXRlcygpKSArICJcbiIsIGVuY29kaW5nPSJ1dGYtOCIpCiAgICAgICAgcHJpbnQoc3RyKHBhdGgpKQogICAgICAgIHJldHVybiAwCgogICAgaWYgYXJncy5jbWQgPT0gImluZmVyIjoKICAgICAgICBpbmYgPSBpbmZlcihhcmdzLmRhdGEsIG91dGRpciwgYXJncy5lbGxfbWluLCBhcmdzLmVsbF9tYXgsIGFyZ3MubSwgYXJncy5hbHBoYSwgYXJncy5MKQogICAgICAgIHBheWxvYWQgPSB7InByb3ZlbmFuY2UiOiBwcm92LCAqKmluZn0KICAgICAgICBwYXRoID0gb3V0ZGlyIC8gImluZmVyZW5jZS5qc29uIgogICAgICAgIF93cml0ZV9qc29uKHBhdGgsIHBheWxvYWQpCiAgICAgICAgKG91dGRpciAvICJpbmZlcmVuY2Uuc2hhMjU2Iikud3JpdGVfdGV4dChfc2hhMjU2X2J5dGVzKHBhdGgucmVhZF9ieXRlcygpKSArICJcbiIsIGVuY29kaW5nPSJ1dGYtOCIpCiAgICAgICAgcHJpbnQoc3RyKHBhdGgpKQogICAgICAgIHJldHVybiAwCgogICAgcmFpc2UgU3lzdGVtRXhpdCgiVW5rbm93biBjb21tYW5kIikKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICByYWlzZSBTeXN0ZW1FeGl0KG1haW4oKSkK\"}\nDIR_STATE:[\"src/dgpipe/__init__.py\", \"src/dgpipe/cli.py\", \"src/dgpipe/inference.py\", \"src/dgpipe/io.py\", \"src/dgpipe/models.py\", \"src/dgpipe/protocols.py\", \"src/dgpipe/simulations.py\"]\n"
        }
      ]
    },
    {
      "id": "msg_0fcfddf22b723ded006949b445f6048193b1e1453d0e949500",
      "type": "message",
      "status": "completed",
      "content": [
        {
          "type": "output_text",
          "annotations": [],
          "logprobs": [],
          "text": "FILE_EXPORT:{\"path\":\"src/dgpipe/cli.py\",\"size\":10116,\"encoding\":\"base64\",\"sha256\":\"e20a88bfd62af4de1bc223c15d1a870ec48e59d0ee78e1dc734b3c39f12e755e\",\"content\":\"ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwppbXBvcnQgYXJncGFyc2UsIGpzb24sIG1hdGgsIG9zLCBwbGF0Zm9ybSwgcmFuZG9tLCBzeXMsIGhhc2hsaWIsIGRhdGV0aW1lLCBzdWJwcm9jZXNzCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApkZWYgX3V0Y25vdygpIC0+IHN0cjoKICAgIHJldHVybiBkYXRldGltZS5kYXRldGltZS5ub3coZGF0ZXRpbWUudGltZXpvbmUudXRjKS5pc29mb3JtYXQoKQoKZGVmIF9zaGEyNTZfYnl0ZXMoYjogYnl0ZXMpIC0+IHN0cjoKICAgIHJldHVybiBoYXNobGliLnNoYTI1NihiKS5oZXhkaWdlc3QoKQoKZGVmIF9tYXliZV9naXRfcmV2KGN3ZDogUGF0aCkgLT4gc3RyIHwgTm9uZToKICAgIHRyeToKICAgICAgICBvdXQgPSBzdWJwcm9jZXNzLmNoZWNrX291dHB1dChbImdpdCIsICJyZXYtcGFyc2UiLCAiSEVBRCJdLCBjd2Q9c3RyKGN3ZCksIHN0ZGVycj1zdWJwcm9jZXNzLkRFVk5VTEwpCiAgICAgICAgcmV0dXJuIG91dC5kZWNvZGUoKS5zdHJpcCgpCiAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgIHJldHVybiBOb25lCgpkZWYgX3Byb3ZlbmFuY2UoYXJndjogbGlzdFtzdHJdLCBvdXRkaXI6IFBhdGgpIC0+IGRpY3Q6CiAgICByZXR1cm4gewogICAgICAgICJ0aW1lc3RhbXBfdXRjIjogX3V0Y25vdygpLAogICAgICAgICJhcmd2IjogYXJndiwKICAgICAgICAicHl0aG9uIjogc3lzLnZlcnNpb24uc3BsaXQoKVswXSwKICAgICAgICAicGxhdGZvcm0iOiB7InN5c3RlbSI6IHBsYXRmb3JtLnN5c3RlbSgpLCAicmVsZWFzZSI6IHBsYXRmb3JtLnJlbGVhc2UoKSwgIm1hY2hpbmUiOiBwbGF0Zm9ybS5tYWNoaW5lKCl9LAogICAgICAgICJnaXRfcmV2IjogX21heWJlX2dpdF9yZXYoUGF0aC5jd2QoKSksCiAgICAgICAgIm91dGRpciI6IHN0cihvdXRkaXIpLAogICAgfQoKZGVmIF93cml0ZV9qc29uKHBhdGg6IFBhdGgsIG9iajogZGljdCkgLT4gTm9uZToKICAgIGRhdGEgPSBqc29uLmR1bXBzKG9iaiwgaW5kZW50PTIsIHNvcnRfa2V5cz1UcnVlKS5lbmNvZGUoInV0Zi04IikKICAgIHBhdGgud3JpdGVfYnl0ZXMoZGF0YSkKZGVmIGdlbmVyYXRlX3Byb3RvY29scygpIC0+IGRpY3Q6CiAgICAjIFByaW9yaXRpemVkIHByb3RvY29scyBmb3IgY29ycmVsYXRvcnMgKyBlbnRhbmdsZW1lbnQgZGlhZ25vc3RpY3MgYWNyb3NzIGFuYWxvZ3VlL2FzdHJvIHByb2Jlcy4KICAgIHJldHVybiB7CiAgICAgICAgInZlcnNpb24iOiAxLAogICAgICAgICJwYXJhbWV0ZXJzIjogewogICAgICAgICAgICAiZWxsIjogImRpc2NyZXRlbmVzcyBsZW5ndGggc2NhbGUgKGVmZmVjdGl2ZSkgY29udHJvbGxpbmcgZGlzcGVyc2l2ZSBjb3JyZWN0aW9ucyIsCiAgICAgICAgICAgICJyaG8iOiAic3ByaW5rbGluZyBkZW5zaXR5IC8gbWljcm9zdHJ1Y3R1cmUgZGVuc2l0eSBwcm94eSIsCiAgICAgICAgICAgICJhbHBoYSI6ICJkaW1lbnNpb25sZXNzIGRpc3BlcnNpb24gc3RyZW5ndGgiLAogICAgICAgIH0sCiAgICAgICAgInByb3RvY29scyI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInByaW9yaXR5IjogMSwKICAgICAgICAgICAgICAgICJuYW1lIjogIkVxdWFsLXRpbWUgdHdvLXBvaW50IGNvcnJlbGF0b3IgQyh4KSBpbiBhbmFsb2d1ZSBRRlQiLAogICAgICAgICAgICAgICAgInBsYXRmb3JtcyI6IFsiQkVDIHBob25vbnMiLCAib3B0aWNhbCB3YXZlZ3VpZGVzIiwgInN1cGVyY29uZHVjdGluZyBjaXJjdWl0cyJdLAogICAgICAgICAgICAgICAgIm9ic2VydmFibGUiOiAiQyh4KT08cGhpKDApcGhpKHgpPiBvciBkZW5zaXR5LWRlbnNpdHkgY29ycmVsYXRvciIsCiAgICAgICAgICAgICAgICAibWVhc3VyZW1lbnQiOiAiaG9tb2R5bmUvQnJhZ2cgaW1hZ2luZzsgZXh0cmFjdCBDKHgpIGFuZCBGb3VyaWVyIHNwZWN0cnVtIFMoaykiLAogICAgICAgICAgICAgICAgInNpZ25hdHVyZSI6ICJVViByb2xsLW9mZiBhbmQgb3NjaWxsYXRvcnkgcmVzaWR1YWxzIGNvbnNpc3RlbnQgd2l0aCBkaXNjcmV0ZSBzcGVjdHJ1bSAvIG1vZGlmaWVkIGRpc3BlcnNpb24iLAogICAgICAgICAgICAgICAgInN5c3RlbWF0aWNzIjogWyJmaW5pdGUtc2l6ZSIsICJ0cmFwIGluaG9tb2dlbmVpdHkiLCAiZGV0ZWN0b3IgcmVzb2x1dGlvbiIsICJ0aGVybWFsIGJhY2tncm91bmQiXSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgInByaW9yaXR5IjogMiwKICAgICAgICAgICAgICAgICJuYW1lIjogIlVuZXF1YWwtdGltZSBjb3JyZWxhdG9yIEModCkgYW5kIHJldGFyZGVkIEdyZWVuJ3MgZnVuY3Rpb24iLAogICAgICAgICAgICAgICAgInBsYXRmb3JtcyI6IFsib3B0b21lY2hhbmljYWwgYXJyYXlzIiwgImNvbGQtYXRvbSBzaW11bGF0b3JzIl0sCiAgICAgICAgICAgICAgICAib2JzZXJ2YWJsZSI6ICJDKHQpPTxwaGkoMClwaGkodCk+LCBHX1IodCkiLAogICAgICAgICAgICAgICAgIm1lYXN1cmVtZW50IjogInB1bXAtcHJvYmU7IHF1ZW5jaCB0aGVuIHJlYWQgb3V0IHRlbXBvcmFsIGNvcnJlbGF0aW9ucyIsCiAgICAgICAgICAgICAgICAic2lnbmF0dXJlIjogInBoYXNlIHNsaXAgLyBiZWF0aW5nIGZyb20gZGlzY3JldGUgbW9kZXM7IGRpc3BlcnNpdmUgZ3JvdXAtZGVsYXkgc2hpZnRzIiwKICAgICAgICAgICAgICAgICJzeXN0ZW1hdGljcyI6IFsiZGlzcGVyc2lvbiBjYWxpYnJhdGlvbiIsICJzYW1wbGluZyBqaXR0ZXIiLCAiYmF0aCBjb3VwbGluZyJdLAogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAicHJpb3JpdHkiOiAzLAogICAgICAgICAgICAgICAgIm5hbWUiOiAiRW50YW5nbGVtZW50IGRpYWdub3N0aWNzIHZpYSBtdXR1YWwgaW5mb3JtYXRpb24gLyBuZWdhdGl2aXR5IHByb3h5IiwKICAgICAgICAgICAgICAgICJwbGF0Zm9ybXMiOiBbImNvbnRpbnVvdXMtdmFyaWFibGUgcGhvdG9uaWNzIiwgImNRRUQiLCAiaW9uIGNoYWlucyJdLAogICAgICAgICAgICAgICAgIm9ic2VydmFibGUiOiAiSShBOkIpIGZyb20gY292YXJpYW5jZSBtYXRyaXg7IGxvZ2FyaXRobWljIG5lZ2F0aXZpdHkgaWYgYWNjZXNzaWJsZSIsCiAgICAgICAgICAgICAgICAibWVhc3VyZW1lbnQiOiAiR2F1c3NpYW4gdG9tb2dyYXBoeSAvIHF1YWRyYXR1cmUgcmVhZG91dDsgYnVpbGQgY292YXJpYW5jZSBibG9ja3MiLAogICAgICAgICAgICAgICAgInNpZ25hdHVyZSI6ICJzY2FsZS1kZXBlbmRlbnQgc3VwcHJlc3Npb24vZW5oYW5jZW1lbnQgYWNyb3NzIHBhcnRpdGlvbnMgdHJhY2tpbmcgZWxsLCByaG8iLAogICAgICAgICAgICAgICAgInN5c3RlbWF0aWNzIjogWyJsb3NzIiwgIm1vZGUgbWlzbWF0Y2giLCAiZmluaXRlIHNxdWVlemluZyIsICJjbGFzc2ljYWwgY29ycmVsYXRpb25zIl0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJwcmlvcml0eSI6IDQsCiAgICAgICAgICAgICAgICAibmFtZSI6ICJBc3Ryb3BoeXNpY2FsIHRpbWUtb2YtZmxpZ2h0IGRpc3BlcnNpb24gY29uc3RyYWludHMiLAogICAgICAgICAgICAgICAgInBsYXRmb3JtcyI6IFsiR1JCL0ZSQiB0aW1pbmciLCAiR1cgbXVsdGktbWVzc2VuZ2VyIl0sCiAgICAgICAgICAgICAgICAib2JzZXJ2YWJsZSI6ICJlbmVyZ3ktZGVwZW5kZW50IGFycml2YWwgZGVsYXlzIiwKICAgICAgICAgICAgICAgICJtZWFzdXJlbWVudCI6ICJjcm9zcy1iYW5kIHRpbWluZzsgaGllcmFyY2hpY2FsIHBvcHVsYXRpb24gbW9kZWwiLAogICAgICAgICAgICAgICAgInNpZ25hdHVyZSI6ICLOlHQg4oidIGFscGhhKmVsbF4yKkVeMipEICh0b3kpLCBib3VuZGVkIGJ5IG5vbi1kZXRlY3Rpb24iLAogICAgICAgICAgICAgICAgInN5c3RlbWF0aWNzIjogWyJpbnRyaW5zaWMgc291cmNlIGxhZ3MiLCAicGxhc21hIGRpc3BlcnNpb24iLCAic2VsZWN0aW9uIGJpYXNlcyJdLAogICAgICAgICAgICB9LAogICAgICAgIF0sCiAgICB9CmRlZiBzaW11bGF0ZShvdXRkaXI6IFBhdGgsIG46IGludCwgZHQ6IGZsb2F0LCB4aTogZmxvYXQsIG9tZWdhOiBmbG9hdCwgZWxsOiBmbG9hdCwgYWxwaGE6IGZsb2F0LAogICAgICAgICAgICAgcmhvOiBmbG9hdCwgTDogZmxvYXQsIG5vaXNlOiBmbG9hdCwgc2VlZDogaW50KSAtPiBkaWN0OgogICAgcmFuZG9tLnNlZWQoc2VlZCkKICAgICMgVG95IG1vZGVsOiBjb3JyZWxhdG9yIHdpdGggZGlzcGVyc2l2ZSBjb3JyZWN0aW9uIGFuZCBmaW5pdGUtc2l6ZSBtb2RlIGRpc2NyZXRpemF0aW9uLgogICAgazAgPSBtYXRoLnBpIC8gbWF4KEwsIDFlLTkpICAjIElSIG1vZGUgc3BhY2luZwogICAgb21lZ2FfZWZmID0gb21lZ2EgKiAoMS4wICsgYWxwaGEgKiAoZWxsICogazApICoqIDIpCiAgICB0aW1lcyA9IFtpICogZHQgZm9yIGkgaW4gcmFuZ2UobildCiAgICBDID0gW10KICAgIGZvciB0IGluIHRpbWVzOgogICAgICAgIGJhc2UgPSBtYXRoLmV4cCgtdCAvIG1heCh4aSwgMWUtOSkpICogbWF0aC5jb3Mob21lZ2FfZWZmICogdCkKICAgICAgICAjIE1pY3Jvc3RydWN0dXJlIGRlbnNpdHkgcHJveHk6IHNtYWxsLWFtcGxpdHVkZSByaXBwbGUgc2NhbGluZyB3aXRoIHJoby4KICAgICAgICByaXBwbGUgPSAwLjAyICogbWF0aC50YW5oKHJobykgKiBtYXRoLmNvcygzLjAgKiBvbWVnYV9lZmYgKiB0KQogICAgICAgIHkgPSBiYXNlICsgcmlwcGxlICsgcmFuZG9tLmdhdXNzKDAuMCwgbm9pc2UpCiAgICAgICAgQy5hcHBlbmQoeSkKICAgICMgR2F1c3NpYW4tc3RhdGUgcHJveHk6IG11dHVhbCBpbmZvcm1hdGlvbiBmcm9tIGFuIGVmZmVjdGl2ZSBjb3JyZWxhdGlvbiBjb2VmZmljaWVudCByKHQwKS4KICAgIHQwID0gdGltZXNbbWluKG4gLSAxLCBtYXgoMSwgbiAvLyAxMCkpXQogICAgciA9IG1heCgtMC45OTksIG1pbigwLjk5OSwgbWF0aC5leHAoLXQwIC8gbWF4KHhpLCAxZS05KSkgKiAoMS4wIC0gMC41ICogYWxwaGEgKiAoZWxsICogazApICoqIDIpKSkKICAgIG11dHVhbF9pbmZvID0gZmxvYXQoLTAuNSAqIG1hdGgubG9nKDEuMCAtIHIgKiByKSkKICAgIHJldHVybiB7CiAgICAgICAgIm1vZGVsIjogInRveV9kaXNjcmV0ZV9kaXNwZXJzaW9uX3YxIiwKICAgICAgICAiaW5wdXRzIjogeyJuIjogbiwgImR0IjogZHQsICJ4aSI6IHhpLCAib21lZ2EiOiBvbWVnYSwgImVsbCI6IGVsbCwgImFscGhhIjogYWxwaGEsICJyaG8iOiByaG8sICJMIjogTCwgIm5vaXNlIjogbm9pc2UsICJzZWVkIjogc2VlZH0sCiAgICAgICAgImRhdGEiOiB7InQiOiB0aW1lcywgIkMiOiBDLCAibXV0dWFsX2luZm8iOiBtdXR1YWxfaW5mb30sCiAgICAgICAgInN1bW1hcnkiOiB7IkMwIjogQ1swXSwgIkNfcm1zIjogZmxvYXQobWF0aC5zcXJ0KHN1bSh4KnggZm9yIHggaW4gQykvbGVuKEMpKSl9LAogICAgfQpkZWYgaW5mZXIoZGF0YV9wYXRoOiBQYXRoLCBvdXRkaXI6IFBhdGgsIGVsbF9taW46IGZsb2F0LCBlbGxfbWF4OiBmbG9hdCwgbTogaW50LCBhbHBoYTogZmxvYXQsIEw6IGZsb2F0KSAtPiBkaWN0OgogICAgb2JqID0ganNvbi5sb2FkcyhkYXRhX3BhdGgucmVhZF90ZXh0KGVuY29kaW5nPSJ1dGYtOCIpKQogICAgdCA9IG9ialsiZGF0YSJdWyJ0Il07IENvYnMgPSBvYmpbImRhdGEiXVsiQyJdCiAgICB4aSA9IGZsb2F0KG9ialsiaW5wdXRzIl1bInhpIl0pOyBvbWVnYSA9IGZsb2F0KG9ialsiaW5wdXRzIl1bIm9tZWdhIl0pOyBkdCA9IGZsb2F0KG9ialsiaW5wdXRzIl1bImR0Il0pCiAgICBub2lzZSA9IGZsb2F0KG9ialsiaW5wdXRzIl1bIm5vaXNlIl0pCiAgICBrMCA9IG1hdGgucGkgLyBtYXgoTCwgMWUtOSkKICAgIHNpZzIgPSBtYXgobm9pc2UgKiBub2lzZSwgMWUtMTIpCiAgICBncmlkID0gW10KICAgIGZvciBqIGluIHJhbmdlKG0pOgogICAgICAgIGVsbCA9IGVsbF9taW4gKyAoZWxsX21heCAtIGVsbF9taW4pICogKGogLyBtYXgoMSwgbSAtIDEpKQogICAgICAgIG9tZWdhX2VmZiA9IG9tZWdhICogKDEuMCArIGFscGhhICogKGVsbCAqIGswKSAqKiAyKQogICAgICAgIGNoaTIgPSAwLjAKICAgICAgICBmb3IgdGksIHlpIGluIHppcCh0LCBDb2JzKToKICAgICAgICAgICAgbXUgPSBtYXRoLmV4cCgtdGkgLyBtYXgoeGksIDFlLTkpKSAqIG1hdGguY29zKG9tZWdhX2VmZiAqIHRpKQogICAgICAgICAgICBjaGkyICs9ICh5aSAtIG11KSAqKiAyIC8gc2lnMgogICAgICAgIGxvZ0wgPSAtMC41ICogY2hpMgogICAgICAgIGdyaWQuYXBwZW5kKHsiZWxsIjogZWxsLCAibG9nTCI6IGZsb2F0KGxvZ0wpfSkKICAgICMgTm9ybWFsaXplIHRvIGEgZGlzY3JldGUgcG9zdGVyaW9yIHdpdGggZmxhdCBwcmlvciBvdmVyIGVsbC4KICAgIG14ID0gbWF4KGdbImxvZ0wiXSBmb3IgZyBpbiBncmlkKQogICAgdyA9IFttYXRoLmV4cChnWyJsb2dMIl0gLSBteCkgZm9yIGcgaW4gZ3JpZF0KICAgIFogPSBzdW0odykgb3IgMS4wCiAgICBmb3IgZ2ksIHdpIGluIHppcChncmlkLCB3KToKICAgICAgICBnaVsicG9zdGVyaW9yIl0gPSBmbG9hdCh3aSAvIFopCiAgICBlbGxfbWFwID0gbWF4KGdyaWQsIGtleT1sYW1iZGEgZzogZ1sicG9zdGVyaW9yIl0pWyJlbGwiXQogICAgbWVhbiA9IHN1bShnWyJlbGwiXSAqIGdbInBvc3RlcmlvciJdIGZvciBnIGluIGdyaWQpCiAgICBjZGYgPSBbXQogICAgcyA9IDAuMAogICAgZm9yIGcgaW4gc29ydGVkKGdyaWQsIGtleT1sYW1iZGEgejogelsiZWxsIl0pOgogICAgICAgIHMgKz0gZ1sicG9zdGVyaW9yIl07IGNkZi5hcHBlbmQoKGdbImVsbCJdLCBzKSkKICAgIGRlZiBxKHA6IGZsb2F0KSAtPiBmbG9hdDoKICAgICAgICBmb3IgZSwgY3AgaW4gY2RmOgogICAgICAgICAgICBpZiBjcCA+PSBwOiByZXR1cm4gZmxvYXQoZSkKICAgICAgICByZXR1cm4gZmxvYXQoY2RmWy0xXVswXSkKICAgIHJldHVybiB7ImRhdGFfcmVmIjogc3RyKGRhdGFfcGF0aCksICJhbHBoYSI6IGFscGhhLCAiTCI6IEwsICJlbGxfZ3JpZCI6IGdyaWQsCiAgICAgICAgICAgICJwb2ludF9lc3RpbWF0ZXMiOiB7ImVsbF9tYXAiOiBmbG9hdChlbGxfbWFwKSwgImVsbF9tZWFuIjogZmxvYXQobWVhbiksICJlbGxfcTE2IjogcSgwLjE2KSwgImVsbF9xODQiOiBxKDAuODQpfX0KZGVmIGJ1aWxkX3BhcnNlcigpIC0+IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyOgogICAgcCA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKHByb2c9ImRncGlwZSIsIGRlc2NyaXB0aW9uPSJEaXNjcmV0ZS1ncmF2aXR5IHBpcGVsaW5lIENMSTogcHJvdG9jb2xzLCBzaW11bGF0aW9uLCBpbmZlcmVuY2UuIikKICAgIHAuYWRkX2FyZ3VtZW50KCItLW91dGRpciIsIHR5cGU9UGF0aCwgZGVmYXVsdD1QYXRoKCJkZ3BpcGVfb3V0IiksIGhlbHA9Ik91dHB1dCBkaXJlY3RvcnkgKGNyZWF0ZWQgaWYgbWlzc2luZykuIikKICAgIHN1YiA9IHAuYWRkX3N1YnBhcnNlcnMoZGVzdD0iY21kIiwgcmVxdWlyZWQ9VHJ1ZSkKCiAgICBzcCA9IHN1Yi5hZGRfcGFyc2VyKCJwcm90b2NvbHMiLCBoZWxwPSJXcml0ZSBhIHByaW9yaXRpemVkIG1lYXN1cmVtZW50LXByb3RvY29sIHNwZWNpZmljYXRpb24gKEpTT04pLiIpCgogICAgc3MgPSBzdWIuYWRkX3BhcnNlcigic2ltdWxhdGUiLCBoZWxwPSJSdW4gYSBjb250cm9sbGVkIHRveSBzaW11bGF0aW9uIHdpdGggZmluaXRlLXNpemUgYW5kIGRpc3BlcnNpdmUgc3lzdGVtYXRpY3MuIikKICAgIHNzLmFkZF9hcmd1bWVudCgiLS1uIiwgdHlwZT1pbnQsIGRlZmF1bHQ9NTEyKTsgc3MuYWRkX2FyZ3VtZW50KCItLWR0IiwgdHlwZT1mbG9hdCwgZGVmYXVsdD0wLjAxKQogICAgc3MuYWRkX2FyZ3VtZW50KCItLXhpIiwgdHlwZT1mbG9hdCwgZGVmYXVsdD0xLjApOyBzcy5hZGRfYXJndW1lbnQoIi0tb21lZ2EiLCB0eXBlPWZsb2F0LCBkZWZhdWx0PTYuMCkKICAgIHNzLmFkZF9hcmd1bWVudCgiLS1lbGwiLCB0eXBlPWZsb2F0LCBkZWZhdWx0PTAuMSk7IHNzLmFkZF9hcmd1bWVudCgiLS1hbHBoYSIsIHR5cGU9ZmxvYXQsIGRlZmF1bHQ9MS4wKQogICAgc3MuYWRkX2FyZ3VtZW50KCItLXJobyIsIHR5cGU9ZmxvYXQsIGRlZmF1bHQ9MS4wKTsgc3MuYWRkX2FyZ3VtZW50KCItLUwiLCB0eXBlPWZsb2F0LCBkZWZhdWx0PTEwLjApCiAgICBzcy5hZGRfYXJndW1lbnQoIi0tbm9pc2UiLCB0eXBlPWZsb2F0LCBkZWZhdWx0PTAuMDIpOyBzcy5hZGRfYXJndW1lbnQoIi0tc2VlZCIsIHR5cGU9aW50LCBkZWZhdWx0PTApCgogICAgc2kgPSBzdWIuYWRkX3BhcnNlcigiaW5mZXIiLCBoZWxwPSJJbmZlciBkaXNjcmV0ZW5lc3Mgc2NhbGUgZWxsIGZyb20gYSBzYXZlZCBzaW11bGF0aW9uL21lYXN1cmVtZW50IEpTT04uIikKICAgIHNpLmFkZF9hcmd1bWVudCgiZGF0YSIsIHR5cGU9UGF0aCwgaGVscD0iUGF0aCB0byBKU09OIHByb2R1Y2VkIGJ5IHNpbXVsYXRlIChvciBjb21wYXRpYmxlIG1lYXN1cmVtZW50IGZpbGUpLiIpCiAgICBzaS5hZGRfYXJndW1lbnQoIi0tZWxsLW1pbiIsIHR5cGU9ZmxvYXQsIGRlZmF1bHQ9MC4wKTsgc2kuYWRkX2FyZ3VtZW50KCItLWVsbC1tYXgiLCB0eXBlPWZsb2F0LCBkZWZhdWx0PTAuNSkKICAgIHNpLmFkZF9hcmd1bWVudCgiLS1tIiwgdHlwZT1pbnQsIGRlZmF1bHQ9MTAxKTsgc2kuYWRkX2FyZ3VtZW50KCItLWFscGhhIiwgdHlwZT1mbG9hdCwgZGVmYXVsdD0xLjApCiAgICBzaS5hZGRfYXJndW1lbnQoIi0tTCIsIHR5cGU9ZmxvYXQsIGRlZmF1bHQ9MTAuMCkKICAgIHJldHVybiBwCgpkZWYgbWFpbihhcmd2OiBsaXN0W3N0cl0gfCBOb25lID0gTm9uZSkgLT4gaW50OgogICAgYXJndiA9IGxpc3Qoc3lzLmFyZ3ZbMTpdIGlmIGFyZ3YgaXMgTm9uZSBlbHNlIGFyZ3YpCiAgICBhcmdzID0gYnVpbGRfcGFyc2VyKCkucGFyc2VfYXJncyhhcmd2KQogICAgb3V0ZGlyOiBQYXRoID0gYXJncy5vdXRkaXIKICAgIG91dGRpci5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpCiAgICBwcm92ID0gX3Byb3ZlbmFuY2UoWyJkZ3BpcGUiXSArIGFyZ3YsIG91dGRpcikKCiAgICBpZiBhcmdzLmNtZCA9PSAicHJvdG9jb2xzIjoKICAgICAgICBwYXlsb2FkID0geyJwcm92ZW5hbmNlIjogcHJvdiwgInByb3RvY29sX3NwZWMiOiBnZW5lcmF0ZV9wcm90b2NvbHMoKX0KICAgICAgICBwYXRoID0gb3V0ZGlyIC8gInByb3RvY29scy5qc29uIgogICAgICAgIF93cml0ZV9qc29uKHBhdGgsIHBheWxvYWQpCiAgICAgICAgcHJpbnQoc3RyKHBhdGgpKQogICAgICAgIHJldHVybiAwCgogICAgaWYgYXJncy5jbWQgPT0gInNpbXVsYXRlIjoKICAgICAgICBzaW0gPSBzaW11bGF0ZShvdXRkaXIsIGFyZ3MubiwgYXJncy5kdCwgYXJncy54aSwgYXJncy5vbWVnYSwgYXJncy5lbGwsIGFyZ3MuYWxwaGEsIGFyZ3MucmhvLCBhcmdzLkwsIGFyZ3Mubm9pc2UsIGFyZ3Muc2VlZCkKICAgICAgICBwYXlsb2FkID0geyJwcm92ZW5hbmNlIjogcHJvdiwgKipzaW19CiAgICAgICAgcGF0aCA9IG91dGRpciAvICJzaW11bGF0aW9uLmpzb24iCiAgICAgICAgX3dyaXRlX2pzb24ocGF0aCwgcGF5bG9hZCkKICAgICAgICAob3V0ZGlyIC8gInNpbXVsYXRpb24uc2hhMjU2Iikud3JpdGVfdGV4dChfc2hhMjU2X2J5dGVzKHBhdGgucmVhZF9ieXRlcygpKSArICJcbiIsIGVuY29kaW5nPSJ1dGYtOCIpCiAgICAgICAgcHJpbnQoc3RyKHBhdGgpKQogICAgICAgIHJldHVybiAwCgogICAgaWYgYXJncy5jbWQgPT0gImluZmVyIjoKICAgICAgICBpbmYgPSBpbmZlcihhcmdzLmRhdGEsIG91dGRpciwgYXJncy5lbGxfbWluLCBhcmdzLmVsbF9tYXgsIGFyZ3MubSwgYXJncy5hbHBoYSwgYXJncy5MKQogICAgICAgIHBheWxvYWQgPSB7InByb3ZlbmFuY2UiOiBwcm92LCAqKmluZn0KICAgICAgICBwYXRoID0gb3V0ZGlyIC8gImluZmVyZW5jZS5qc29uIgogICAgICAgIF93cml0ZV9qc29uKHBhdGgsIHBheWxvYWQpCiAgICAgICAgKG91dGRpciAvICJpbmZlcmVuY2Uuc2hhMjU2Iikud3JpdGVfdGV4dChfc2hhMjU2X2J5dGVzKHBhdGgucmVhZF9ieXRlcygpKSArICJcbiIsIGVuY29kaW5nPSJ1dGYtOCIpCiAgICAgICAgcHJpbnQoc3RyKHBhdGgpKQogICAgICAgIHJldHVybiAwCgogICAgcmFpc2UgU3lzdGVtRXhpdCgiVW5rbm93biBjb21tYW5kIikKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICByYWlzZSBTeXN0ZW1FeGl0KG1haW4oKSkK\"}\nDIR_STATE:[\"src/dgpipe/__init__.py\",\"src/dgpipe/cli.py\",\"src/dgpipe/inference.py\",\"src/dgpipe/io.py\",\"src/dgpipe/models.py\",\"src/dgpipe/protocols.py\",\"src/dgpipe/simulations.py\"]"
        }
      ],
      "role": "assistant"
    }
  ],
  "codeResults": []
}