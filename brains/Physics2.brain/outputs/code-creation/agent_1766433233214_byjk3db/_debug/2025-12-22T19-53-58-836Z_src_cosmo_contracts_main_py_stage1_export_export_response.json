{
  "content": "FILE_EXPORT:{\"path\":\"src/cosmo_contracts/__main__.py\",\"size\":4295,\"encoding\":\"base64\",\"sha256\":\"4abdc768e5cb3fdaaa06efda16f3c6cab14c44701583fa93769bdfcedc3dcab3\",\"content\":\"IiIiY29zbW9fY29udHJhY3RzIHBhY2thZ2UgZW50cnkgcG9pbnQuCgpFbmFibGVzOiBweXRob24gLW0gY29zbW9fY29udHJhY3RzIDxjb21tYW5kPiAuLi4KCkNvbW1hbmRzIGZvY3VzIG9uOgotIGluamVjdGluZy91cGRhdGluZyBzdGFuZGFyZGl6ZWQgQ29udHJhY3Qgc2VjdGlvbnMgaW50byB2MC4xIGJlbmNobWFya3MgbWFya2Rvd24KLSB2YWxpZGF0aW5nIGNvbnRyYWN0cyBhbmQgcmVwb3J0aW5nIGltcGxlbWVudGF0aW9uIGNvbXBsaWFuY2UKIiIiCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmltcG9ydCBhcmdwYXJzZQppbXBvcnQganNvbgppbXBvcnQgc3lzCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0LCBPcHRpb25hbApkZWYgX2pzb25fZHVtcChvYmo6IEFueSkgLT4gTm9uZToKICAgIGpzb24uZHVtcChvYmosIHN5cy5zdGRvdXQsIGluZGVudD0yLCBzb3J0X2tleXM9VHJ1ZSkKICAgIHN5cy5zdGRvdXQud3JpdGUoIlxuIikKZGVmIF9pbXBvcnQobmFtZTogc3RyKToKICAgIHRyeToKICAgICAgICBtb2R1bGUgPSBfX2ltcG9ydF9fKG5hbWUsIGZyb21saXN0PVsiKiJdKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOiAgIyBwcmFnbWE6IG5vIGNvdmVyCiAgICAgICAgcmFpc2UgU3lzdGVtRXhpdCgKICAgICAgICAgICAgZiJGYWlsZWQgdG8gaW1wb3J0IHtuYW1lIXJ9LiBUaGUgcGFja2FnZSBpbnN0YWxsYXRpb24gbWF5IGJlIGluY29tcGxldGUuXG57ZX0iCiAgICAgICAgKQogICAgcmV0dXJuIG1vZHVsZQpkZWYgY21kX2luamVjdChhcmdzOiBhcmdwYXJzZS5OYW1lc3BhY2UpIC0+IGludDoKICAgIG1kID0gX2ltcG9ydCgiY29zbW9fY29udHJhY3RzLm1hcmtkb3duIikKICAgIGluX3BhdGggPSBQYXRoKGFyZ3MuYmVuY2htYXJrcykuZXhwYW5kdXNlcigpCiAgICBvdXRfcGF0aCA9IFBhdGgoYXJncy5vdXQpLmV4cGFuZHVzZXIoKSBpZiBhcmdzLm91dCBlbHNlIE5vbmUKICAgIHJlcyA9IG1kLmluamVjdF9jb250cmFjdF9zZWN0aW9ucygKICAgICAgICBpbl9wYXRoPWluX3BhdGgsCiAgICAgICAgb3V0X3BhdGg9b3V0X3BhdGgsCiAgICAgICAgc3RyaWN0PWFyZ3Muc3RyaWN0LAogICAgKQogICAgaWYgYXJncy5mb3JtYXQgPT0gImpzb24iOgogICAgICAgIF9qc29uX2R1bXAocmVzKQogICAgZWxzZToKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHJlcy5nZXQoInN1bW1hcnkiLCAib2siKSArICJcbiIpCiAgICByZXR1cm4gMApkZWYgY21kX3ZhbGlkYXRlKGFyZ3M6IGFyZ3BhcnNlLk5hbWVzcGFjZSkgLT4gaW50OgogICAgc2NoZW1hID0gX2ltcG9ydCgiY29zbW9fY29udHJhY3RzLnNjaGVtYSIpCiAgICBjb250cmFjdF9wYXRoID0gUGF0aChhcmdzLmNvbnRyYWN0KS5leHBhbmR1c2VyKCkKICAgIGRhdGEgPSBqc29uLmxvYWRzKGNvbnRyYWN0X3BhdGgucmVhZF90ZXh0KGVuY29kaW5nPSJ1dGYtOCIpKQogICAgb2ssIGRpYWcgPSBzY2hlbWEudmFsaWRhdGVfY29udHJhY3QoZGF0YSkKICAgIG91dCA9IHsib2siOiBib29sKG9rKSwgImRpYWdub3N0aWNzIjogZGlhZ30KICAgIGlmIGFyZ3MuZm9ybWF0ID09ICJqc29uIjoKICAgICAgICBfanNvbl9kdW1wKG91dCkKICAgIGVsc2U6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgoIlBBU1MiIGlmIG9rIGVsc2UgIkZBSUwiKSArICJcbiIpCiAgICAgICAgaWYgZGlhZzoKICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdHIoZGlhZykgKyAiXG4iKQogICAgcmV0dXJuIDAgaWYgb2sgZWxzZSAyCmRlZiBjbWRfY29tcGxpYW5jZShhcmdzOiBhcmdwYXJzZS5OYW1lc3BhY2UpIC0+IGludDoKICAgIGFwaSA9IF9pbXBvcnQoImNvc21vX2NvbnRyYWN0cyIpCiAgICBpZiBub3QgaGFzYXR0cihhcGksICJjaGVja19jb21wbGlhbmNlIik6CiAgICAgICAgcmFpc2UgU3lzdGVtRXhpdCgKICAgICAgICAgICAgImNvc21vX2NvbnRyYWN0cy5jaGVja19jb21wbGlhbmNlIGlzIG5vdCBhdmFpbGFibGU7IHVwZGF0ZSB0aGUgcGFja2FnZS4iCiAgICAgICAgKQogICAgaW1wbF9wYXRoID0gUGF0aChhcmdzLmltcGxlbWVudGF0aW9uKS5leHBhbmR1c2VyKCkgaWYgYXJncy5pbXBsZW1lbnRhdGlvbiBlbHNlIE5vbmUKICAgIGNvbnRyYWN0X3BhdGggPSBQYXRoKGFyZ3MuY29udHJhY3QpLmV4cGFuZHVzZXIoKSBpZiBhcmdzLmNvbnRyYWN0IGVsc2UgTm9uZQogICAgcmVwb3J0ID0gYXBpLmNoZWNrX2NvbXBsaWFuY2UoCiAgICAgICAgY29udHJhY3RfcGF0aD1jb250cmFjdF9wYXRoLAogICAgICAgIGltcGxlbWVudGF0aW9uX3BhdGg9aW1wbF9wYXRoLAogICAgICAgIGltcGxlbWVudGF0aW9uX2lkPWFyZ3MuaW1wbGVtZW50YXRpb25faWQsCiAgICAgICAgcnVuPWFyZ3MucnVuLAogICAgICAgIHRpbWVvdXRfcz1hcmdzLnRpbWVvdXRfcywKICAgICkKICAgIGlmIGFyZ3MuZm9ybWF0ID09ICJqc29uIjoKICAgICAgICBfanNvbl9kdW1wKHJlcG9ydCkKICAgIGVsc2U6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShyZXBvcnQuZ2V0KCJzdW1tYXJ5IiwgIm9rIikgKyAiXG4iKQogICAgcmV0dXJuIDAgaWYgcmVwb3J0LmdldCgicGFzcyIsIEZhbHNlKSBlbHNlIDIKZGVmIGJ1aWxkX3BhcnNlcigpIC0+IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyOgogICAgcCA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKHByb2c9ImNvc21vX2NvbnRyYWN0cyIsIGFkZF9oZWxwPVRydWUpCiAgICBwLmFkZF9hcmd1bWVudCgiLS1mb3JtYXQiLCBjaG9pY2VzPVsianNvbiIsICJ0ZXh0Il0sIGRlZmF1bHQ9Impzb24iKQogICAgc3ViID0gcC5hZGRfc3VicGFyc2VycyhkZXN0PSJjbWQiLCByZXF1aXJlZD1UcnVlKQoKICAgIGluaiA9IHN1Yi5hZGRfcGFyc2VyKCJpbmplY3QiLCBoZWxwPSJJbmplY3QvdXBkYXRlIENvbnRyYWN0IHNlY3Rpb25zIGluIGJlbmNobWFya3NfdjBfMS5tZCIpCiAgICBpbmouYWRkX2FyZ3VtZW50KCJiZW5jaG1hcmtzIiwgaGVscD0iUGF0aCB0byBiZW5jaG1hcmtzX3YwXzEubWQiKQogICAgaW5qLmFkZF9hcmd1bWVudCgiLS1vdXQiLCBoZWxwPSJPcHRpb25hbCBvdXRwdXQgcGF0aDsgZGVmYXVsdCBlZGl0cyBpbi1wbGFjZSIpCiAgICBpbmouYWRkX2FyZ3VtZW50KCItLXN0cmljdCIsIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsIGhlbHA9IkZhaWwgaWYgcGFyc2luZyBpcyBhbWJpZ3VvdXMiKQogICAgaW5qLnNldF9kZWZhdWx0cyhmdW5jPWNtZF9pbmplY3QpCgogICAgdmFsID0gc3ViLmFkZF9wYXJzZXIoInZhbGlkYXRlIiwgaGVscD0iVmFsaWRhdGUgYSBjb250cmFjdCBKU09OIGZpbGUgYWdhaW5zdCB0aGUgc2NoZW1hIikKICAgIHZhbC5hZGRfYXJndW1lbnQoImNvbnRyYWN0IiwgaGVscD0iUGF0aCB0byBhIGNvbnRyYWN0IEpTT04gZmlsZSIpCiAgICB2YWwuc2V0X2RlZmF1bHRzKGZ1bmM9Y21kX3ZhbGlkYXRlKQoKICAgIGNvbXAgPSBzdWIuYWRkX3BhcnNlcigiY29tcGxpYW5jZSIsIGhlbHA9IkNoZWNrIGltcGxlbWVudGF0aW9uIGNvbXBsaWFuY2Ugd2l0aCBhIGNvbnRyYWN0IikKICAgIGNvbXAuYWRkX2FyZ3VtZW50KCItLWNvbnRyYWN0IiwgcmVxdWlyZWQ9VHJ1ZSwgaGVscD0iQ29udHJhY3QgSlNPTiBmaWxlIikKICAgIGNvbXAuYWRkX2FyZ3VtZW50KCItLWltcGxlbWVudGF0aW9uIiwgaGVscD0iSW1wbGVtZW50YXRpb24gZmlsZSBvciBtb2R1bGUgcGF0aCIpCiAgICBjb21wLmFkZF9hcmd1bWVudCgiLS1pbXBsZW1lbnRhdGlvbi1pZCIsIGhlbHA9IkltcGxlbWVudGF0aW9uIGlkZW50aWZpZXIgdG8gcmVwb3J0IikKICAgIGNvbXAuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXJ1biIsCiAgICAgICAgYWN0aW9uPSJzdG9yZV90cnVlIiwKICAgICAgICBoZWxwPSJBY3R1YWxseSBleGVjdXRlIGltcGxlbWVudGF0aW9uIChvdGhlcndpc2UganVzdCBzdHJ1Y3R1cmFsIGNoZWNrcyBpZiBzdXBwb3J0ZWQpIiwKICAgICkKICAgIGNvbXAuYWRkX2FyZ3VtZW50KCItLXRpbWVvdXQtcyIsIHR5cGU9ZmxvYXQsIGRlZmF1bHQ9MzAuMCkKICAgIGNvbXAuc2V0X2RlZmF1bHRzKGZ1bmM9Y21kX2NvbXBsaWFuY2UpCgogICAgcmV0dXJuIHAKZGVmIG1haW4oYXJndjogT3B0aW9uYWxbbGlzdFtzdHJdXSA9IE5vbmUpIC0+IGludDoKICAgIHBhcnNlciA9IGJ1aWxkX3BhcnNlcigpCiAgICBucyA9IHBhcnNlci5wYXJzZV9hcmdzKGFyZ3YpCiAgICByZXR1cm4gaW50KG5zLmZ1bmMobnMpKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6ICAjIHByYWdtYTogbm8gY292ZXIKICAgIHJhaXNlIFN5c3RlbUV4aXQobWFpbigpKQo=\"}\nDIR_STATE:[\"src/cosmo_contracts/__init__.py\",\"src/cosmo_contracts/__main__.py\",\"src/cosmo_contracts/cli.py\",\"src/cosmo_contracts/contracts.py\",\"src/cosmo_contracts/markdown.py\",\"src/cosmo_contracts/runner.py\",\"src/cosmo_contracts/schema.py\"]",
  "reasoning": "",
  "responseId": "resp_00ddeef531bf7d34006949a5423b848196a6f55c099baa3349",
  "model": "gpt-5.2-2025-12-11",
  "usage": {
    "input_tokens": 5074,
    "input_tokens_details": {
      "cached_tokens": 0
    },
    "output_tokens": 4027,
    "output_tokens_details": {
      "reasoning_tokens": 35
    },
    "total_tokens": 9101
  },
  "hadError": false,
  "errorType": null,
  "webSearchSources": [],
  "citations": [],
  "output": [
    {
      "id": "rs_00ddeef531bf7d34006949a542dd2c8196a146a2557c886b7a",
      "type": "reasoning",
      "summary": []
    },
    {
      "id": "ci_00ddeef531bf7d34006949a5439be08196baac9f0bb675b4e0",
      "type": "code_interpreter_call",
      "status": "completed",
      "code": "from pathlib import Path\nimport base64, json, hashlib, gzip\n\ntarget_path = Path('/mnt/data').joinpath('src/cosmo_contracts/__main__.py')\nassert target_path.is_file(), 'Expected src/cosmo_contracts/__main__.py to exist before export'\ndata = target_path.read_bytes()\npayload = {\n  'path': 'src/cosmo_contracts/__main__.py',\n  'size': len(data),\n  'encoding': 'base64',\n  'sha256': hashlib.sha256(data).hexdigest(),\n  'content': None\n}\nif len(data) > 20000:\n    compressed = gzip.compress(data)\n    payload['encoding'] = 'gzip+base64'\n    payload['content'] = base64.b64encode(compressed).decode('ascii')\nelse:\n    payload['content'] = base64.b64encode(data).decode('ascii')\n\nprint('FILE_EXPORT:' + json.dumps(payload, separators=(',', ':')))\nprint('DIR_STATE:' + json.dumps(sorted(str(p.relative_to(Path(\"/mnt/data\"))) for p in target_path.parent.glob('*') if p.is_file())))",
      "container_id": "cntr_6949a1d5445881908092d2723527a8b207f782e9910e8fd5",
      "outputs": [
        {
          "type": "logs",
          "logs": "FILE_EXPORT:{\"path\":\"src/cosmo_contracts/__main__.py\",\"size\":4295,\"encoding\":\"base64\",\"sha256\":\"4abdc768e5cb3fdaaa06efda16f3c6cab14c44701583fa93769bdfcedc3dcab3\",\"content\":\"IiIiY29zbW9fY29udHJhY3RzIHBhY2thZ2UgZW50cnkgcG9pbnQuCgpFbmFibGVzOiBweXRob24gLW0gY29zbW9fY29udHJhY3RzIDxjb21tYW5kPiAuLi4KCkNvbW1hbmRzIGZvY3VzIG9uOgotIGluamVjdGluZy91cGRhdGluZyBzdGFuZGFyZGl6ZWQgQ29udHJhY3Qgc2VjdGlvbnMgaW50byB2MC4xIGJlbmNobWFya3MgbWFya2Rvd24KLSB2YWxpZGF0aW5nIGNvbnRyYWN0cyBhbmQgcmVwb3J0aW5nIGltcGxlbWVudGF0aW9uIGNvbXBsaWFuY2UKIiIiCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmltcG9ydCBhcmdwYXJzZQppbXBvcnQganNvbgppbXBvcnQgc3lzCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0LCBPcHRpb25hbApkZWYgX2pzb25fZHVtcChvYmo6IEFueSkgLT4gTm9uZToKICAgIGpzb24uZHVtcChvYmosIHN5cy5zdGRvdXQsIGluZGVudD0yLCBzb3J0X2tleXM9VHJ1ZSkKICAgIHN5cy5zdGRvdXQud3JpdGUoIlxuIikKZGVmIF9pbXBvcnQobmFtZTogc3RyKToKICAgIHRyeToKICAgICAgICBtb2R1bGUgPSBfX2ltcG9ydF9fKG5hbWUsIGZyb21saXN0PVsiKiJdKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOiAgIyBwcmFnbWE6IG5vIGNvdmVyCiAgICAgICAgcmFpc2UgU3lzdGVtRXhpdCgKICAgICAgICAgICAgZiJGYWlsZWQgdG8gaW1wb3J0IHtuYW1lIXJ9LiBUaGUgcGFja2FnZSBpbnN0YWxsYXRpb24gbWF5IGJlIGluY29tcGxldGUuXG57ZX0iCiAgICAgICAgKQogICAgcmV0dXJuIG1vZHVsZQpkZWYgY21kX2luamVjdChhcmdzOiBhcmdwYXJzZS5OYW1lc3BhY2UpIC0+IGludDoKICAgIG1kID0gX2ltcG9ydCgiY29zbW9fY29udHJhY3RzLm1hcmtkb3duIikKICAgIGluX3BhdGggPSBQYXRoKGFyZ3MuYmVuY2htYXJrcykuZXhwYW5kdXNlcigpCiAgICBvdXRfcGF0aCA9IFBhdGgoYXJncy5vdXQpLmV4cGFuZHVzZXIoKSBpZiBhcmdzLm91dCBlbHNlIE5vbmUKICAgIHJlcyA9IG1kLmluamVjdF9jb250cmFjdF9zZWN0aW9ucygKICAgICAgICBpbl9wYXRoPWluX3BhdGgsCiAgICAgICAgb3V0X3BhdGg9b3V0X3BhdGgsCiAgICAgICAgc3RyaWN0PWFyZ3Muc3RyaWN0LAogICAgKQogICAgaWYgYXJncy5mb3JtYXQgPT0gImpzb24iOgogICAgICAgIF9qc29uX2R1bXAocmVzKQogICAgZWxzZToKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHJlcy5nZXQoInN1bW1hcnkiLCAib2siKSArICJcbiIpCiAgICByZXR1cm4gMApkZWYgY21kX3ZhbGlkYXRlKGFyZ3M6IGFyZ3BhcnNlLk5hbWVzcGFjZSkgLT4gaW50OgogICAgc2NoZW1hID0gX2ltcG9ydCgiY29zbW9fY29udHJhY3RzLnNjaGVtYSIpCiAgICBjb250cmFjdF9wYXRoID0gUGF0aChhcmdzLmNvbnRyYWN0KS5leHBhbmR1c2VyKCkKICAgIGRhdGEgPSBqc29uLmxvYWRzKGNvbnRyYWN0X3BhdGgucmVhZF90ZXh0KGVuY29kaW5nPSJ1dGYtOCIpKQogICAgb2ssIGRpYWcgPSBzY2hlbWEudmFsaWRhdGVfY29udHJhY3QoZGF0YSkKICAgIG91dCA9IHsib2siOiBib29sKG9rKSwgImRpYWdub3N0aWNzIjogZGlhZ30KICAgIGlmIGFyZ3MuZm9ybWF0ID09ICJqc29uIjoKICAgICAgICBfanNvbl9kdW1wKG91dCkKICAgIGVsc2U6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgoIlBBU1MiIGlmIG9rIGVsc2UgIkZBSUwiKSArICJcbiIpCiAgICAgICAgaWYgZGlhZzoKICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdHIoZGlhZykgKyAiXG4iKQogICAgcmV0dXJuIDAgaWYgb2sgZWxzZSAyCmRlZiBjbWRfY29tcGxpYW5jZShhcmdzOiBhcmdwYXJzZS5OYW1lc3BhY2UpIC0+IGludDoKICAgIGFwaSA9IF9pbXBvcnQoImNvc21vX2NvbnRyYWN0cyIpCiAgICBpZiBub3QgaGFzYXR0cihhcGksICJjaGVja19jb21wbGlhbmNlIik6CiAgICAgICAgcmFpc2UgU3lzdGVtRXhpdCgKICAgICAgICAgICAgImNvc21vX2NvbnRyYWN0cy5jaGVja19jb21wbGlhbmNlIGlzIG5vdCBhdmFpbGFibGU7IHVwZGF0ZSB0aGUgcGFja2FnZS4iCiAgICAgICAgKQogICAgaW1wbF9wYXRoID0gUGF0aChhcmdzLmltcGxlbWVudGF0aW9uKS5leHBhbmR1c2VyKCkgaWYgYXJncy5pbXBsZW1lbnRhdGlvbiBlbHNlIE5vbmUKICAgIGNvbnRyYWN0X3BhdGggPSBQYXRoKGFyZ3MuY29udHJhY3QpLmV4cGFuZHVzZXIoKSBpZiBhcmdzLmNvbnRyYWN0IGVsc2UgTm9uZQogICAgcmVwb3J0ID0gYXBpLmNoZWNrX2NvbXBsaWFuY2UoCiAgICAgICAgY29udHJhY3RfcGF0aD1jb250cmFjdF9wYXRoLAogICAgICAgIGltcGxlbWVudGF0aW9uX3BhdGg9aW1wbF9wYXRoLAogICAgICAgIGltcGxlbWVudGF0aW9uX2lkPWFyZ3MuaW1wbGVtZW50YXRpb25faWQsCiAgICAgICAgcnVuPWFyZ3MucnVuLAogICAgICAgIHRpbWVvdXRfcz1hcmdzLnRpbWVvdXRfcywKICAgICkKICAgIGlmIGFyZ3MuZm9ybWF0ID09ICJqc29uIjoKICAgICAgICBfanNvbl9kdW1wKHJlcG9ydCkKICAgIGVsc2U6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShyZXBvcnQuZ2V0KCJzdW1tYXJ5IiwgIm9rIikgKyAiXG4iKQogICAgcmV0dXJuIDAgaWYgcmVwb3J0LmdldCgicGFzcyIsIEZhbHNlKSBlbHNlIDIKZGVmIGJ1aWxkX3BhcnNlcigpIC0+IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyOgogICAgcCA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKHByb2c9ImNvc21vX2NvbnRyYWN0cyIsIGFkZF9oZWxwPVRydWUpCiAgICBwLmFkZF9hcmd1bWVudCgiLS1mb3JtYXQiLCBjaG9pY2VzPVsianNvbiIsICJ0ZXh0Il0sIGRlZmF1bHQ9Impzb24iKQogICAgc3ViID0gcC5hZGRfc3VicGFyc2VycyhkZXN0PSJjbWQiLCByZXF1aXJlZD1UcnVlKQoKICAgIGluaiA9IHN1Yi5hZGRfcGFyc2VyKCJpbmplY3QiLCBoZWxwPSJJbmplY3QvdXBkYXRlIENvbnRyYWN0IHNlY3Rpb25zIGluIGJlbmNobWFya3NfdjBfMS5tZCIpCiAgICBpbmouYWRkX2FyZ3VtZW50KCJiZW5jaG1hcmtzIiwgaGVscD0iUGF0aCB0byBiZW5jaG1hcmtzX3YwXzEubWQiKQogICAgaW5qLmFkZF9hcmd1bWVudCgiLS1vdXQiLCBoZWxwPSJPcHRpb25hbCBvdXRwdXQgcGF0aDsgZGVmYXVsdCBlZGl0cyBpbi1wbGFjZSIpCiAgICBpbmouYWRkX2FyZ3VtZW50KCItLXN0cmljdCIsIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsIGhlbHA9IkZhaWwgaWYgcGFyc2luZyBpcyBhbWJpZ3VvdXMiKQogICAgaW5qLnNldF9kZWZhdWx0cyhmdW5jPWNtZF9pbmplY3QpCgogICAgdmFsID0gc3ViLmFkZF9wYXJzZXIoInZhbGlkYXRlIiwgaGVscD0iVmFsaWRhdGUgYSBjb250cmFjdCBKU09OIGZpbGUgYWdhaW5zdCB0aGUgc2NoZW1hIikKICAgIHZhbC5hZGRfYXJndW1lbnQoImNvbnRyYWN0IiwgaGVscD0iUGF0aCB0byBhIGNvbnRyYWN0IEpTT04gZmlsZSIpCiAgICB2YWwuc2V0X2RlZmF1bHRzKGZ1bmM9Y21kX3ZhbGlkYXRlKQoKICAgIGNvbXAgPSBzdWIuYWRkX3BhcnNlcigiY29tcGxpYW5jZSIsIGhlbHA9IkNoZWNrIGltcGxlbWVudGF0aW9uIGNvbXBsaWFuY2Ugd2l0aCBhIGNvbnRyYWN0IikKICAgIGNvbXAuYWRkX2FyZ3VtZW50KCItLWNvbnRyYWN0IiwgcmVxdWlyZWQ9VHJ1ZSwgaGVscD0iQ29udHJhY3QgSlNPTiBmaWxlIikKICAgIGNvbXAuYWRkX2FyZ3VtZW50KCItLWltcGxlbWVudGF0aW9uIiwgaGVscD0iSW1wbGVtZW50YXRpb24gZmlsZSBvciBtb2R1bGUgcGF0aCIpCiAgICBjb21wLmFkZF9hcmd1bWVudCgiLS1pbXBsZW1lbnRhdGlvbi1pZCIsIGhlbHA9IkltcGxlbWVudGF0aW9uIGlkZW50aWZpZXIgdG8gcmVwb3J0IikKICAgIGNvbXAuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXJ1biIsCiAgICAgICAgYWN0aW9uPSJzdG9yZV90cnVlIiwKICAgICAgICBoZWxwPSJBY3R1YWxseSBleGVjdXRlIGltcGxlbWVudGF0aW9uIChvdGhlcndpc2UganVzdCBzdHJ1Y3R1cmFsIGNoZWNrcyBpZiBzdXBwb3J0ZWQpIiwKICAgICkKICAgIGNvbXAuYWRkX2FyZ3VtZW50KCItLXRpbWVvdXQtcyIsIHR5cGU9ZmxvYXQsIGRlZmF1bHQ9MzAuMCkKICAgIGNvbXAuc2V0X2RlZmF1bHRzKGZ1bmM9Y21kX2NvbXBsaWFuY2UpCgogICAgcmV0dXJuIHAKZGVmIG1haW4oYXJndjogT3B0aW9uYWxbbGlzdFtzdHJdXSA9IE5vbmUpIC0+IGludDoKICAgIHBhcnNlciA9IGJ1aWxkX3BhcnNlcigpCiAgICBucyA9IHBhcnNlci5wYXJzZV9hcmdzKGFyZ3YpCiAgICByZXR1cm4gaW50KG5zLmZ1bmMobnMpKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6ICAjIHByYWdtYTogbm8gY292ZXIKICAgIHJhaXNlIFN5c3RlbUV4aXQobWFpbigpKQo=\"}\nDIR_STATE:[\"src/cosmo_contracts/__init__.py\", \"src/cosmo_contracts/__main__.py\", \"src/cosmo_contracts/cli.py\", \"src/cosmo_contracts/contracts.py\", \"src/cosmo_contracts/markdown.py\", \"src/cosmo_contracts/runner.py\", \"src/cosmo_contracts/schema.py\"]\n"
        }
      ]
    },
    {
      "id": "msg_00ddeef531bf7d34006949a5472a7c819683904c2a5bf85cf4",
      "type": "message",
      "status": "completed",
      "content": [
        {
          "type": "output_text",
          "annotations": [],
          "logprobs": [],
          "text": "FILE_EXPORT:{\"path\":\"src/cosmo_contracts/__main__.py\",\"size\":4295,\"encoding\":\"base64\",\"sha256\":\"4abdc768e5cb3fdaaa06efda16f3c6cab14c44701583fa93769bdfcedc3dcab3\",\"content\":\"IiIiY29zbW9fY29udHJhY3RzIHBhY2thZ2UgZW50cnkgcG9pbnQuCgpFbmFibGVzOiBweXRob24gLW0gY29zbW9fY29udHJhY3RzIDxjb21tYW5kPiAuLi4KCkNvbW1hbmRzIGZvY3VzIG9uOgotIGluamVjdGluZy91cGRhdGluZyBzdGFuZGFyZGl6ZWQgQ29udHJhY3Qgc2VjdGlvbnMgaW50byB2MC4xIGJlbmNobWFya3MgbWFya2Rvd24KLSB2YWxpZGF0aW5nIGNvbnRyYWN0cyBhbmQgcmVwb3J0aW5nIGltcGxlbWVudGF0aW9uIGNvbXBsaWFuY2UKIiIiCmZyb20gX19mdXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmltcG9ydCBhcmdwYXJzZQppbXBvcnQganNvbgppbXBvcnQgc3lzCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aApmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBEaWN0LCBPcHRpb25hbApkZWYgX2pzb25fZHVtcChvYmo6IEFueSkgLT4gTm9uZToKICAgIGpzb24uZHVtcChvYmosIHN5cy5zdGRvdXQsIGluZGVudD0yLCBzb3J0X2tleXM9VHJ1ZSkKICAgIHN5cy5zdGRvdXQud3JpdGUoIlxuIikKZGVmIF9pbXBvcnQobmFtZTogc3RyKToKICAgIHRyeToKICAgICAgICBtb2R1bGUgPSBfX2ltcG9ydF9fKG5hbWUsIGZyb21saXN0PVsiKiJdKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOiAgIyBwcmFnbWE6IG5vIGNvdmVyCiAgICAgICAgcmFpc2UgU3lzdGVtRXhpdCgKICAgICAgICAgICAgZiJGYWlsZWQgdG8gaW1wb3J0IHtuYW1lIXJ9LiBUaGUgcGFja2FnZSBpbnN0YWxsYXRpb24gbWF5IGJlIGluY29tcGxldGUuXG57ZX0iCiAgICAgICAgKQogICAgcmV0dXJuIG1vZHVsZQpkZWYgY21kX2luamVjdChhcmdzOiBhcmdwYXJzZS5OYW1lc3BhY2UpIC0+IGludDoKICAgIG1kID0gX2ltcG9ydCgiY29zbW9fY29udHJhY3RzLm1hcmtkb3duIikKICAgIGluX3BhdGggPSBQYXRoKGFyZ3MuYmVuY2htYXJrcykuZXhwYW5kdXNlcigpCiAgICBvdXRfcGF0aCA9IFBhdGgoYXJncy5vdXQpLmV4cGFuZHVzZXIoKSBpZiBhcmdzLm91dCBlbHNlIE5vbmUKICAgIHJlcyA9IG1kLmluamVjdF9jb250cmFjdF9zZWN0aW9ucygKICAgICAgICBpbl9wYXRoPWluX3BhdGgsCiAgICAgICAgb3V0X3BhdGg9b3V0X3BhdGgsCiAgICAgICAgc3RyaWN0PWFyZ3Muc3RyaWN0LAogICAgKQogICAgaWYgYXJncy5mb3JtYXQgPT0gImpzb24iOgogICAgICAgIF9qc29uX2R1bXAocmVzKQogICAgZWxzZToKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHJlcy5nZXQoInN1bW1hcnkiLCAib2siKSArICJcbiIpCiAgICByZXR1cm4gMApkZWYgY21kX3ZhbGlkYXRlKGFyZ3M6IGFyZ3BhcnNlLk5hbWVzcGFjZSkgLT4gaW50OgogICAgc2NoZW1hID0gX2ltcG9ydCgiY29zbW9fY29udHJhY3RzLnNjaGVtYSIpCiAgICBjb250cmFjdF9wYXRoID0gUGF0aChhcmdzLmNvbnRyYWN0KS5leHBhbmR1c2VyKCkKICAgIGRhdGEgPSBqc29uLmxvYWRzKGNvbnRyYWN0X3BhdGgucmVhZF90ZXh0KGVuY29kaW5nPSJ1dGYtOCIpKQogICAgb2ssIGRpYWcgPSBzY2hlbWEudmFsaWRhdGVfY29udHJhY3QoZGF0YSkKICAgIG91dCA9IHsib2siOiBib29sKG9rKSwgImRpYWdub3N0aWNzIjogZGlhZ30KICAgIGlmIGFyZ3MuZm9ybWF0ID09ICJqc29uIjoKICAgICAgICBfanNvbl9kdW1wKG91dCkKICAgIGVsc2U6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgoIlBBU1MiIGlmIG9rIGVsc2UgIkZBSUwiKSArICJcbiIpCiAgICAgICAgaWYgZGlhZzoKICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdHIoZGlhZykgKyAiXG4iKQogICAgcmV0dXJuIDAgaWYgb2sgZWxzZSAyCmRlZiBjbWRfY29tcGxpYW5jZShhcmdzOiBhcmdwYXJzZS5OYW1lc3BhY2UpIC0+IGludDoKICAgIGFwaSA9IF9pbXBvcnQoImNvc21vX2NvbnRyYWN0cyIpCiAgICBpZiBub3QgaGFzYXR0cihhcGksICJjaGVja19jb21wbGlhbmNlIik6CiAgICAgICAgcmFpc2UgU3lzdGVtRXhpdCgKICAgICAgICAgICAgImNvc21vX2NvbnRyYWN0cy5jaGVja19jb21wbGlhbmNlIGlzIG5vdCBhdmFpbGFibGU7IHVwZGF0ZSB0aGUgcGFja2FnZS4iCiAgICAgICAgKQogICAgaW1wbF9wYXRoID0gUGF0aChhcmdzLmltcGxlbWVudGF0aW9uKS5leHBhbmR1c2VyKCkgaWYgYXJncy5pbXBsZW1lbnRhdGlvbiBlbHNlIE5vbmUKICAgIGNvbnRyYWN0X3BhdGggPSBQYXRoKGFyZ3MuY29udHJhY3QpLmV4cGFuZHVzZXIoKSBpZiBhcmdzLmNvbnRyYWN0IGVsc2UgTm9uZQogICAgcmVwb3J0ID0gYXBpLmNoZWNrX2NvbXBsaWFuY2UoCiAgICAgICAgY29udHJhY3RfcGF0aD1jb250cmFjdF9wYXRoLAogICAgICAgIGltcGxlbWVudGF0aW9uX3BhdGg9aW1wbF9wYXRoLAogICAgICAgIGltcGxlbWVudGF0aW9uX2lkPWFyZ3MuaW1wbGVtZW50YXRpb25faWQsCiAgICAgICAgcnVuPWFyZ3MucnVuLAogICAgICAgIHRpbWVvdXRfcz1hcmdzLnRpbWVvdXRfcywKICAgICkKICAgIGlmIGFyZ3MuZm9ybWF0ID09ICJqc29uIjoKICAgICAgICBfanNvbl9kdW1wKHJlcG9ydCkKICAgIGVsc2U6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShyZXBvcnQuZ2V0KCJzdW1tYXJ5IiwgIm9rIikgKyAiXG4iKQogICAgcmV0dXJuIDAgaWYgcmVwb3J0LmdldCgicGFzcyIsIEZhbHNlKSBlbHNlIDIKZGVmIGJ1aWxkX3BhcnNlcigpIC0+IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyOgogICAgcCA9IGFyZ3BhcnNlLkFyZ3VtZW50UGFyc2VyKHByb2c9ImNvc21vX2NvbnRyYWN0cyIsIGFkZF9oZWxwPVRydWUpCiAgICBwLmFkZF9hcmd1bWVudCgiLS1mb3JtYXQiLCBjaG9pY2VzPVsianNvbiIsICJ0ZXh0Il0sIGRlZmF1bHQ9Impzb24iKQogICAgc3ViID0gcC5hZGRfc3VicGFyc2VycyhkZXN0PSJjbWQiLCByZXF1aXJlZD1UcnVlKQoKICAgIGluaiA9IHN1Yi5hZGRfcGFyc2VyKCJpbmplY3QiLCBoZWxwPSJJbmplY3QvdXBkYXRlIENvbnRyYWN0IHNlY3Rpb25zIGluIGJlbmNobWFya3NfdjBfMS5tZCIpCiAgICBpbmouYWRkX2FyZ3VtZW50KCJiZW5jaG1hcmtzIiwgaGVscD0iUGF0aCB0byBiZW5jaG1hcmtzX3YwXzEubWQiKQogICAgaW5qLmFkZF9hcmd1bWVudCgiLS1vdXQiLCBoZWxwPSJPcHRpb25hbCBvdXRwdXQgcGF0aDsgZGVmYXVsdCBlZGl0cyBpbi1wbGFjZSIpCiAgICBpbmouYWRkX2FyZ3VtZW50KCItLXN0cmljdCIsIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsIGhlbHA9IkZhaWwgaWYgcGFyc2luZyBpcyBhbWJpZ3VvdXMiKQogICAgaW5qLnNldF9kZWZhdWx0cyhmdW5jPWNtZF9pbmplY3QpCgogICAgdmFsID0gc3ViLmFkZF9wYXJzZXIoInZhbGlkYXRlIiwgaGVscD0iVmFsaWRhdGUgYSBjb250cmFjdCBKU09OIGZpbGUgYWdhaW5zdCB0aGUgc2NoZW1hIikKICAgIHZhbC5hZGRfYXJndW1lbnQoImNvbnRyYWN0IiwgaGVscD0iUGF0aCB0byBhIGNvbnRyYWN0IEpTT04gZmlsZSIpCiAgICB2YWwuc2V0X2RlZmF1bHRzKGZ1bmM9Y21kX3ZhbGlkYXRlKQoKICAgIGNvbXAgPSBzdWIuYWRkX3BhcnNlcigiY29tcGxpYW5jZSIsIGhlbHA9IkNoZWNrIGltcGxlbWVudGF0aW9uIGNvbXBsaWFuY2Ugd2l0aCBhIGNvbnRyYWN0IikKICAgIGNvbXAuYWRkX2FyZ3VtZW50KCItLWNvbnRyYWN0IiwgcmVxdWlyZWQ9VHJ1ZSwgaGVscD0iQ29udHJhY3QgSlNPTiBmaWxlIikKICAgIGNvbXAuYWRkX2FyZ3VtZW50KCItLWltcGxlbWVudGF0aW9uIiwgaGVscD0iSW1wbGVtZW50YXRpb24gZmlsZSBvciBtb2R1bGUgcGF0aCIpCiAgICBjb21wLmFkZF9hcmd1bWVudCgiLS1pbXBsZW1lbnRhdGlvbi1pZCIsIGhlbHA9IkltcGxlbWVudGF0aW9uIGlkZW50aWZpZXIgdG8gcmVwb3J0IikKICAgIGNvbXAuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXJ1biIsCiAgICAgICAgYWN0aW9uPSJzdG9yZV90cnVlIiwKICAgICAgICBoZWxwPSJBY3R1YWxseSBleGVjdXRlIGltcGxlbWVudGF0aW9uIChvdGhlcndpc2UganVzdCBzdHJ1Y3R1cmFsIGNoZWNrcyBpZiBzdXBwb3J0ZWQpIiwKICAgICkKICAgIGNvbXAuYWRkX2FyZ3VtZW50KCItLXRpbWVvdXQtcyIsIHR5cGU9ZmxvYXQsIGRlZmF1bHQ9MzAuMCkKICAgIGNvbXAuc2V0X2RlZmF1bHRzKGZ1bmM9Y21kX2NvbXBsaWFuY2UpCgogICAgcmV0dXJuIHAKZGVmIG1haW4oYXJndjogT3B0aW9uYWxbbGlzdFtzdHJdXSA9IE5vbmUpIC0+IGludDoKICAgIHBhcnNlciA9IGJ1aWxkX3BhcnNlcigpCiAgICBucyA9IHBhcnNlci5wYXJzZV9hcmdzKGFyZ3YpCiAgICByZXR1cm4gaW50KG5zLmZ1bmMobnMpKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6ICAjIHByYWdtYTogbm8gY292ZXIKICAgIHJhaXNlIFN5c3RlbUV4aXQobWFpbigpKQo=\"}\nDIR_STATE:[\"src/cosmo_contracts/__init__.py\",\"src/cosmo_contracts/__main__.py\",\"src/cosmo_contracts/cli.py\",\"src/cosmo_contracts/contracts.py\",\"src/cosmo_contracts/markdown.py\",\"src/cosmo_contracts/runner.py\",\"src/cosmo_contracts/schema.py\"]"
        }
      ],
      "role": "assistant"
    }
  ],
  "codeResults": []
}