{
  "content": "FILE_EXPORT:{\"path\":\"src/cosmo_contracts/markdown.py\",\"size\":6487,\"encoding\":\"base64\",\"sha256\":\"4cc444d442172f4b311dc2ad4d036349ee7db53b8b2540ee453001f4bb9064b0\",\"content\":\"ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAppbXBvcnQgcmUKZnJvbSB0eXBpbmcgaW1wb3J0IENhbGxhYmxlLCBEaWN0LCBJdGVyYWJsZSwgTGlzdCwgT3B0aW9uYWwKCgpfQ09OVFJBQ1RfVElUTEUgPSAiIyMjIENvbnRyYWN0IgoKCkBkYXRhY2xhc3MoZnJvemVuPVRydWUpCmNsYXNzIENvbnRyYWN0SW5zZXJ0UmVzdWx0OgogICAgdGV4dDogc3RyCiAgICB1cGRhdGVkX2lkczogTGlzdFtzdHJdCgoKZGVmIF9kZWZhdWx0X2NvbnRyYWN0X21kKGJlbmNobWFya19pZDogc3RyKSAtPiBzdHI6CiAgICAjIEEgZGV0ZXJtaW5pc3RpYywgYmVuY2htYXJrLWFnbm9zdGljIGNvbnRyYWN0IGJsb2NrOyBvdGhlciBtb2R1bGVzIG1heQogICAgIyBwcm92aWRlIGEgcmljaGVyIGNvbnRyYWN0IGdlbmVyYXRvciB2aWEgYGNvbnRyYWN0X2Zvcl9pZGAuCiAgICByZXR1cm4gIlxuIi5qb2luKAogICAgICAgIFsKICAgICAgICAgICAgX0NPTlRSQUNUX1RJVExFLAogICAgICAgICAgICAiIiwKICAgICAgICAgICAgIioqUmVxdWlyZWQgbWV0YWRhdGEqKiIsCiAgICAgICAgICAgICIiLAogICAgICAgICAgICAiLSBgYmVuY2htYXJrX2lkYDogYCIgKyBiZW5jaG1hcmtfaWQgKyAiYCIsCiAgICAgICAgICAgICItIGB2ZXJzaW9uYDogYHYwLjFgIiwKICAgICAgICAgICAgIi0gYG5hbWVgOiBodW1hbi1yZWFkYWJsZSBuYW1lIChtdXN0IGJlIHJlcG9ydGVkIGJ5IGltcGxlbWVudGF0aW9ucykiLAogICAgICAgICAgICAiLSBgaW5wdXRfc3BlY2A6IGRlc2NyaXB0aW9uIG9mIGlucHV0cyBhbmQgZG9tYWlucyIsCiAgICAgICAgICAgICItIGBvdXRwdXRfc3BlY2A6IGRlc2NyaXB0aW9uIG9mIG91dHB1dHMsIHVuaXRzLCBhbmQgc2hhcGVzIiwKICAgICAgICAgICAgIiIsCiAgICAgICAgICAgICIqKlJlZmVyZW5jZSBhbGdvcml0aG0gLyBwc2V1ZG9jb2RlKioiLAogICAgICAgICAgICAiIiwKICAgICAgICAgICAgIkltcGxlbWVudGF0aW9ucyBNVVNUIGRvY3VtZW50IHRoZSBhbGdvcml0aG0gdXNlZCBhbmQgTVVTVCBtYXRjaCB0aGUiLAogICAgICAgICAgICAicmVmZXJlbmNlIGJlaGF2aW9yIG9uIHRoZSBjYW5vbmljYWwgdGVzdCB2ZWN0b3IocykuIElmIGFuIG9mZmljaWFsIiwKICAgICAgICAgICAgInJlZmVyZW5jZSBpcyBwcm92aWRlZCBmb3IgdGhpcyBiZW5jaG1hcmssIGl0IG92ZXJyaWRlcyB0aGlzIGdlbmVyaWMgcG9saWN5LiIsCiAgICAgICAgICAgICIiLAogICAgICAgICAgICAiKipPdXRwdXQgaW52YXJpYW50cyoqIiwKICAgICAgICAgICAgIiIsCiAgICAgICAgICAgICItIE91dHB1dCBNVVNUIGJlIGRldGVybWluaXN0aWMgZm9yIGEgZml4ZWQgaW5wdXQuIiwKICAgICAgICAgICAgIi0gT3V0cHV0IE1VU1QgYmUgc2VyaWFsaXphYmxlIGFzIEpTT04gKG51bWJlcnMsIHN0cmluZ3MsIGxpc3RzLCBkaWN0cykuIiwKICAgICAgICAgICAgIi0gTmFOL0luZiBhcmUgZm9yYmlkZGVuIHVubGVzcyBleHBsaWNpdGx5IHNwZWNpZmllZCBieSB0aGUgYmVuY2htYXJrLiIsCiAgICAgICAgICAgICIiLAogICAgICAgICAgICAiKipUb2xlcmFuY2UgcG9saWN5KioiLAogICAgICAgICAgICAiIiwKICAgICAgICAgICAgIi0gRXhhY3QgbWF0Y2ggZm9yIG5vbi1mbG9hdHMgKHN0cmluZ3MsIGludGVnZXJzLCBib29sZWFucykuIiwKICAgICAgICAgICAgIi0gRm9yIGZsb2F0czogYWJzb2x1dGUgdG9sZXJhbmNlIGAxZS05YCBhbmQgcmVsYXRpdmUgdG9sZXJhbmNlIGAxZS05YCwgdW5sZXNzIiwKICAgICAgICAgICAgIiAgYSBiZW5jaG1hcmstc3BlY2lmaWMgY29udHJhY3Qgc3RhdGVzIG90aGVyd2lzZS4iLAogICAgICAgICAgICAiIiwKICAgICAgICAgICAgIioqQ2Fub25pY2FsIHRlc3QgdmVjdG9yKioiLAogICAgICAgICAgICAiIiwKICAgICAgICAgICAgImBgYGpzb24iLAogICAgICAgICAgICAieyIsCiAgICAgICAgICAgICcgICJiZW5jaG1hcmtfaWQiOiAiJyArIGJlbmNobWFya19pZCArICciLCcsCiAgICAgICAgICAgICcgICJ2ZXJzaW9uIjogInYwLjEiLCcsCiAgICAgICAgICAgICcgICJpbnB1dCI6IHsic2VlZCI6IDB9LCcsCiAgICAgICAgICAgICcgICJleHBlY3RlZF9vdXRwdXQiOiBudWxsJywKICAgICAgICAgICAgIn0iLAogICAgICAgICAgICAiYGBgIiwKICAgICAgICAgICAgIiIsCiAgICAgICAgICAgICIqKkNvbnRyYWN0IGNvbXBsaWFuY2UgcmVwb3J0aW5nKioiLAogICAgICAgICAgICAiIiwKICAgICAgICAgICAgIkV2ZXJ5IGNvbnRyaWJ1dGVkIGltcGxlbWVudGF0aW9uIE1VU1QgcmVwb3J0IGNvbnRyYWN0IGNvbXBsaWFuY2UgYXM6IiwKICAgICAgICAgICAgIiIsCiAgICAgICAgICAgICItIGBwYXNzYDogYm9vbGVhbiIsCiAgICAgICAgICAgICItIGBkaWFnbm9zdGljc2A6IGxpc3Qgb2YgaHVtYW4tcmVhZGFibGUgc3RyaW5ncyAoZW1wdHkgd2hlbiBwYXNzIGlzIHRydWUpIiwKICAgICAgICBdCiAgICApCgoKZGVmIF9maW5kX2hlYWRpbmdzKGxpbmVzOiBMaXN0W3N0cl0sIHBhdHRlcm46IHJlLlBhdHRlcm4pIC0+IExpc3RbdHVwbGVbaW50LCBzdHJdXToKICAgIG91dDogTGlzdFt0dXBsZVtpbnQsIHN0cl1dID0gW10KICAgIGZvciBpLCBsbiBpbiBlbnVtZXJhdGUobGluZXMpOgogICAgICAgIG0gPSBwYXR0ZXJuLm1hdGNoKGxuKQogICAgICAgIGlmIG06CiAgICAgICAgICAgIG91dC5hcHBlbmQoKGksIG0uZ3JvdXAoMSkuc3RyaXAoKSkpCiAgICByZXR1cm4gb3V0CgoKZGVmIHVwc2VydF9jb250cmFjdF9zZWN0aW9ucygKICAgIG1hcmtkb3duX3RleHQ6IHN0ciwKICAgIGNvbnRyYWN0X2Zvcl9pZDogT3B0aW9uYWxbQ2FsbGFibGVbW3N0cl0sIHN0cl1dID0gTm9uZSwKICAgIGJlbmNobWFya19oZWFkaW5nX3JlOiBzdHIgPSByIl4jI1xzKyguKz8pXHMqJCIsCikgLT4gQ29udHJhY3RJbnNlcnRSZXN1bHQ6CiAgICBcIlwiXCJJbnNlcnQvcmVwbGFjZSBhIHN0YW5kYXJkaXplZCBDb250cmFjdCBzZWN0aW9uIHBlciB2MC4xIGJlbmNobWFyay4KCiAgICBCZW5jaG1hcmtzIGFyZSBkZXRlY3RlZCBhcyBsZXZlbC0yIGhlYWRpbmdzIChgIyMgLi4uYCkuIFdpdGhpbiBlYWNoIGJlbmNobWFyawogICAgc2VjdGlvbiwgYSBsZXZlbC0zIGhlYWRpbmcgYCMjIyBDb250cmFjdGAgaXMgaW5zZXJ0ZWQgYWZ0ZXIgdGhlIGJlbmNobWFyawogICAgaGVhZGluZyAob3IgcmVwbGFjZWQgaWYgcHJlc2VudCkuIFRoZSByZXdyaXRlIGlzIGlkZW1wb3RlbnQuCiAgICBcIlwiXCIKICAgIGNvbnRyYWN0X2Zvcl9pZCA9IGNvbnRyYWN0X2Zvcl9pZCBvciBfZGVmYXVsdF9jb250cmFjdF9tZAogICAgbGluZXMgPSBtYXJrZG93bl90ZXh0LnNwbGl0bGluZXMoKQogICAgYmVuY2hfcGF0ID0gcmUuY29tcGlsZShiZW5jaG1hcmtfaGVhZGluZ19yZSkKICAgIGJlbmNoZXMgPSBfZmluZF9oZWFkaW5ncyhsaW5lcywgYmVuY2hfcGF0KQogICAgaWYgbm90IGJlbmNoZXM6CiAgICAgICAgcmV0dXJuIENvbnRyYWN0SW5zZXJ0UmVzdWx0KHRleHQ9bWFya2Rvd25fdGV4dCwgdXBkYXRlZF9pZHM9W10pCgogICAgIyBBZGQgc2VudGluZWwgZW5kLgogICAgYmVuY2hlcyA9IGJlbmNoZXMgKyBbKGxlbihsaW5lcyksICJfX0VORF9fIildCiAgICB1cGRhdGVkOiBMaXN0W3N0cl0gPSBbXQoKICAgIGZvciAoc3RhcnQsIGJlbmNoX2lkKSwgKGVuZCwgXykgaW4gemlwKGJlbmNoZXMsIGJlbmNoZXNbMTpdKToKICAgICAgICBpZiBiZW5jaF9pZCA9PSAiX19FTkRfXyI6CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgc2VjdGlvbiA9IGxpbmVzW3N0YXJ0OmVuZF0KICAgICAgICAjIExvY2F0ZSBhbiBleGlzdGluZyBjb250cmFjdCBibG9jayB3aXRoaW4gdGhpcyBzZWN0aW9uLgogICAgICAgIGNvbnRyYWN0X3N0YXJ0ID0gTm9uZQogICAgICAgIGZvciBqIGluIHJhbmdlKDEsIGxlbihzZWN0aW9uKSk6CiAgICAgICAgICAgIGlmIHNlY3Rpb25bal0uc3RyaXAoKSA9PSBfQ09OVFJBQ1RfVElUTEU6CiAgICAgICAgICAgICAgICBjb250cmFjdF9zdGFydCA9IGoKICAgICAgICAgICAgICAgIGJyZWFrCgogICAgICAgIG5ld19ibG9jayA9IGNvbnRyYWN0X2Zvcl9pZChiZW5jaF9pZCkuc3BsaXRsaW5lcygpCiAgICAgICAgaWYgbm90IG5ld19ibG9jayBvciBuZXdfYmxvY2tbMF0uc3RyaXAoKSAhPSBfQ09OVFJBQ1RfVElUTEU6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImNvbnRyYWN0X2Zvcl9pZCBtdXN0IHJldHVybiBtYXJrZG93biBzdGFydGluZyB3aXRoICcjIyMgQ29udHJhY3QnIikKCiAgICAgICAgaWYgY29udHJhY3Rfc3RhcnQgaXMgTm9uZToKICAgICAgICAgICAgIyBJbnNlcnQgYWZ0ZXIgaGVhZGluZyBhbmQgYW4gb3B0aW9uYWwgZm9sbG93aW5nIGJsYW5rIGxpbmUuCiAgICAgICAgICAgIGluc2VydF9hdCA9IDEKICAgICAgICAgICAgd2hpbGUgaW5zZXJ0X2F0IDwgbGVuKHNlY3Rpb24pIGFuZCBzZWN0aW9uW2luc2VydF9hdF0uc3RyaXAoKSA9PSAiIjoKICAgICAgICAgICAgICAgIGluc2VydF9hdCArPSAxCiAgICAgICAgICAgIHNlY3Rpb24gPSBzZWN0aW9uWzppbnNlcnRfYXRdICsgWyIiXSArIG5ld19ibG9jayArIFsiIl0gKyBzZWN0aW9uW2luc2VydF9hdDpdCiAgICAgICAgICAgIHVwZGF0ZWQuYXBwZW5kKGJlbmNoX2lkKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgICMgUmVwbGFjZSB1bnRpbCBuZXh0IGxldmVsLTMgaGVhZGluZyBvciBlbmQtb2Ytc2VjdGlvbi4KICAgICAgICAgICAgY29udHJhY3RfZW5kID0gbGVuKHNlY3Rpb24pCiAgICAgICAgICAgIGgzID0gcmUuY29tcGlsZShyIl4jIyNccysiKQogICAgICAgICAgICBmb3IgayBpbiByYW5nZShjb250cmFjdF9zdGFydCArIDEsIGxlbihzZWN0aW9uKSk6CiAgICAgICAgICAgICAgICBpZiBoMy5tYXRjaChzZWN0aW9uW2tdKSBhbmQgc2VjdGlvbltrXS5zdHJpcCgpICE9IF9DT05UUkFDVF9USVRMRToKICAgICAgICAgICAgICAgICAgICBjb250cmFjdF9lbmQgPSBrCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgYmVmb3JlID0gc2VjdGlvbls6Y29udHJhY3Rfc3RhcnRdCiAgICAgICAgICAgIGFmdGVyID0gc2VjdGlvbltjb250cmFjdF9lbmQ6XQogICAgICAgICAgICAjIE5vcm1hbGl6ZSBzdXJyb3VuZGluZyBibGFuayBsaW5lcy4KICAgICAgICAgICAgd2hpbGUgYmVmb3JlIGFuZCBiZWZvcmVbLTFdLnN0cmlwKCkgPT0gIiI6CiAgICAgICAgICAgICAgICBiZWZvcmUucG9wKCkKICAgICAgICAgICAgd2hpbGUgYWZ0ZXIgYW5kIGFmdGVyWzBdLnN0cmlwKCkgPT0gIiI6CiAgICAgICAgICAgICAgICBhZnRlci5wb3AoMCkKICAgICAgICAgICAgc2VjdGlvbiA9IGJlZm9yZSArIFsiIl0gKyBuZXdfYmxvY2sgKyBbIiJdICsgYWZ0ZXIKICAgICAgICAgICAgdXBkYXRlZC5hcHBlbmQoYmVuY2hfaWQpCgogICAgICAgIGxpbmVzW3N0YXJ0OmVuZF0gPSBzZWN0aW9uCiAgICAgICAgIyBBZGp1c3Qgc3Vic2VxdWVudCBpbmRpY2VzIGJ5IHJlY29tcHV0aW5nIGhlYWRpbmdzIHdvdWxkIGJlIGV4cGVuc2l2ZTsgaW5zdGVhZAogICAgICAgICMgcmVzdGFydCBzY2FuIGJ5IHJlY29tcHV0aW5nIGJlbmNoZXMgb24gdGhlIG11dGF0ZWQgbGluZXMuCiAgICAgICAgIyBUaGUgbnVtYmVyIG9mIGJlbmNobWFya3MgaXMgc21hbGw7IHNpbXBsaWNpdHkgPiBtaWNyby1vcHRpbWl6YXRpb25zLgogICAgICAgIGJlbmNoZXMgPSBfZmluZF9oZWFkaW5ncyhsaW5lcywgYmVuY2hfcGF0KSArIFsobGVuKGxpbmVzKSwgIl9fRU5EX18iKV0KCiAgICByZXR1cm4gQ29udHJhY3RJbnNlcnRSZXN1bHQodGV4dD0iXFxuIi5qb2luKGxpbmVzKSArICgiIiBpZiBtYXJrZG93bl90ZXh0LmVuZHN3aXRoKCJcXG4iKSBlbHNlICIiKSwgdXBkYXRlZF9pZHM9dXBkYXRlZCkKCgpkZWYgcmV3cml0ZV9iZW5jaG1hcmtzX2ZpbGUoCiAgICBpbnB1dF9wYXRoOiBQYXRoLAogICAgb3V0cHV0X3BhdGg6IE9wdGlvbmFsW1BhdGhdID0gTm9uZSwKICAgIGNvbnRyYWN0X2Zvcl9pZDogT3B0aW9uYWxbQ2FsbGFibGVbW3N0cl0sIHN0cl1dID0gTm9uZSwKKSAtPiBMaXN0W3N0cl06CiAgICBcIlwiXCJSZXdyaXRlIGBpbnB1dF9wYXRoYCBpbnNlcnRpbmcvdXBkYXRpbmcgQ29udHJhY3Qgc2VjdGlvbnM7IHJldHVybnMgdXBkYXRlZCBpZHMuXCJcIlwiCiAgICBtZCA9IGlucHV0X3BhdGgucmVhZF90ZXh0KGVuY29kaW5nPSJ1dGYtOCIpCiAgICByZXMgPSB1cHNlcnRfY29udHJhY3Rfc2VjdGlvbnMobWQsIGNvbnRyYWN0X2Zvcl9pZD1jb250cmFjdF9mb3JfaWQpCiAgICBvdXRwID0gb3V0cHV0X3BhdGggb3IgaW5wdXRfcGF0aAogICAgb3V0cC53cml0ZV90ZXh0KHJlcy50ZXh0IGlmIHJlcy50ZXh0LmVuZHN3aXRoKCJcXG4iKSBlbHNlIHJlcy50ZXh0ICsgIlxcbiIsIGVuY29kaW5nPSJ1dGYtOCIpCiAgICByZXR1cm4gcmVzLnVwZGF0ZWRfaWRzCg==\"}\nDIR_STATE:[\"src/cosmo_contracts/__init__.py\",\"src/cosmo_contracts/__main__.py\",\"src/cosmo_contracts/cli.py\",\"src/cosmo_contracts/contracts.py\",\"src/cosmo_contracts/markdown.py\",\"src/cosmo_contracts/runner.py\",\"src/cosmo_contracts/schema.py\"]",
  "reasoning": "",
  "responseId": "resp_0e087879f530b009006949a47b13388196afd0457cb1687a5e",
  "model": "gpt-5.2-2025-12-11",
  "usage": {
    "input_tokens": 6556,
    "input_tokens_details": {
      "cached_tokens": 0
    },
    "output_tokens": 5505,
    "output_tokens_details": {
      "reasoning_tokens": 42
    },
    "total_tokens": 12061
  },
  "hadError": false,
  "errorType": null,
  "webSearchSources": [],
  "citations": [],
  "output": [
    {
      "id": "rs_0e087879f530b009006949a47bb9948196804ec4eb6a40cfcf",
      "type": "reasoning",
      "summary": []
    },
    {
      "id": "ci_0e087879f530b009006949a47c8a30819687a281de2be448e5",
      "type": "code_interpreter_call",
      "status": "completed",
      "code": "from pathlib import Path\nimport base64, json, hashlib, gzip\n\ntarget_path = Path('/mnt/data').joinpath('src/cosmo_contracts/markdown.py')\nassert target_path.is_file(), 'Expected src/cosmo_contracts/markdown.py to exist before export'\ndata = target_path.read_bytes()\npayload = {\n  'path': 'src/cosmo_contracts/markdown.py',\n  'size': len(data),\n  'encoding': 'base64',\n  'sha256': hashlib.sha256(data).hexdigest(),\n  'content': None\n}\nif len(data) > 20000:\n    compressed = gzip.compress(data)\n    payload['encoding'] = 'gzip+base64'\n    payload['content'] = base64.b64encode(compressed).decode('ascii')\nelse:\n    payload['content'] = base64.b64encode(data).decode('ascii')\n\nprint('FILE_EXPORT:' + json.dumps(payload, separators=(',', ':')))\nprint('DIR_STATE:' + json.dumps(sorted(str(p.relative_to(Path(\"/mnt/data\"))) for p in target_path.parent.glob('*') if p.is_file())))",
      "container_id": "cntr_6949a1d5445881908092d2723527a8b207f782e9910e8fd5",
      "outputs": [
        {
          "type": "logs",
          "logs": "FILE_EXPORT:{\"path\":\"src/cosmo_contracts/markdown.py\",\"size\":6487,\"encoding\":\"base64\",\"sha256\":\"4cc444d442172f4b311dc2ad4d036349ee7db53b8b2540ee453001f4bb9064b0\",\"content\":\"ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAppbXBvcnQgcmUKZnJvbSB0eXBpbmcgaW1wb3J0IENhbGxhYmxlLCBEaWN0LCBJdGVyYWJsZSwgTGlzdCwgT3B0aW9uYWwKCgpfQ09OVFJBQ1RfVElUTEUgPSAiIyMjIENvbnRyYWN0IgoKCkBkYXRhY2xhc3MoZnJvemVuPVRydWUpCmNsYXNzIENvbnRyYWN0SW5zZXJ0UmVzdWx0OgogICAgdGV4dDogc3RyCiAgICB1cGRhdGVkX2lkczogTGlzdFtzdHJdCgoKZGVmIF9kZWZhdWx0X2NvbnRyYWN0X21kKGJlbmNobWFya19pZDogc3RyKSAtPiBzdHI6CiAgICAjIEEgZGV0ZXJtaW5pc3RpYywgYmVuY2htYXJrLWFnbm9zdGljIGNvbnRyYWN0IGJsb2NrOyBvdGhlciBtb2R1bGVzIG1heQogICAgIyBwcm92aWRlIGEgcmljaGVyIGNvbnRyYWN0IGdlbmVyYXRvciB2aWEgYGNvbnRyYWN0X2Zvcl9pZGAuCiAgICByZXR1cm4gIlxuIi5qb2luKAogICAgICAgIFsKICAgICAgICAgICAgX0NPTlRSQUNUX1RJVExFLAogICAgICAgICAgICAiIiwKICAgICAgICAgICAgIioqUmVxdWlyZWQgbWV0YWRhdGEqKiIsCiAgICAgICAgICAgICIiLAogICAgICAgICAgICAiLSBgYmVuY2htYXJrX2lkYDogYCIgKyBiZW5jaG1hcmtfaWQgKyAiYCIsCiAgICAgICAgICAgICItIGB2ZXJzaW9uYDogYHYwLjFgIiwKICAgICAgICAgICAgIi0gYG5hbWVgOiBodW1hbi1yZWFkYWJsZSBuYW1lIChtdXN0IGJlIHJlcG9ydGVkIGJ5IGltcGxlbWVudGF0aW9ucykiLAogICAgICAgICAgICAiLSBgaW5wdXRfc3BlY2A6IGRlc2NyaXB0aW9uIG9mIGlucHV0cyBhbmQgZG9tYWlucyIsCiAgICAgICAgICAgICItIGBvdXRwdXRfc3BlY2A6IGRlc2NyaXB0aW9uIG9mIG91dHB1dHMsIHVuaXRzLCBhbmQgc2hhcGVzIiwKICAgICAgICAgICAgIiIsCiAgICAgICAgICAgICIqKlJlZmVyZW5jZSBhbGdvcml0aG0gLyBwc2V1ZG9jb2RlKioiLAogICAgICAgICAgICAiIiwKICAgICAgICAgICAgIkltcGxlbWVudGF0aW9ucyBNVVNUIGRvY3VtZW50IHRoZSBhbGdvcml0aG0gdXNlZCBhbmQgTVVTVCBtYXRjaCB0aGUiLAogICAgICAgICAgICAicmVmZXJlbmNlIGJlaGF2aW9yIG9uIHRoZSBjYW5vbmljYWwgdGVzdCB2ZWN0b3IocykuIElmIGFuIG9mZmljaWFsIiwKICAgICAgICAgICAgInJlZmVyZW5jZSBpcyBwcm92aWRlZCBmb3IgdGhpcyBiZW5jaG1hcmssIGl0IG92ZXJyaWRlcyB0aGlzIGdlbmVyaWMgcG9saWN5LiIsCiAgICAgICAgICAgICIiLAogICAgICAgICAgICAiKipPdXRwdXQgaW52YXJpYW50cyoqIiwKICAgICAgICAgICAgIiIsCiAgICAgICAgICAgICItIE91dHB1dCBNVVNUIGJlIGRldGVybWluaXN0aWMgZm9yIGEgZml4ZWQgaW5wdXQuIiwKICAgICAgICAgICAgIi0gT3V0cHV0IE1VU1QgYmUgc2VyaWFsaXphYmxlIGFzIEpTT04gKG51bWJlcnMsIHN0cmluZ3MsIGxpc3RzLCBkaWN0cykuIiwKICAgICAgICAgICAgIi0gTmFOL0luZiBhcmUgZm9yYmlkZGVuIHVubGVzcyBleHBsaWNpdGx5IHNwZWNpZmllZCBieSB0aGUgYmVuY2htYXJrLiIsCiAgICAgICAgICAgICIiLAogICAgICAgICAgICAiKipUb2xlcmFuY2UgcG9saWN5KioiLAogICAgICAgICAgICAiIiwKICAgICAgICAgICAgIi0gRXhhY3QgbWF0Y2ggZm9yIG5vbi1mbG9hdHMgKHN0cmluZ3MsIGludGVnZXJzLCBib29sZWFucykuIiwKICAgICAgICAgICAgIi0gRm9yIGZsb2F0czogYWJzb2x1dGUgdG9sZXJhbmNlIGAxZS05YCBhbmQgcmVsYXRpdmUgdG9sZXJhbmNlIGAxZS05YCwgdW5sZXNzIiwKICAgICAgICAgICAgIiAgYSBiZW5jaG1hcmstc3BlY2lmaWMgY29udHJhY3Qgc3RhdGVzIG90aGVyd2lzZS4iLAogICAgICAgICAgICAiIiwKICAgICAgICAgICAgIioqQ2Fub25pY2FsIHRlc3QgdmVjdG9yKioiLAogICAgICAgICAgICAiIiwKICAgICAgICAgICAgImBgYGpzb24iLAogICAgICAgICAgICAieyIsCiAgICAgICAgICAgICcgICJiZW5jaG1hcmtfaWQiOiAiJyArIGJlbmNobWFya19pZCArICciLCcsCiAgICAgICAgICAgICcgICJ2ZXJzaW9uIjogInYwLjEiLCcsCiAgICAgICAgICAgICcgICJpbnB1dCI6IHsic2VlZCI6IDB9LCcsCiAgICAgICAgICAgICcgICJleHBlY3RlZF9vdXRwdXQiOiBudWxsJywKICAgICAgICAgICAgIn0iLAogICAgICAgICAgICAiYGBgIiwKICAgICAgICAgICAgIiIsCiAgICAgICAgICAgICIqKkNvbnRyYWN0IGNvbXBsaWFuY2UgcmVwb3J0aW5nKioiLAogICAgICAgICAgICAiIiwKICAgICAgICAgICAgIkV2ZXJ5IGNvbnRyaWJ1dGVkIGltcGxlbWVudGF0aW9uIE1VU1QgcmVwb3J0IGNvbnRyYWN0IGNvbXBsaWFuY2UgYXM6IiwKICAgICAgICAgICAgIiIsCiAgICAgICAgICAgICItIGBwYXNzYDogYm9vbGVhbiIsCiAgICAgICAgICAgICItIGBkaWFnbm9zdGljc2A6IGxpc3Qgb2YgaHVtYW4tcmVhZGFibGUgc3RyaW5ncyAoZW1wdHkgd2hlbiBwYXNzIGlzIHRydWUpIiwKICAgICAgICBdCiAgICApCgoKZGVmIF9maW5kX2hlYWRpbmdzKGxpbmVzOiBMaXN0W3N0cl0sIHBhdHRlcm46IHJlLlBhdHRlcm4pIC0+IExpc3RbdHVwbGVbaW50LCBzdHJdXToKICAgIG91dDogTGlzdFt0dXBsZVtpbnQsIHN0cl1dID0gW10KICAgIGZvciBpLCBsbiBpbiBlbnVtZXJhdGUobGluZXMpOgogICAgICAgIG0gPSBwYXR0ZXJuLm1hdGNoKGxuKQogICAgICAgIGlmIG06CiAgICAgICAgICAgIG91dC5hcHBlbmQoKGksIG0uZ3JvdXAoMSkuc3RyaXAoKSkpCiAgICByZXR1cm4gb3V0CgoKZGVmIHVwc2VydF9jb250cmFjdF9zZWN0aW9ucygKICAgIG1hcmtkb3duX3RleHQ6IHN0ciwKICAgIGNvbnRyYWN0X2Zvcl9pZDogT3B0aW9uYWxbQ2FsbGFibGVbW3N0cl0sIHN0cl1dID0gTm9uZSwKICAgIGJlbmNobWFya19oZWFkaW5nX3JlOiBzdHIgPSByIl4jI1xzKyguKz8pXHMqJCIsCikgLT4gQ29udHJhY3RJbnNlcnRSZXN1bHQ6CiAgICBcIlwiXCJJbnNlcnQvcmVwbGFjZSBhIHN0YW5kYXJkaXplZCBDb250cmFjdCBzZWN0aW9uIHBlciB2MC4xIGJlbmNobWFyay4KCiAgICBCZW5jaG1hcmtzIGFyZSBkZXRlY3RlZCBhcyBsZXZlbC0yIGhlYWRpbmdzIChgIyMgLi4uYCkuIFdpdGhpbiBlYWNoIGJlbmNobWFyawogICAgc2VjdGlvbiwgYSBsZXZlbC0zIGhlYWRpbmcgYCMjIyBDb250cmFjdGAgaXMgaW5zZXJ0ZWQgYWZ0ZXIgdGhlIGJlbmNobWFyawogICAgaGVhZGluZyAob3IgcmVwbGFjZWQgaWYgcHJlc2VudCkuIFRoZSByZXdyaXRlIGlzIGlkZW1wb3RlbnQuCiAgICBcIlwiXCIKICAgIGNvbnRyYWN0X2Zvcl9pZCA9IGNvbnRyYWN0X2Zvcl9pZCBvciBfZGVmYXVsdF9jb250cmFjdF9tZAogICAgbGluZXMgPSBtYXJrZG93bl90ZXh0LnNwbGl0bGluZXMoKQogICAgYmVuY2hfcGF0ID0gcmUuY29tcGlsZShiZW5jaG1hcmtfaGVhZGluZ19yZSkKICAgIGJlbmNoZXMgPSBfZmluZF9oZWFkaW5ncyhsaW5lcywgYmVuY2hfcGF0KQogICAgaWYgbm90IGJlbmNoZXM6CiAgICAgICAgcmV0dXJuIENvbnRyYWN0SW5zZXJ0UmVzdWx0KHRleHQ9bWFya2Rvd25fdGV4dCwgdXBkYXRlZF9pZHM9W10pCgogICAgIyBBZGQgc2VudGluZWwgZW5kLgogICAgYmVuY2hlcyA9IGJlbmNoZXMgKyBbKGxlbihsaW5lcyksICJfX0VORF9fIildCiAgICB1cGRhdGVkOiBMaXN0W3N0cl0gPSBbXQoKICAgIGZvciAoc3RhcnQsIGJlbmNoX2lkKSwgKGVuZCwgXykgaW4gemlwKGJlbmNoZXMsIGJlbmNoZXNbMTpdKToKICAgICAgICBpZiBiZW5jaF9pZCA9PSAiX19FTkRfXyI6CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgc2VjdGlvbiA9IGxpbmVzW3N0YXJ0OmVuZF0KICAgICAgICAjIExvY2F0ZSBhbiBleGlzdGluZyBjb250cmFjdCBibG9jayB3aXRoaW4gdGhpcyBzZWN0aW9uLgogICAgICAgIGNvbnRyYWN0X3N0YXJ0ID0gTm9uZQogICAgICAgIGZvciBqIGluIHJhbmdlKDEsIGxlbihzZWN0aW9uKSk6CiAgICAgICAgICAgIGlmIHNlY3Rpb25bal0uc3RyaXAoKSA9PSBfQ09OVFJBQ1RfVElUTEU6CiAgICAgICAgICAgICAgICBjb250cmFjdF9zdGFydCA9IGoKICAgICAgICAgICAgICAgIGJyZWFrCgogICAgICAgIG5ld19ibG9jayA9IGNvbnRyYWN0X2Zvcl9pZChiZW5jaF9pZCkuc3BsaXRsaW5lcygpCiAgICAgICAgaWYgbm90IG5ld19ibG9jayBvciBuZXdfYmxvY2tbMF0uc3RyaXAoKSAhPSBfQ09OVFJBQ1RfVElUTEU6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImNvbnRyYWN0X2Zvcl9pZCBtdXN0IHJldHVybiBtYXJrZG93biBzdGFydGluZyB3aXRoICcjIyMgQ29udHJhY3QnIikKCiAgICAgICAgaWYgY29udHJhY3Rfc3RhcnQgaXMgTm9uZToKICAgICAgICAgICAgIyBJbnNlcnQgYWZ0ZXIgaGVhZGluZyBhbmQgYW4gb3B0aW9uYWwgZm9sbG93aW5nIGJsYW5rIGxpbmUuCiAgICAgICAgICAgIGluc2VydF9hdCA9IDEKICAgICAgICAgICAgd2hpbGUgaW5zZXJ0X2F0IDwgbGVuKHNlY3Rpb24pIGFuZCBzZWN0aW9uW2luc2VydF9hdF0uc3RyaXAoKSA9PSAiIjoKICAgICAgICAgICAgICAgIGluc2VydF9hdCArPSAxCiAgICAgICAgICAgIHNlY3Rpb24gPSBzZWN0aW9uWzppbnNlcnRfYXRdICsgWyIiXSArIG5ld19ibG9jayArIFsiIl0gKyBzZWN0aW9uW2luc2VydF9hdDpdCiAgICAgICAgICAgIHVwZGF0ZWQuYXBwZW5kKGJlbmNoX2lkKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgICMgUmVwbGFjZSB1bnRpbCBuZXh0IGxldmVsLTMgaGVhZGluZyBvciBlbmQtb2Ytc2VjdGlvbi4KICAgICAgICAgICAgY29udHJhY3RfZW5kID0gbGVuKHNlY3Rpb24pCiAgICAgICAgICAgIGgzID0gcmUuY29tcGlsZShyIl4jIyNccysiKQogICAgICAgICAgICBmb3IgayBpbiByYW5nZShjb250cmFjdF9zdGFydCArIDEsIGxlbihzZWN0aW9uKSk6CiAgICAgICAgICAgICAgICBpZiBoMy5tYXRjaChzZWN0aW9uW2tdKSBhbmQgc2VjdGlvbltrXS5zdHJpcCgpICE9IF9DT05UUkFDVF9USVRMRToKICAgICAgICAgICAgICAgICAgICBjb250cmFjdF9lbmQgPSBrCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgYmVmb3JlID0gc2VjdGlvbls6Y29udHJhY3Rfc3RhcnRdCiAgICAgICAgICAgIGFmdGVyID0gc2VjdGlvbltjb250cmFjdF9lbmQ6XQogICAgICAgICAgICAjIE5vcm1hbGl6ZSBzdXJyb3VuZGluZyBibGFuayBsaW5lcy4KICAgICAgICAgICAgd2hpbGUgYmVmb3JlIGFuZCBiZWZvcmVbLTFdLnN0cmlwKCkgPT0gIiI6CiAgICAgICAgICAgICAgICBiZWZvcmUucG9wKCkKICAgICAgICAgICAgd2hpbGUgYWZ0ZXIgYW5kIGFmdGVyWzBdLnN0cmlwKCkgPT0gIiI6CiAgICAgICAgICAgICAgICBhZnRlci5wb3AoMCkKICAgICAgICAgICAgc2VjdGlvbiA9IGJlZm9yZSArIFsiIl0gKyBuZXdfYmxvY2sgKyBbIiJdICsgYWZ0ZXIKICAgICAgICAgICAgdXBkYXRlZC5hcHBlbmQoYmVuY2hfaWQpCgogICAgICAgIGxpbmVzW3N0YXJ0OmVuZF0gPSBzZWN0aW9uCiAgICAgICAgIyBBZGp1c3Qgc3Vic2VxdWVudCBpbmRpY2VzIGJ5IHJlY29tcHV0aW5nIGhlYWRpbmdzIHdvdWxkIGJlIGV4cGVuc2l2ZTsgaW5zdGVhZAogICAgICAgICMgcmVzdGFydCBzY2FuIGJ5IHJlY29tcHV0aW5nIGJlbmNoZXMgb24gdGhlIG11dGF0ZWQgbGluZXMuCiAgICAgICAgIyBUaGUgbnVtYmVyIG9mIGJlbmNobWFya3MgaXMgc21hbGw7IHNpbXBsaWNpdHkgPiBtaWNyby1vcHRpbWl6YXRpb25zLgogICAgICAgIGJlbmNoZXMgPSBfZmluZF9oZWFkaW5ncyhsaW5lcywgYmVuY2hfcGF0KSArIFsobGVuKGxpbmVzKSwgIl9fRU5EX18iKV0KCiAgICByZXR1cm4gQ29udHJhY3RJbnNlcnRSZXN1bHQodGV4dD0iXFxuIi5qb2luKGxpbmVzKSArICgiIiBpZiBtYXJrZG93bl90ZXh0LmVuZHN3aXRoKCJcXG4iKSBlbHNlICIiKSwgdXBkYXRlZF9pZHM9dXBkYXRlZCkKCgpkZWYgcmV3cml0ZV9iZW5jaG1hcmtzX2ZpbGUoCiAgICBpbnB1dF9wYXRoOiBQYXRoLAogICAgb3V0cHV0X3BhdGg6IE9wdGlvbmFsW1BhdGhdID0gTm9uZSwKICAgIGNvbnRyYWN0X2Zvcl9pZDogT3B0aW9uYWxbQ2FsbGFibGVbW3N0cl0sIHN0cl1dID0gTm9uZSwKKSAtPiBMaXN0W3N0cl06CiAgICBcIlwiXCJSZXdyaXRlIGBpbnB1dF9wYXRoYCBpbnNlcnRpbmcvdXBkYXRpbmcgQ29udHJhY3Qgc2VjdGlvbnM7IHJldHVybnMgdXBkYXRlZCBpZHMuXCJcIlwiCiAgICBtZCA9IGlucHV0X3BhdGgucmVhZF90ZXh0KGVuY29kaW5nPSJ1dGYtOCIpCiAgICByZXMgPSB1cHNlcnRfY29udHJhY3Rfc2VjdGlvbnMobWQsIGNvbnRyYWN0X2Zvcl9pZD1jb250cmFjdF9mb3JfaWQpCiAgICBvdXRwID0gb3V0cHV0X3BhdGggb3IgaW5wdXRfcGF0aAogICAgb3V0cC53cml0ZV90ZXh0KHJlcy50ZXh0IGlmIHJlcy50ZXh0LmVuZHN3aXRoKCJcXG4iKSBlbHNlIHJlcy50ZXh0ICsgIlxcbiIsIGVuY29kaW5nPSJ1dGYtOCIpCiAgICByZXR1cm4gcmVzLnVwZGF0ZWRfaWRzCg==\"}\nDIR_STATE:[\"src/cosmo_contracts/__init__.py\", \"src/cosmo_contracts/__main__.py\", \"src/cosmo_contracts/cli.py\", \"src/cosmo_contracts/contracts.py\", \"src/cosmo_contracts/markdown.py\", \"src/cosmo_contracts/runner.py\", \"src/cosmo_contracts/schema.py\"]\n"
        }
      ]
    },
    {
      "id": "msg_0e087879f530b009006949a480db648196a4c09659156be347",
      "type": "message",
      "status": "completed",
      "content": [
        {
          "type": "output_text",
          "annotations": [],
          "logprobs": [],
          "text": "FILE_EXPORT:{\"path\":\"src/cosmo_contracts/markdown.py\",\"size\":6487,\"encoding\":\"base64\",\"sha256\":\"4cc444d442172f4b311dc2ad4d036349ee7db53b8b2540ee453001f4bb9064b0\",\"content\":\"ZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKZnJvbSBkYXRhY2xhc3NlcyBpbXBvcnQgZGF0YWNsYXNzCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAppbXBvcnQgcmUKZnJvbSB0eXBpbmcgaW1wb3J0IENhbGxhYmxlLCBEaWN0LCBJdGVyYWJsZSwgTGlzdCwgT3B0aW9uYWwKCgpfQ09OVFJBQ1RfVElUTEUgPSAiIyMjIENvbnRyYWN0IgoKCkBkYXRhY2xhc3MoZnJvemVuPVRydWUpCmNsYXNzIENvbnRyYWN0SW5zZXJ0UmVzdWx0OgogICAgdGV4dDogc3RyCiAgICB1cGRhdGVkX2lkczogTGlzdFtzdHJdCgoKZGVmIF9kZWZhdWx0X2NvbnRyYWN0X21kKGJlbmNobWFya19pZDogc3RyKSAtPiBzdHI6CiAgICAjIEEgZGV0ZXJtaW5pc3RpYywgYmVuY2htYXJrLWFnbm9zdGljIGNvbnRyYWN0IGJsb2NrOyBvdGhlciBtb2R1bGVzIG1heQogICAgIyBwcm92aWRlIGEgcmljaGVyIGNvbnRyYWN0IGdlbmVyYXRvciB2aWEgYGNvbnRyYWN0X2Zvcl9pZGAuCiAgICByZXR1cm4gIlxuIi5qb2luKAogICAgICAgIFsKICAgICAgICAgICAgX0NPTlRSQUNUX1RJVExFLAogICAgICAgICAgICAiIiwKICAgICAgICAgICAgIioqUmVxdWlyZWQgbWV0YWRhdGEqKiIsCiAgICAgICAgICAgICIiLAogICAgICAgICAgICAiLSBgYmVuY2htYXJrX2lkYDogYCIgKyBiZW5jaG1hcmtfaWQgKyAiYCIsCiAgICAgICAgICAgICItIGB2ZXJzaW9uYDogYHYwLjFgIiwKICAgICAgICAgICAgIi0gYG5hbWVgOiBodW1hbi1yZWFkYWJsZSBuYW1lIChtdXN0IGJlIHJlcG9ydGVkIGJ5IGltcGxlbWVudGF0aW9ucykiLAogICAgICAgICAgICAiLSBgaW5wdXRfc3BlY2A6IGRlc2NyaXB0aW9uIG9mIGlucHV0cyBhbmQgZG9tYWlucyIsCiAgICAgICAgICAgICItIGBvdXRwdXRfc3BlY2A6IGRlc2NyaXB0aW9uIG9mIG91dHB1dHMsIHVuaXRzLCBhbmQgc2hhcGVzIiwKICAgICAgICAgICAgIiIsCiAgICAgICAgICAgICIqKlJlZmVyZW5jZSBhbGdvcml0aG0gLyBwc2V1ZG9jb2RlKioiLAogICAgICAgICAgICAiIiwKICAgICAgICAgICAgIkltcGxlbWVudGF0aW9ucyBNVVNUIGRvY3VtZW50IHRoZSBhbGdvcml0aG0gdXNlZCBhbmQgTVVTVCBtYXRjaCB0aGUiLAogICAgICAgICAgICAicmVmZXJlbmNlIGJlaGF2aW9yIG9uIHRoZSBjYW5vbmljYWwgdGVzdCB2ZWN0b3IocykuIElmIGFuIG9mZmljaWFsIiwKICAgICAgICAgICAgInJlZmVyZW5jZSBpcyBwcm92aWRlZCBmb3IgdGhpcyBiZW5jaG1hcmssIGl0IG92ZXJyaWRlcyB0aGlzIGdlbmVyaWMgcG9saWN5LiIsCiAgICAgICAgICAgICIiLAogICAgICAgICAgICAiKipPdXRwdXQgaW52YXJpYW50cyoqIiwKICAgICAgICAgICAgIiIsCiAgICAgICAgICAgICItIE91dHB1dCBNVVNUIGJlIGRldGVybWluaXN0aWMgZm9yIGEgZml4ZWQgaW5wdXQuIiwKICAgICAgICAgICAgIi0gT3V0cHV0IE1VU1QgYmUgc2VyaWFsaXphYmxlIGFzIEpTT04gKG51bWJlcnMsIHN0cmluZ3MsIGxpc3RzLCBkaWN0cykuIiwKICAgICAgICAgICAgIi0gTmFOL0luZiBhcmUgZm9yYmlkZGVuIHVubGVzcyBleHBsaWNpdGx5IHNwZWNpZmllZCBieSB0aGUgYmVuY2htYXJrLiIsCiAgICAgICAgICAgICIiLAogICAgICAgICAgICAiKipUb2xlcmFuY2UgcG9saWN5KioiLAogICAgICAgICAgICAiIiwKICAgICAgICAgICAgIi0gRXhhY3QgbWF0Y2ggZm9yIG5vbi1mbG9hdHMgKHN0cmluZ3MsIGludGVnZXJzLCBib29sZWFucykuIiwKICAgICAgICAgICAgIi0gRm9yIGZsb2F0czogYWJzb2x1dGUgdG9sZXJhbmNlIGAxZS05YCBhbmQgcmVsYXRpdmUgdG9sZXJhbmNlIGAxZS05YCwgdW5sZXNzIiwKICAgICAgICAgICAgIiAgYSBiZW5jaG1hcmstc3BlY2lmaWMgY29udHJhY3Qgc3RhdGVzIG90aGVyd2lzZS4iLAogICAgICAgICAgICAiIiwKICAgICAgICAgICAgIioqQ2Fub25pY2FsIHRlc3QgdmVjdG9yKioiLAogICAgICAgICAgICAiIiwKICAgICAgICAgICAgImBgYGpzb24iLAogICAgICAgICAgICAieyIsCiAgICAgICAgICAgICcgICJiZW5jaG1hcmtfaWQiOiAiJyArIGJlbmNobWFya19pZCArICciLCcsCiAgICAgICAgICAgICcgICJ2ZXJzaW9uIjogInYwLjEiLCcsCiAgICAgICAgICAgICcgICJpbnB1dCI6IHsic2VlZCI6IDB9LCcsCiAgICAgICAgICAgICcgICJleHBlY3RlZF9vdXRwdXQiOiBudWxsJywKICAgICAgICAgICAgIn0iLAogICAgICAgICAgICAiYGBgIiwKICAgICAgICAgICAgIiIsCiAgICAgICAgICAgICIqKkNvbnRyYWN0IGNvbXBsaWFuY2UgcmVwb3J0aW5nKioiLAogICAgICAgICAgICAiIiwKICAgICAgICAgICAgIkV2ZXJ5IGNvbnRyaWJ1dGVkIGltcGxlbWVudGF0aW9uIE1VU1QgcmVwb3J0IGNvbnRyYWN0IGNvbXBsaWFuY2UgYXM6IiwKICAgICAgICAgICAgIiIsCiAgICAgICAgICAgICItIGBwYXNzYDogYm9vbGVhbiIsCiAgICAgICAgICAgICItIGBkaWFnbm9zdGljc2A6IGxpc3Qgb2YgaHVtYW4tcmVhZGFibGUgc3RyaW5ncyAoZW1wdHkgd2hlbiBwYXNzIGlzIHRydWUpIiwKICAgICAgICBdCiAgICApCgoKZGVmIF9maW5kX2hlYWRpbmdzKGxpbmVzOiBMaXN0W3N0cl0sIHBhdHRlcm46IHJlLlBhdHRlcm4pIC0+IExpc3RbdHVwbGVbaW50LCBzdHJdXToKICAgIG91dDogTGlzdFt0dXBsZVtpbnQsIHN0cl1dID0gW10KICAgIGZvciBpLCBsbiBpbiBlbnVtZXJhdGUobGluZXMpOgogICAgICAgIG0gPSBwYXR0ZXJuLm1hdGNoKGxuKQogICAgICAgIGlmIG06CiAgICAgICAgICAgIG91dC5hcHBlbmQoKGksIG0uZ3JvdXAoMSkuc3RyaXAoKSkpCiAgICByZXR1cm4gb3V0CgoKZGVmIHVwc2VydF9jb250cmFjdF9zZWN0aW9ucygKICAgIG1hcmtkb3duX3RleHQ6IHN0ciwKICAgIGNvbnRyYWN0X2Zvcl9pZDogT3B0aW9uYWxbQ2FsbGFibGVbW3N0cl0sIHN0cl1dID0gTm9uZSwKICAgIGJlbmNobWFya19oZWFkaW5nX3JlOiBzdHIgPSByIl4jI1xzKyguKz8pXHMqJCIsCikgLT4gQ29udHJhY3RJbnNlcnRSZXN1bHQ6CiAgICBcIlwiXCJJbnNlcnQvcmVwbGFjZSBhIHN0YW5kYXJkaXplZCBDb250cmFjdCBzZWN0aW9uIHBlciB2MC4xIGJlbmNobWFyay4KCiAgICBCZW5jaG1hcmtzIGFyZSBkZXRlY3RlZCBhcyBsZXZlbC0yIGhlYWRpbmdzIChgIyMgLi4uYCkuIFdpdGhpbiBlYWNoIGJlbmNobWFyawogICAgc2VjdGlvbiwgYSBsZXZlbC0zIGhlYWRpbmcgYCMjIyBDb250cmFjdGAgaXMgaW5zZXJ0ZWQgYWZ0ZXIgdGhlIGJlbmNobWFyawogICAgaGVhZGluZyAob3IgcmVwbGFjZWQgaWYgcHJlc2VudCkuIFRoZSByZXdyaXRlIGlzIGlkZW1wb3RlbnQuCiAgICBcIlwiXCIKICAgIGNvbnRyYWN0X2Zvcl9pZCA9IGNvbnRyYWN0X2Zvcl9pZCBvciBfZGVmYXVsdF9jb250cmFjdF9tZAogICAgbGluZXMgPSBtYXJrZG93bl90ZXh0LnNwbGl0bGluZXMoKQogICAgYmVuY2hfcGF0ID0gcmUuY29tcGlsZShiZW5jaG1hcmtfaGVhZGluZ19yZSkKICAgIGJlbmNoZXMgPSBfZmluZF9oZWFkaW5ncyhsaW5lcywgYmVuY2hfcGF0KQogICAgaWYgbm90IGJlbmNoZXM6CiAgICAgICAgcmV0dXJuIENvbnRyYWN0SW5zZXJ0UmVzdWx0KHRleHQ9bWFya2Rvd25fdGV4dCwgdXBkYXRlZF9pZHM9W10pCgogICAgIyBBZGQgc2VudGluZWwgZW5kLgogICAgYmVuY2hlcyA9IGJlbmNoZXMgKyBbKGxlbihsaW5lcyksICJfX0VORF9fIildCiAgICB1cGRhdGVkOiBMaXN0W3N0cl0gPSBbXQoKICAgIGZvciAoc3RhcnQsIGJlbmNoX2lkKSwgKGVuZCwgXykgaW4gemlwKGJlbmNoZXMsIGJlbmNoZXNbMTpdKToKICAgICAgICBpZiBiZW5jaF9pZCA9PSAiX19FTkRfXyI6CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgc2VjdGlvbiA9IGxpbmVzW3N0YXJ0OmVuZF0KICAgICAgICAjIExvY2F0ZSBhbiBleGlzdGluZyBjb250cmFjdCBibG9jayB3aXRoaW4gdGhpcyBzZWN0aW9uLgogICAgICAgIGNvbnRyYWN0X3N0YXJ0ID0gTm9uZQogICAgICAgIGZvciBqIGluIHJhbmdlKDEsIGxlbihzZWN0aW9uKSk6CiAgICAgICAgICAgIGlmIHNlY3Rpb25bal0uc3RyaXAoKSA9PSBfQ09OVFJBQ1RfVElUTEU6CiAgICAgICAgICAgICAgICBjb250cmFjdF9zdGFydCA9IGoKICAgICAgICAgICAgICAgIGJyZWFrCgogICAgICAgIG5ld19ibG9jayA9IGNvbnRyYWN0X2Zvcl9pZChiZW5jaF9pZCkuc3BsaXRsaW5lcygpCiAgICAgICAgaWYgbm90IG5ld19ibG9jayBvciBuZXdfYmxvY2tbMF0uc3RyaXAoKSAhPSBfQ09OVFJBQ1RfVElUTEU6CiAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoImNvbnRyYWN0X2Zvcl9pZCBtdXN0IHJldHVybiBtYXJrZG93biBzdGFydGluZyB3aXRoICcjIyMgQ29udHJhY3QnIikKCiAgICAgICAgaWYgY29udHJhY3Rfc3RhcnQgaXMgTm9uZToKICAgICAgICAgICAgIyBJbnNlcnQgYWZ0ZXIgaGVhZGluZyBhbmQgYW4gb3B0aW9uYWwgZm9sbG93aW5nIGJsYW5rIGxpbmUuCiAgICAgICAgICAgIGluc2VydF9hdCA9IDEKICAgICAgICAgICAgd2hpbGUgaW5zZXJ0X2F0IDwgbGVuKHNlY3Rpb24pIGFuZCBzZWN0aW9uW2luc2VydF9hdF0uc3RyaXAoKSA9PSAiIjoKICAgICAgICAgICAgICAgIGluc2VydF9hdCArPSAxCiAgICAgICAgICAgIHNlY3Rpb24gPSBzZWN0aW9uWzppbnNlcnRfYXRdICsgWyIiXSArIG5ld19ibG9jayArIFsiIl0gKyBzZWN0aW9uW2luc2VydF9hdDpdCiAgICAgICAgICAgIHVwZGF0ZWQuYXBwZW5kKGJlbmNoX2lkKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgICMgUmVwbGFjZSB1bnRpbCBuZXh0IGxldmVsLTMgaGVhZGluZyBvciBlbmQtb2Ytc2VjdGlvbi4KICAgICAgICAgICAgY29udHJhY3RfZW5kID0gbGVuKHNlY3Rpb24pCiAgICAgICAgICAgIGgzID0gcmUuY29tcGlsZShyIl4jIyNccysiKQogICAgICAgICAgICBmb3IgayBpbiByYW5nZShjb250cmFjdF9zdGFydCArIDEsIGxlbihzZWN0aW9uKSk6CiAgICAgICAgICAgICAgICBpZiBoMy5tYXRjaChzZWN0aW9uW2tdKSBhbmQgc2VjdGlvbltrXS5zdHJpcCgpICE9IF9DT05UUkFDVF9USVRMRToKICAgICAgICAgICAgICAgICAgICBjb250cmFjdF9lbmQgPSBrCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgYmVmb3JlID0gc2VjdGlvbls6Y29udHJhY3Rfc3RhcnRdCiAgICAgICAgICAgIGFmdGVyID0gc2VjdGlvbltjb250cmFjdF9lbmQ6XQogICAgICAgICAgICAjIE5vcm1hbGl6ZSBzdXJyb3VuZGluZyBibGFuayBsaW5lcy4KICAgICAgICAgICAgd2hpbGUgYmVmb3JlIGFuZCBiZWZvcmVbLTFdLnN0cmlwKCkgPT0gIiI6CiAgICAgICAgICAgICAgICBiZWZvcmUucG9wKCkKICAgICAgICAgICAgd2hpbGUgYWZ0ZXIgYW5kIGFmdGVyWzBdLnN0cmlwKCkgPT0gIiI6CiAgICAgICAgICAgICAgICBhZnRlci5wb3AoMCkKICAgICAgICAgICAgc2VjdGlvbiA9IGJlZm9yZSArIFsiIl0gKyBuZXdfYmxvY2sgKyBbIiJdICsgYWZ0ZXIKICAgICAgICAgICAgdXBkYXRlZC5hcHBlbmQoYmVuY2hfaWQpCgogICAgICAgIGxpbmVzW3N0YXJ0OmVuZF0gPSBzZWN0aW9uCiAgICAgICAgIyBBZGp1c3Qgc3Vic2VxdWVudCBpbmRpY2VzIGJ5IHJlY29tcHV0aW5nIGhlYWRpbmdzIHdvdWxkIGJlIGV4cGVuc2l2ZTsgaW5zdGVhZAogICAgICAgICMgcmVzdGFydCBzY2FuIGJ5IHJlY29tcHV0aW5nIGJlbmNoZXMgb24gdGhlIG11dGF0ZWQgbGluZXMuCiAgICAgICAgIyBUaGUgbnVtYmVyIG9mIGJlbmNobWFya3MgaXMgc21hbGw7IHNpbXBsaWNpdHkgPiBtaWNyby1vcHRpbWl6YXRpb25zLgogICAgICAgIGJlbmNoZXMgPSBfZmluZF9oZWFkaW5ncyhsaW5lcywgYmVuY2hfcGF0KSArIFsobGVuKGxpbmVzKSwgIl9fRU5EX18iKV0KCiAgICByZXR1cm4gQ29udHJhY3RJbnNlcnRSZXN1bHQodGV4dD0iXFxuIi5qb2luKGxpbmVzKSArICgiIiBpZiBtYXJrZG93bl90ZXh0LmVuZHN3aXRoKCJcXG4iKSBlbHNlICIiKSwgdXBkYXRlZF9pZHM9dXBkYXRlZCkKCgpkZWYgcmV3cml0ZV9iZW5jaG1hcmtzX2ZpbGUoCiAgICBpbnB1dF9wYXRoOiBQYXRoLAogICAgb3V0cHV0X3BhdGg6IE9wdGlvbmFsW1BhdGhdID0gTm9uZSwKICAgIGNvbnRyYWN0X2Zvcl9pZDogT3B0aW9uYWxbQ2FsbGFibGVbW3N0cl0sIHN0cl1dID0gTm9uZSwKKSAtPiBMaXN0W3N0cl06CiAgICBcIlwiXCJSZXdyaXRlIGBpbnB1dF9wYXRoYCBpbnNlcnRpbmcvdXBkYXRpbmcgQ29udHJhY3Qgc2VjdGlvbnM7IHJldHVybnMgdXBkYXRlZCBpZHMuXCJcIlwiCiAgICBtZCA9IGlucHV0X3BhdGgucmVhZF90ZXh0KGVuY29kaW5nPSJ1dGYtOCIpCiAgICByZXMgPSB1cHNlcnRfY29udHJhY3Rfc2VjdGlvbnMobWQsIGNvbnRyYWN0X2Zvcl9pZD1jb250cmFjdF9mb3JfaWQpCiAgICBvdXRwID0gb3V0cHV0X3BhdGggb3IgaW5wdXRfcGF0aAogICAgb3V0cC53cml0ZV90ZXh0KHJlcy50ZXh0IGlmIHJlcy50ZXh0LmVuZHN3aXRoKCJcXG4iKSBlbHNlIHJlcy50ZXh0ICsgIlxcbiIsIGVuY29kaW5nPSJ1dGYtOCIpCiAgICByZXR1cm4gcmVzLnVwZGF0ZWRfaWRzCg==\"}\nDIR_STATE:[\"src/cosmo_contracts/__init__.py\",\"src/cosmo_contracts/__main__.py\",\"src/cosmo_contracts/cli.py\",\"src/cosmo_contracts/contracts.py\",\"src/cosmo_contracts/markdown.py\",\"src/cosmo_contracts/runner.py\",\"src/cosmo_contracts/schema.py\"]"
        }
      ],
      "role": "assistant"
    }
  ],
  "codeResults": []
}