{
  "content": "FILE_EXPORT:{\"path\":\"scripts/run_evidence_pack.py\",\"size\":3314,\"encoding\":\"base64\",\"sha256\":\"2241b7b19f31778c3dbbad7412097f15ca3f5dc9bee588e87d7fc5612f5b2670\",\"content\":\"IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwoiIiJDTEkgZW50cnlwb2ludCB0byBydW4gdGhlIGVuZC10by1lbmQgZXZpZGVuY2UtcGFjayBwaXBlbGluZS4KClRoaXMgc2NyaXB0IGRlbGVnYXRlcyB0byA6bW9kOmBzcmMucGlwZWxpbmVgIGFuZCBlbnN1cmVzIHRoZSBwcm9qZWN0IHJvb3QgaXMgb24KYGBzeXMucGF0aGBgIHdoZW4gaW52b2tlZCBhcyBgYHB5dGhvbiBzY3JpcHRzL3J1bl9ldmlkZW5jZV9wYWNrLnB5YGAuCiIiIgpmcm9tIF9fZnV0dXJlX18gaW1wb3J0IGFubm90YXRpb25zCgppbXBvcnQgYXJncGFyc2UKaW1wb3J0IHN5cwpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgRGljdCwgT3B0aW9uYWwKZGVmIF9hZGRfcHJvamVjdF9yb290X3RvX3N5c3BhdGgoKSAtPiBQYXRoOgogICAgIyBzY3JpcHRzLyAtPiBwcm9qZWN0X3Jvb3QvCiAgICBwcm9qZWN0X3Jvb3QgPSBQYXRoKF9fZmlsZV9fKS5yZXNvbHZlKCkucGFyZW50c1sxXQogICAgaWYgc3RyKHByb2plY3Rfcm9vdCkgbm90IGluIHN5cy5wYXRoOgogICAgICAgIHN5cy5wYXRoLmluc2VydCgwLCBzdHIocHJvamVjdF9yb290KSkKICAgIHJldHVybiBwcm9qZWN0X3Jvb3QKZGVmIF9wYXJzZV9hcmdzKGFyZ3Y6IE9wdGlvbmFsW2xpc3Rbc3RyXV0gPSBOb25lKSAtPiBhcmdwYXJzZS5OYW1lc3BhY2U6CiAgICBwID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoZGVzY3JpcHRpb249IlJ1biB0aGUgc2luZ2xlLWN5Y2xlIGV2aWRlbmNlIHBhY2sgcGlwZWxpbmUuIikKICAgIHAuYWRkX2FyZ3VtZW50KAogICAgICAgICItLW91dHB1dHMtZGlyIiwKICAgICAgICB0eXBlPVBhdGgsCiAgICAgICAgZGVmYXVsdD1Ob25lLAogICAgICAgIGhlbHA9IkRpcmVjdG9yeSB0byB3cml0ZSBhcnRpZmFjdHMgaW50byAoZGVmYXVsdDogPHJlcG8+L291dHB1dHMpLiIsCiAgICApCiAgICBwLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1zZWVkIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBkZWZhdWx0PTAsCiAgICAgICAgaGVscD0iRGV0ZXJtaW5pc3RpYyBzZWVkIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwaXBlbGluZSAoZGVmYXVsdDogMCkuIiwKICAgICkKICAgIHAuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXJ1bi10ZXN0cyIsCiAgICAgICAgYWN0aW9uPSJzdG9yZV90cnVlIiwKICAgICAgICBoZWxwPSJJZiBzdXBwb3J0ZWQgYnkgdGhlIHBpcGVsaW5lLCBleGVjdXRlIHNtb2tlIHRlc3RzIGFuZCB3cml0ZSB0ZXN0LmxvZy4iLAogICAgKQogICAgcC5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tcXVpZXQiLAogICAgICAgIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsCiAgICAgICAgaGVscD0iU3VwcHJlc3Mgbm9uLWVzc2VudGlhbCBzdGRvdXQgKGVycm9ycyBzdGlsbCBwcmludCkuIiwKICAgICkKICAgIHJldHVybiBwLnBhcnNlX2FyZ3MoYXJndikKZGVmIF9ydW5fcGlwZWxpbmUob3V0cHV0c19kaXI6IFBhdGgsIHNlZWQ6IGludCwgcnVuX3Rlc3RzOiBib29sKSAtPiBEaWN0W3N0ciwgQW55XToKICAgIHRyeToKICAgICAgICBmcm9tIHNyYyBpbXBvcnQgcGlwZWxpbmUgICMgdHlwZTogaWdub3JlCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6ICAjIHByYWdtYTogbm8gY292ZXIKICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoCiAgICAgICAgICAgICJDb3VsZCBub3QgaW1wb3J0IHNyYy5waXBlbGluZS4gRW5zdXJlIHlvdSBhcmUgcnVubmluZyBmcm9tIHRoZSByZXBvc2l0b3J5IHJvb3QgIgogICAgICAgICAgICAib3IgdGhhdCB0aGUgcHJvamVjdCBpcyBpbnN0YWxsZWQgYXMgYSBwYWNrYWdlLiIKICAgICAgICApIGZyb20gZQoKICAgICMgUHJlZmVyIGEgZGVkaWNhdGVkIGVudHJ5cG9pbnQgaWYgcHJlc2VudDsgb3RoZXJ3aXNlIGZhbGwgYmFjayB0byBhIGdlbmVyaWMgcnVuKCkuCiAgICBpZiBoYXNhdHRyKHBpcGVsaW5lLCAicnVuX2V2aWRlbmNlX3BhY2siKToKICAgICAgICBmbiA9IGdldGF0dHIocGlwZWxpbmUsICJydW5fZXZpZGVuY2VfcGFjayIpCiAgICAgICAgcmV0dXJuIGZuKG91dHB1dHNfZGlyPW91dHB1dHNfZGlyLCBzZWVkPXNlZWQsIHJ1bl90ZXN0cz1ydW5fdGVzdHMpCiAgICBpZiBoYXNhdHRyKHBpcGVsaW5lLCAicnVuIik6CiAgICAgICAgZm4gPSBnZXRhdHRyKHBpcGVsaW5lLCAicnVuIikKICAgICAgICB0cnk6CiAgICAgICAgICAgIHJldHVybiBmbihvdXRwdXRzX2Rpcj1vdXRwdXRzX2Rpciwgc2VlZD1zZWVkLCBydW5fdGVzdHM9cnVuX3Rlc3RzKQogICAgICAgIGV4Y2VwdCBUeXBlRXJyb3I6CiAgICAgICAgICAgICMgQmFjay1jb21wYXQ6IGFsbG93IG9sZGVyIHNpZ25hdHVyZSB3aXRob3V0IHJ1bl90ZXN0cy4KICAgICAgICAgICAgcmV0dXJuIGZuKG91dHB1dHNfZGlyPW91dHB1dHNfZGlyLCBzZWVkPXNlZWQpCiAgICByYWlzZSBSdW50aW1lRXJyb3IoInNyYy5waXBlbGluZSBpcyBtaXNzaW5nIGEgY2FsbGFibGUgcnVuX2V2aWRlbmNlX3BhY2soLi4uKSBvciBydW4oLi4uKS4iKQpkZWYgbWFpbihhcmd2OiBPcHRpb25hbFtsaXN0W3N0cl1dID0gTm9uZSkgLT4gaW50OgogICAgcHJvamVjdF9yb290ID0gX2FkZF9wcm9qZWN0X3Jvb3RfdG9fc3lzcGF0aCgpCiAgICBhcmdzID0gX3BhcnNlX2FyZ3MoYXJndikKCiAgICBvdXRwdXRzX2RpciA9IGFyZ3Mub3V0cHV0c19kaXIgb3IgKHByb2plY3Rfcm9vdCAvICJvdXRwdXRzIikKICAgIG91dHB1dHNfZGlyID0gb3V0cHV0c19kaXIucmVzb2x2ZSgpCgogICAgdHJ5OgogICAgICAgIHJlc3VsdCA9IF9ydW5fcGlwZWxpbmUob3V0cHV0c19kaXI9b3V0cHV0c19kaXIsIHNlZWQ9aW50KGFyZ3Muc2VlZCksIHJ1bl90ZXN0cz1ib29sKGFyZ3MucnVuX3Rlc3RzKSkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChmIkVSUk9SOiB7ZX0iLCBmaWxlPXN5cy5zdGRlcnIpCiAgICAgICAgcmV0dXJuIDIKCiAgICBpZiBub3QgYXJncy5xdWlldDoKICAgICAgICAjIEtlZXAgc3Rkb3V0IHNob3J0IHdoaWxlIHN0aWxsIGJlaW5nIHVzZWZ1bCBpbiBDSSBsb2dzLgogICAgICAgIHN0YXR1cyA9IHJlc3VsdC5nZXQoInN0YXR1cyIpIGlmIGlzaW5zdGFuY2UocmVzdWx0LCBkaWN0KSBlbHNlIE5vbmUKICAgICAgICBwcmludChmIk9LOiBwaXBlbGluZSBmaW5pc2hlZCAoc3RhdHVzPXtzdGF0dXMhcn0pIikKICAgICAgICBwcmludChmIk9LOiBvdXRwdXRzX2Rpcj17b3V0cHV0c19kaXJ9IikKICAgIHJldHVybiAwCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6ICAjIHByYWdtYTogbm8gY292ZXIKICAgIHJhaXNlIFN5c3RlbUV4aXQobWFpbigpKQo=\"}\nDIR_STATE:[\"scripts/ci_run.sh\",\"scripts/run_evidence_pack.py\"]",
  "reasoning": "",
  "responseId": "resp_06c1324fd1525b9000694b4be3ad688196a447df028b8224db",
  "model": "gpt-5.2-2025-12-11",
  "usage": {
    "input_tokens": 4125,
    "input_tokens_details": {
      "cached_tokens": 0
    },
    "output_tokens": 3101,
    "output_tokens_details": {
      "reasoning_tokens": 37
    },
    "total_tokens": 7226
  },
  "hadError": false,
  "errorType": null,
  "webSearchSources": [],
  "citations": [],
  "output": [
    {
      "id": "rs_06c1324fd1525b9000694b4be44d9881969b2afdb1882f30b7",
      "type": "reasoning",
      "summary": []
    },
    {
      "id": "ci_06c1324fd1525b9000694b4be4ff9081968fb719e916e74608",
      "type": "code_interpreter_call",
      "status": "completed",
      "code": "from pathlib import Path\nimport base64, json, hashlib, gzip\n\ntarget_path = Path('/mnt/data').joinpath('scripts/run_evidence_pack.py')\nassert target_path.is_file(), 'Expected scripts/run_evidence_pack.py to exist before export'\ndata = target_path.read_bytes()\npayload = {\n  'path': 'scripts/run_evidence_pack.py',\n  'size': len(data),\n  'encoding': 'base64',\n  'sha256': hashlib.sha256(data).hexdigest(),\n  'content': None\n}\nif len(data) > 20000:\n    compressed = gzip.compress(data)\n    payload['encoding'] = 'gzip+base64'\n    payload['content'] = base64.b64encode(compressed).decode('ascii')\nelse:\n    payload['content'] = base64.b64encode(data).decode('ascii')\n\nprint('FILE_EXPORT:' + json.dumps(payload, separators=(',', ':')))\nprint('DIR_STATE:' + json.dumps(sorted(str(p.relative_to(Path(\"/mnt/data\"))) for p in target_path.parent.glob('*') if p.is_file())))",
      "container_id": "cntr_694b4aec1e8081909daf775a3b668d2c0adc623df7df482c",
      "outputs": [
        {
          "type": "logs",
          "logs": "FILE_EXPORT:{\"path\":\"scripts/run_evidence_pack.py\",\"size\":3314,\"encoding\":\"base64\",\"sha256\":\"2241b7b19f31778c3dbbad7412097f15ca3f5dc9bee588e87d7fc5612f5b2670\",\"content\":\"IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwoiIiJDTEkgZW50cnlwb2ludCB0byBydW4gdGhlIGVuZC10by1lbmQgZXZpZGVuY2UtcGFjayBwaXBlbGluZS4KClRoaXMgc2NyaXB0IGRlbGVnYXRlcyB0byA6bW9kOmBzcmMucGlwZWxpbmVgIGFuZCBlbnN1cmVzIHRoZSBwcm9qZWN0IHJvb3QgaXMgb24KYGBzeXMucGF0aGBgIHdoZW4gaW52b2tlZCBhcyBgYHB5dGhvbiBzY3JpcHRzL3J1bl9ldmlkZW5jZV9wYWNrLnB5YGAuCiIiIgpmcm9tIF9fZnV0dXJlX18gaW1wb3J0IGFubm90YXRpb25zCgppbXBvcnQgYXJncGFyc2UKaW1wb3J0IHN5cwpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgRGljdCwgT3B0aW9uYWwKZGVmIF9hZGRfcHJvamVjdF9yb290X3RvX3N5c3BhdGgoKSAtPiBQYXRoOgogICAgIyBzY3JpcHRzLyAtPiBwcm9qZWN0X3Jvb3QvCiAgICBwcm9qZWN0X3Jvb3QgPSBQYXRoKF9fZmlsZV9fKS5yZXNvbHZlKCkucGFyZW50c1sxXQogICAgaWYgc3RyKHByb2plY3Rfcm9vdCkgbm90IGluIHN5cy5wYXRoOgogICAgICAgIHN5cy5wYXRoLmluc2VydCgwLCBzdHIocHJvamVjdF9yb290KSkKICAgIHJldHVybiBwcm9qZWN0X3Jvb3QKZGVmIF9wYXJzZV9hcmdzKGFyZ3Y6IE9wdGlvbmFsW2xpc3Rbc3RyXV0gPSBOb25lKSAtPiBhcmdwYXJzZS5OYW1lc3BhY2U6CiAgICBwID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoZGVzY3JpcHRpb249IlJ1biB0aGUgc2luZ2xlLWN5Y2xlIGV2aWRlbmNlIHBhY2sgcGlwZWxpbmUuIikKICAgIHAuYWRkX2FyZ3VtZW50KAogICAgICAgICItLW91dHB1dHMtZGlyIiwKICAgICAgICB0eXBlPVBhdGgsCiAgICAgICAgZGVmYXVsdD1Ob25lLAogICAgICAgIGhlbHA9IkRpcmVjdG9yeSB0byB3cml0ZSBhcnRpZmFjdHMgaW50byAoZGVmYXVsdDogPHJlcG8+L291dHB1dHMpLiIsCiAgICApCiAgICBwLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1zZWVkIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBkZWZhdWx0PTAsCiAgICAgICAgaGVscD0iRGV0ZXJtaW5pc3RpYyBzZWVkIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwaXBlbGluZSAoZGVmYXVsdDogMCkuIiwKICAgICkKICAgIHAuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXJ1bi10ZXN0cyIsCiAgICAgICAgYWN0aW9uPSJzdG9yZV90cnVlIiwKICAgICAgICBoZWxwPSJJZiBzdXBwb3J0ZWQgYnkgdGhlIHBpcGVsaW5lLCBleGVjdXRlIHNtb2tlIHRlc3RzIGFuZCB3cml0ZSB0ZXN0LmxvZy4iLAogICAgKQogICAgcC5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tcXVpZXQiLAogICAgICAgIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsCiAgICAgICAgaGVscD0iU3VwcHJlc3Mgbm9uLWVzc2VudGlhbCBzdGRvdXQgKGVycm9ycyBzdGlsbCBwcmludCkuIiwKICAgICkKICAgIHJldHVybiBwLnBhcnNlX2FyZ3MoYXJndikKZGVmIF9ydW5fcGlwZWxpbmUob3V0cHV0c19kaXI6IFBhdGgsIHNlZWQ6IGludCwgcnVuX3Rlc3RzOiBib29sKSAtPiBEaWN0W3N0ciwgQW55XToKICAgIHRyeToKICAgICAgICBmcm9tIHNyYyBpbXBvcnQgcGlwZWxpbmUgICMgdHlwZTogaWdub3JlCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6ICAjIHByYWdtYTogbm8gY292ZXIKICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoCiAgICAgICAgICAgICJDb3VsZCBub3QgaW1wb3J0IHNyYy5waXBlbGluZS4gRW5zdXJlIHlvdSBhcmUgcnVubmluZyBmcm9tIHRoZSByZXBvc2l0b3J5IHJvb3QgIgogICAgICAgICAgICAib3IgdGhhdCB0aGUgcHJvamVjdCBpcyBpbnN0YWxsZWQgYXMgYSBwYWNrYWdlLiIKICAgICAgICApIGZyb20gZQoKICAgICMgUHJlZmVyIGEgZGVkaWNhdGVkIGVudHJ5cG9pbnQgaWYgcHJlc2VudDsgb3RoZXJ3aXNlIGZhbGwgYmFjayB0byBhIGdlbmVyaWMgcnVuKCkuCiAgICBpZiBoYXNhdHRyKHBpcGVsaW5lLCAicnVuX2V2aWRlbmNlX3BhY2siKToKICAgICAgICBmbiA9IGdldGF0dHIocGlwZWxpbmUsICJydW5fZXZpZGVuY2VfcGFjayIpCiAgICAgICAgcmV0dXJuIGZuKG91dHB1dHNfZGlyPW91dHB1dHNfZGlyLCBzZWVkPXNlZWQsIHJ1bl90ZXN0cz1ydW5fdGVzdHMpCiAgICBpZiBoYXNhdHRyKHBpcGVsaW5lLCAicnVuIik6CiAgICAgICAgZm4gPSBnZXRhdHRyKHBpcGVsaW5lLCAicnVuIikKICAgICAgICB0cnk6CiAgICAgICAgICAgIHJldHVybiBmbihvdXRwdXRzX2Rpcj1vdXRwdXRzX2Rpciwgc2VlZD1zZWVkLCBydW5fdGVzdHM9cnVuX3Rlc3RzKQogICAgICAgIGV4Y2VwdCBUeXBlRXJyb3I6CiAgICAgICAgICAgICMgQmFjay1jb21wYXQ6IGFsbG93IG9sZGVyIHNpZ25hdHVyZSB3aXRob3V0IHJ1bl90ZXN0cy4KICAgICAgICAgICAgcmV0dXJuIGZuKG91dHB1dHNfZGlyPW91dHB1dHNfZGlyLCBzZWVkPXNlZWQpCiAgICByYWlzZSBSdW50aW1lRXJyb3IoInNyYy5waXBlbGluZSBpcyBtaXNzaW5nIGEgY2FsbGFibGUgcnVuX2V2aWRlbmNlX3BhY2soLi4uKSBvciBydW4oLi4uKS4iKQpkZWYgbWFpbihhcmd2OiBPcHRpb25hbFtsaXN0W3N0cl1dID0gTm9uZSkgLT4gaW50OgogICAgcHJvamVjdF9yb290ID0gX2FkZF9wcm9qZWN0X3Jvb3RfdG9fc3lzcGF0aCgpCiAgICBhcmdzID0gX3BhcnNlX2FyZ3MoYXJndikKCiAgICBvdXRwdXRzX2RpciA9IGFyZ3Mub3V0cHV0c19kaXIgb3IgKHByb2plY3Rfcm9vdCAvICJvdXRwdXRzIikKICAgIG91dHB1dHNfZGlyID0gb3V0cHV0c19kaXIucmVzb2x2ZSgpCgogICAgdHJ5OgogICAgICAgIHJlc3VsdCA9IF9ydW5fcGlwZWxpbmUob3V0cHV0c19kaXI9b3V0cHV0c19kaXIsIHNlZWQ9aW50KGFyZ3Muc2VlZCksIHJ1bl90ZXN0cz1ib29sKGFyZ3MucnVuX3Rlc3RzKSkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChmIkVSUk9SOiB7ZX0iLCBmaWxlPXN5cy5zdGRlcnIpCiAgICAgICAgcmV0dXJuIDIKCiAgICBpZiBub3QgYXJncy5xdWlldDoKICAgICAgICAjIEtlZXAgc3Rkb3V0IHNob3J0IHdoaWxlIHN0aWxsIGJlaW5nIHVzZWZ1bCBpbiBDSSBsb2dzLgogICAgICAgIHN0YXR1cyA9IHJlc3VsdC5nZXQoInN0YXR1cyIpIGlmIGlzaW5zdGFuY2UocmVzdWx0LCBkaWN0KSBlbHNlIE5vbmUKICAgICAgICBwcmludChmIk9LOiBwaXBlbGluZSBmaW5pc2hlZCAoc3RhdHVzPXtzdGF0dXMhcn0pIikKICAgICAgICBwcmludChmIk9LOiBvdXRwdXRzX2Rpcj17b3V0cHV0c19kaXJ9IikKICAgIHJldHVybiAwCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6ICAjIHByYWdtYTogbm8gY292ZXIKICAgIHJhaXNlIFN5c3RlbUV4aXQobWFpbigpKQo=\"}\nDIR_STATE:[\"scripts/ci_run.sh\", \"scripts/run_evidence_pack.py\"]\n"
        }
      ]
    },
    {
      "id": "msg_06c1324fd1525b9000694b4be7f1d881968467a234698c39c6",
      "type": "message",
      "status": "completed",
      "content": [
        {
          "type": "output_text",
          "annotations": [],
          "logprobs": [],
          "text": "FILE_EXPORT:{\"path\":\"scripts/run_evidence_pack.py\",\"size\":3314,\"encoding\":\"base64\",\"sha256\":\"2241b7b19f31778c3dbbad7412097f15ca3f5dc9bee588e87d7fc5612f5b2670\",\"content\":\"IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwoiIiJDTEkgZW50cnlwb2ludCB0byBydW4gdGhlIGVuZC10by1lbmQgZXZpZGVuY2UtcGFjayBwaXBlbGluZS4KClRoaXMgc2NyaXB0IGRlbGVnYXRlcyB0byA6bW9kOmBzcmMucGlwZWxpbmVgIGFuZCBlbnN1cmVzIHRoZSBwcm9qZWN0IHJvb3QgaXMgb24KYGBzeXMucGF0aGBgIHdoZW4gaW52b2tlZCBhcyBgYHB5dGhvbiBzY3JpcHRzL3J1bl9ldmlkZW5jZV9wYWNrLnB5YGAuCiIiIgpmcm9tIF9fZnV0dXJlX18gaW1wb3J0IGFubm90YXRpb25zCgppbXBvcnQgYXJncGFyc2UKaW1wb3J0IHN5cwpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgKZnJvbSB0eXBpbmcgaW1wb3J0IEFueSwgRGljdCwgT3B0aW9uYWwKZGVmIF9hZGRfcHJvamVjdF9yb290X3RvX3N5c3BhdGgoKSAtPiBQYXRoOgogICAgIyBzY3JpcHRzLyAtPiBwcm9qZWN0X3Jvb3QvCiAgICBwcm9qZWN0X3Jvb3QgPSBQYXRoKF9fZmlsZV9fKS5yZXNvbHZlKCkucGFyZW50c1sxXQogICAgaWYgc3RyKHByb2plY3Rfcm9vdCkgbm90IGluIHN5cy5wYXRoOgogICAgICAgIHN5cy5wYXRoLmluc2VydCgwLCBzdHIocHJvamVjdF9yb290KSkKICAgIHJldHVybiBwcm9qZWN0X3Jvb3QKZGVmIF9wYXJzZV9hcmdzKGFyZ3Y6IE9wdGlvbmFsW2xpc3Rbc3RyXV0gPSBOb25lKSAtPiBhcmdwYXJzZS5OYW1lc3BhY2U6CiAgICBwID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoZGVzY3JpcHRpb249IlJ1biB0aGUgc2luZ2xlLWN5Y2xlIGV2aWRlbmNlIHBhY2sgcGlwZWxpbmUuIikKICAgIHAuYWRkX2FyZ3VtZW50KAogICAgICAgICItLW91dHB1dHMtZGlyIiwKICAgICAgICB0eXBlPVBhdGgsCiAgICAgICAgZGVmYXVsdD1Ob25lLAogICAgICAgIGhlbHA9IkRpcmVjdG9yeSB0byB3cml0ZSBhcnRpZmFjdHMgaW50byAoZGVmYXVsdDogPHJlcG8+L291dHB1dHMpLiIsCiAgICApCiAgICBwLmFkZF9hcmd1bWVudCgKICAgICAgICAiLS1zZWVkIiwKICAgICAgICB0eXBlPWludCwKICAgICAgICBkZWZhdWx0PTAsCiAgICAgICAgaGVscD0iRGV0ZXJtaW5pc3RpYyBzZWVkIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBwaXBlbGluZSAoZGVmYXVsdDogMCkuIiwKICAgICkKICAgIHAuYWRkX2FyZ3VtZW50KAogICAgICAgICItLXJ1bi10ZXN0cyIsCiAgICAgICAgYWN0aW9uPSJzdG9yZV90cnVlIiwKICAgICAgICBoZWxwPSJJZiBzdXBwb3J0ZWQgYnkgdGhlIHBpcGVsaW5lLCBleGVjdXRlIHNtb2tlIHRlc3RzIGFuZCB3cml0ZSB0ZXN0LmxvZy4iLAogICAgKQogICAgcC5hZGRfYXJndW1lbnQoCiAgICAgICAgIi0tcXVpZXQiLAogICAgICAgIGFjdGlvbj0ic3RvcmVfdHJ1ZSIsCiAgICAgICAgaGVscD0iU3VwcHJlc3Mgbm9uLWVzc2VudGlhbCBzdGRvdXQgKGVycm9ycyBzdGlsbCBwcmludCkuIiwKICAgICkKICAgIHJldHVybiBwLnBhcnNlX2FyZ3MoYXJndikKZGVmIF9ydW5fcGlwZWxpbmUob3V0cHV0c19kaXI6IFBhdGgsIHNlZWQ6IGludCwgcnVuX3Rlc3RzOiBib29sKSAtPiBEaWN0W3N0ciwgQW55XToKICAgIHRyeToKICAgICAgICBmcm9tIHNyYyBpbXBvcnQgcGlwZWxpbmUgICMgdHlwZTogaWdub3JlCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6ICAjIHByYWdtYTogbm8gY292ZXIKICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoCiAgICAgICAgICAgICJDb3VsZCBub3QgaW1wb3J0IHNyYy5waXBlbGluZS4gRW5zdXJlIHlvdSBhcmUgcnVubmluZyBmcm9tIHRoZSByZXBvc2l0b3J5IHJvb3QgIgogICAgICAgICAgICAib3IgdGhhdCB0aGUgcHJvamVjdCBpcyBpbnN0YWxsZWQgYXMgYSBwYWNrYWdlLiIKICAgICAgICApIGZyb20gZQoKICAgICMgUHJlZmVyIGEgZGVkaWNhdGVkIGVudHJ5cG9pbnQgaWYgcHJlc2VudDsgb3RoZXJ3aXNlIGZhbGwgYmFjayB0byBhIGdlbmVyaWMgcnVuKCkuCiAgICBpZiBoYXNhdHRyKHBpcGVsaW5lLCAicnVuX2V2aWRlbmNlX3BhY2siKToKICAgICAgICBmbiA9IGdldGF0dHIocGlwZWxpbmUsICJydW5fZXZpZGVuY2VfcGFjayIpCiAgICAgICAgcmV0dXJuIGZuKG91dHB1dHNfZGlyPW91dHB1dHNfZGlyLCBzZWVkPXNlZWQsIHJ1bl90ZXN0cz1ydW5fdGVzdHMpCiAgICBpZiBoYXNhdHRyKHBpcGVsaW5lLCAicnVuIik6CiAgICAgICAgZm4gPSBnZXRhdHRyKHBpcGVsaW5lLCAicnVuIikKICAgICAgICB0cnk6CiAgICAgICAgICAgIHJldHVybiBmbihvdXRwdXRzX2Rpcj1vdXRwdXRzX2Rpciwgc2VlZD1zZWVkLCBydW5fdGVzdHM9cnVuX3Rlc3RzKQogICAgICAgIGV4Y2VwdCBUeXBlRXJyb3I6CiAgICAgICAgICAgICMgQmFjay1jb21wYXQ6IGFsbG93IG9sZGVyIHNpZ25hdHVyZSB3aXRob3V0IHJ1bl90ZXN0cy4KICAgICAgICAgICAgcmV0dXJuIGZuKG91dHB1dHNfZGlyPW91dHB1dHNfZGlyLCBzZWVkPXNlZWQpCiAgICByYWlzZSBSdW50aW1lRXJyb3IoInNyYy5waXBlbGluZSBpcyBtaXNzaW5nIGEgY2FsbGFibGUgcnVuX2V2aWRlbmNlX3BhY2soLi4uKSBvciBydW4oLi4uKS4iKQpkZWYgbWFpbihhcmd2OiBPcHRpb25hbFtsaXN0W3N0cl1dID0gTm9uZSkgLT4gaW50OgogICAgcHJvamVjdF9yb290ID0gX2FkZF9wcm9qZWN0X3Jvb3RfdG9fc3lzcGF0aCgpCiAgICBhcmdzID0gX3BhcnNlX2FyZ3MoYXJndikKCiAgICBvdXRwdXRzX2RpciA9IGFyZ3Mub3V0cHV0c19kaXIgb3IgKHByb2plY3Rfcm9vdCAvICJvdXRwdXRzIikKICAgIG91dHB1dHNfZGlyID0gb3V0cHV0c19kaXIucmVzb2x2ZSgpCgogICAgdHJ5OgogICAgICAgIHJlc3VsdCA9IF9ydW5fcGlwZWxpbmUob3V0cHV0c19kaXI9b3V0cHV0c19kaXIsIHNlZWQ9aW50KGFyZ3Muc2VlZCksIHJ1bl90ZXN0cz1ib29sKGFyZ3MucnVuX3Rlc3RzKSkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwcmludChmIkVSUk9SOiB7ZX0iLCBmaWxlPXN5cy5zdGRlcnIpCiAgICAgICAgcmV0dXJuIDIKCiAgICBpZiBub3QgYXJncy5xdWlldDoKICAgICAgICAjIEtlZXAgc3Rkb3V0IHNob3J0IHdoaWxlIHN0aWxsIGJlaW5nIHVzZWZ1bCBpbiBDSSBsb2dzLgogICAgICAgIHN0YXR1cyA9IHJlc3VsdC5nZXQoInN0YXR1cyIpIGlmIGlzaW5zdGFuY2UocmVzdWx0LCBkaWN0KSBlbHNlIE5vbmUKICAgICAgICBwcmludChmIk9LOiBwaXBlbGluZSBmaW5pc2hlZCAoc3RhdHVzPXtzdGF0dXMhcn0pIikKICAgICAgICBwcmludChmIk9LOiBvdXRwdXRzX2Rpcj17b3V0cHV0c19kaXJ9IikKICAgIHJldHVybiAwCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6ICAjIHByYWdtYTogbm8gY292ZXIKICAgIHJhaXNlIFN5c3RlbUV4aXQobWFpbigpKQo=\"}\nDIR_STATE:[\"scripts/ci_run.sh\",\"scripts/run_evidence_pack.py\"]"
        }
      ],
      "role": "assistant"
    }
  ],
  "codeResults": []
}